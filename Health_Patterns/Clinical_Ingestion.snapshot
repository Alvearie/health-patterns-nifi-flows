{
  "header" : {
    "dataModelVersion" : "3"
  },
  "content" : {
    "flowSnapshot" : {
      "externalControllerServices" : { },
      "flowContents" : {
        "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "id" : "3f4a9f47-38bb-306f-a1c9-191380b381cb",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "5c2f7eef-0105-3303-8f72-b16325e7368c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
            "name" : "Enriched FHIR resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "d487faa6-2f78-37b9-8698-192cdca889f3",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "56dd183e-d24d-317a-9075-37d69bb21be4",
            "name" : "Consume From Kafka Topic",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "b921d722-5941-31a9-8a23-427a5fbf9090",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
            "name" : "Invalid FHIR Data",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
            "name" : "FHIR resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "c02a4656-eb6e-321e-9d94-6cfe0b5f84bd",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "c653b104-41af-36c2-a583-56bdacb80c47",
            "name" : "Valid FHIR Data",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "7c12a68d-aa68-3e8a-978f-d3d6e94d6a0d",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
            "name" : "ListenHTTP",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "31696a75-2651-3b81-86e7-cd47ee9c2669",
            "name" : "Success",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "63c38adf-95fe-3871-b053-b4231df3fda3",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "id" : "2ee0797b-15d9-32cb-90a3-740ae7c12d88",
            "name" : "Success",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2840.0,
            "y" : 3592.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "71a28556-726a-31dd-8f70-c6ec4a225938",
            "name" : "Warning",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "388989b9-4f5a-3127-a4c0-8786ac8dc780",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "id" : "32a28f05-3da5-3def-a2be-c1a6fb8d80a6",
            "name" : "Warning",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2236.3291015625,
            "y" : 3128.172119140625
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "2be8a00b-07f1-3025-8c0a-42d245f6ac3e",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "09d87bb3-9dd9-3536-b111-03d9d49ab33c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "22182f75-4fb7-34be-afeb-62c56ec96f8f",
            "name" : "DeID FHIR Response",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2236.3291015625,
            "y" : 3208.172119140625
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "2be8a00b-07f1-3025-8c0a-42d245f6ac3e",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "32156442-80eb-3c02-bcd9-ff7f109dd1c7",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "519fb1ad-adc7-310d-921d-ea273ef35367",
            "name" : "DeID FHIR Resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 3240.0,
            "y" : 2312.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "813382a6-2b7f-3d74-8bcf-6d5122e46985",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2384.0,
            "y" : 2448.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "id" : "cee78597-5464-390c-9871-d205fc6d342f",
            "name" : "FHIR Resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "0f0d881f-94c5-3c65-82ef-6c0c67ab796f",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "848d1c9d-33c7-31dd-b774-64706b2ee955",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "59f220e8-5232-3976-b5df-2816ea6da8a2",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 3136.0,
            "y" : 3152.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "099b9b1c-73d1-33c6-bcc4-3db90568c9fd",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "id" : "09bdc93a-e1d3-3393-9998-0b2026c86dcc",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
            "name" : "FHIR Resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "f7362393-7222-3599-b2e0-264d5db92aa1",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "id" : "bcca42dd-fc38-3451-8149-36f63778fa40",
            "name" : "Clean FHIR Resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2744.0,
            "y" : 2448.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "id" : "cee78597-5464-390c-9871-d205fc6d342f",
            "name" : "FHIR Resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "aaea8778-25bc-30d0-a715-9c3ccf29b54e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "HL7 data not detected" ],
          "source" : {
            "comments" : "",
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "2313b44f-03b6-3094-9a06-98c43b644e2b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "id" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2312.0,
            "y" : 3592.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
            "id" : "df2bf961-ba94-3117-880f-b681af37a74d",
            "name" : "Aborted",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "e6d7becd-aa64-3ac2-aa0f-d1ce54898761",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "id" : "1c54dbd5-20e6-3523-81d1-7ca4cf3f4ee2",
            "name" : "Aborted",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          } ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
          "name" : "De-Identification DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          } ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "8c9b3851-1efb-3e9d-af58-b65bdd2abc8b",
          "name" : "Terminology Mapping DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        }, {
          "bundle" : {
            "artifact" : "nifi-lookup-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.lookup.LookupService"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.lookup.StringLookupService"
          } ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "0e42653d-d17f-32f4-ba0a-98e1e1a61825",
          "name" : "StructureDefinition <-> ValueSet SimpleKeyValueLookupService",
          "properties" : {
            "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : "http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth",
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : "http://hl7.org/fhir/us/core/ValueSet/birthsex"
          },
          "propertyDescriptors" : {
            "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : {
              "displayName" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
              "identifiesControllerService" : false,
              "name" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
              "sensitive" : false
            },
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : {
              "displayName" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
              "identifiesControllerService" : false,
              "name" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.lookup.SimpleKeyValueLookupService"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "ce834908-67be-35cb-bec3-adf30c523e54",
          "name" : "Clinical Ingestion DistributedMapCacheServer",
          "properties" : {
            "Eviction Strategy" : "Least Frequently Used",
            "Port" : "4557",
            "Maximum Cache Entries" : "10000"
          },
          "propertyDescriptors" : {
            "Eviction Strategy" : {
              "displayName" : "Eviction Strategy",
              "identifiesControllerService" : false,
              "name" : "Eviction Strategy",
              "sensitive" : false
            },
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Persistence Directory" : {
              "displayName" : "Persistence Directory",
              "identifiesControllerService" : false,
              "name" : "Persistence Directory",
              "sensitive" : false
            },
            "Port" : {
              "displayName" : "Port",
              "identifiesControllerService" : false,
              "name" : "Port",
              "sensitive" : false
            },
            "Maximum Cache Entries" : {
              "displayName" : "Maximum Cache Entries",
              "identifiesControllerService" : false,
              "name" : "Maximum Cache Entries",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.server.map.DistributedMapCacheServer"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          } ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
          "name" : "Send To FHIR DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        } ],
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "identifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
        "inputPorts" : [ ],
        "labels" : [ ],
        "name" : "Clinical Ingestion",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "df2bf961-ba94-3117-880f-b681af37a74d",
          "name" : "Aborted",
          "position" : {
            "x" : 2176.0,
            "y" : 3656.0
          },
          "type" : "OUTPUT_PORT"
        }, {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "71a28556-726a-31dd-8f70-c6ec4a225938",
          "name" : "Warning",
          "position" : {
            "x" : 2736.0,
            "y" : 3656.0
          },
          "type" : "OUTPUT_PORT"
        }, {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "31696a75-2651-3b81-86e7-cd47ee9c2669",
          "name" : "Success",
          "position" : {
            "x" : 2456.0,
            "y" : 3656.0
          },
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "cms_adapter_parameters",
        "position" : {
          "x" : 320.0,
          "y" : -168.0
        },
        "processGroups" : [ {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "e4047c97-d2ff-3d13-a4cf-35582a5f8dd5",
              "name" : "Update Content-Type",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "2cf2c8f6-9a25-3cb5-9c1a-f3a00a911870",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Found Content-Type" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "79db015f-e7f7-340c-8abf-8611bf54d5ef",
              "name" : "If Content-Type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 2306.346923828125,
              "y" : 3778.33837890625
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a1c05f08-9411-3256-addb-0d262c4bbcfc",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "f658750c-3101-355d-a96f-2e77d5bd1d11",
              "name" : "Find resourceId in JSON",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "cea67bb6-00c7-3f92-bce1-7371eb8da4bb",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "6509c387-6fc3-3983-a979-17f972d43eb7",
              "name" : "Always Set mime.type ",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "64c1f2f1-d585-3236-ab41-faba15cebd7b",
              "name" : "if Mime.Type Exists",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a9168462-a8e3-3756-a724-4aedb7cb3adf",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "80659eed-9757-3131-8a19-2a1dcf95ed3b",
              "name" : "Update content-type",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "80659eed-9757-3131-8a19-2a1dcf95ed3b",
              "name" : "Update content-type",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "d0c9e965-3c2b-367c-a916-65874bf10e19",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Found content-type" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "7177550b-6077-33cf-9591-f17f4dae3061",
              "name" : "if content-type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "f3e1c6e8-9c00-3ed8-a176-4c07c9a20e5c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "99f16e3f-8e97-35db-886e-5e8bf9df91d0",
              "name" : "Branch on resourceId",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "95a73765-c48a-3bc1-a82c-1b20b1b15292",
              "name" : "Generate and Add resourceId to Json",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "4e25ed77-fe93-3720-b12f-25f67700b906",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "resourceIdIsNull" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "99f16e3f-8e97-35db-886e-5e8bf9df91d0",
              "name" : "Branch on resourceId",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "64c1f2f1-d585-3236-ab41-faba15cebd7b",
              "name" : "if Mime.Type Exists",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a1c5123e-d4e5-3464-b95a-38b5d254cb0b",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "7177550b-6077-33cf-9591-f17f4dae3061",
              "name" : "if content-type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 2332.572021484375,
              "y" : 2420.3349609375
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "99f16e3f-8e97-35db-886e-5e8bf9df91d0",
              "name" : "Branch on resourceId",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "30071dcc-0092-3a27-90b6-c437f164a79e",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "f658750c-3101-355d-a96f-2e77d5bd1d11",
              "name" : "Find resourceId in JSON",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "6509c387-6fc3-3983-a979-17f972d43eb7",
              "name" : "Always Set mime.type ",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "53771549-e6b6-3205-85d1-b87d56fac104",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "fd50d731-a632-395b-a281-41939d92390d",
              "name" : "Update Mime.Type",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "99f16e3f-8e97-35db-886e-5e8bf9df91d0",
              "name" : "Branch on resourceId",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a3fdc0e1-6109-3f1e-a51e-93a0dd0525dd",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "matched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "f658750c-3101-355d-a96f-2e77d5bd1d11",
              "name" : "Find resourceId in JSON",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3272.0,
              "y" : 3032.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "4625b360-fcce-351c-9eb1-d8c04c9b0096",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "a64a0cc4-afdf-355e-a250-6cdc882d8ef2",
              "name" : "Update resourceId Attribute with current value",
              "type" : "PROCESSOR"
            },
            "zIndex" : 2
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3272.0,
              "y" : 2752.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "bca79b15-813d-3ccd-95aa-d95df99f88d3",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "95a73765-c48a-3bc1-a82c-1b20b1b15292",
              "name" : "Generate and Add resourceId to Json",
              "type" : "PROCESSOR"
            },
            "zIndex" : 1
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "fd50d731-a632-395b-a281-41939d92390d",
              "name" : "Update Mime.Type",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "695f861b-6781-3efd-8dac-1fd0f282202d",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Found Mime.Type" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "64c1f2f1-d585-3236-ab41-faba15cebd7b",
              "name" : "if Mime.Type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "bcca42dd-fc38-3451-8149-36f63778fa40",
              "name" : "Clean FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a47238b9-1028-30b5-bc8f-329a52b4acc6",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "02fb1cb3-eec7-389d-9515-f35861091d5d",
              "name" : "Add Batch IDs",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3272.0,
              "y" : 2288.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "2d8f689c-9e2b-3531-b992-6e648274e9a2",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "f658750c-3101-355d-a96f-2e77d5bd1d11",
              "name" : "Find resourceId in JSON",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "7177550b-6077-33cf-9591-f17f4dae3061",
              "name" : "if content-type Exists",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "01d27264-90cf-36a2-8af3-b879cbeb7d42",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "79db015f-e7f7-340c-8abf-8611bf54d5ef",
              "name" : "If Content-Type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "a64a0cc4-afdf-355e-a250-6cdc882d8ef2",
              "name" : "Update resourceId Attribute with current value",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "2529e755-788e-3c12-ad8a-4992c5ca2898",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "95a73765-c48a-3bc1-a82c-1b20b1b15292",
              "name" : "Generate and Add resourceId to Json",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "a64a0cc4-afdf-355e-a250-6cdc882d8ef2",
              "name" : "Update resourceId Attribute with current value",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "322f6ca0-2f70-3e03-9019-af580e425175",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "02fb1cb3-eec7-389d-9515-f35861091d5d",
              "name" : "Add Batch IDs",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "def8262f-2427-3bbd-b36b-fddeed3e267a",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
              "name" : "Add Common Attributes",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "7177550b-6077-33cf-9591-f17f4dae3061",
              "name" : "if content-type Exists",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "07ed5cb6-cab8-3fe4-a8ff-9f10510573f4",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "e4047c97-d2ff-3d13-a4cf-35582a5f8dd5",
              "name" : "Update Content-Type",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "79db015f-e7f7-340c-8abf-8611bf54d5ef",
              "name" : "If Content-Type Exists",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "3083e4e6-82ef-3020-b5c0-54fe0bb7767f",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "cee78597-5464-390c-9871-d205fc6d342f",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
              "name" : "Add Common Attributes",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "826a974c-02bd-3775-8ab7-2bcc81d61d04",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "matched", "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "a64a0cc4-afdf-355e-a250-6cdc882d8ef2",
              "name" : "Update resourceId Attribute with current value",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "6509c387-6fc3-3983-a979-17f972d43eb7",
              "name" : "Always Set mime.type ",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "24b1b030-58d3-3333-9575-a72bbddc1318",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
              "id" : "64c1f2f1-d585-3236-ab41-faba15cebd7b",
              "name" : "if Mime.Type Exists",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "cee78597-5464-390c-9871-d205fc6d342f",
            "name" : "FHIR Resource",
            "position" : {
              "x" : 2184.0,
              "y" : 1008.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ {
            "componentType" : "LABEL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "height" : 880.0,
            "identifier" : "cca725a3-96cd-3b1b-8164-4b9990619e45",
            "label" : "Four different \"type\" values might be set: Content-Type, content-type, Mime.Type, and mime.type. If any are set, update them \nto \"application/json\".  Always set \"mime.type\" so Nifi can properly format the FHIR json for the rest of the flow.",
            "position" : {
              "x" : 2088.0,
              "y" : 1192.0
            },
            "style" : {
              "font-size" : "18px"
            },
            "width" : 1040.0
          }, {
            "componentType" : "LABEL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "height" : 944.0,
            "identifier" : "7d482a8f-215c-32a5-b685-334324151f2f",
            "label" : "Make sure resource id value is set for FHIR resource",
            "position" : {
              "x" : 2088.0,
              "y" : 2192.0
            },
            "style" : {
              "font-size" : "18px"
            },
            "width" : 1032.0
          } ],
          "name" : "Clean up Input Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "28b8bf7e-dcb1-3549-a6be-2bbb305709b6",
            "name" : "Failure",
            "position" : {
              "x" : 3152.0,
              "y" : 3768.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "bcca42dd-fc38-3451-8149-36f63778fa40",
            "name" : "Clean FHIR Resource",
            "position" : {
              "x" : 2464.0,
              "y" : 3680.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "cms_adapter_parameters",
          "position" : {
            "x" : 2384.0,
            "y" : 2520.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "e4047c97-d2ff-3d13-a4cf-35582a5f8dd5",
            "name" : "Update Content-Type",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2752.0,
              "y" : 1264.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "Content-Type" : "application/json"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "Content-Type" : {
                "displayName" : "Content-Type",
                "identifiesControllerService" : false,
                "name" : "Content-Type",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "fd50d731-a632-395b-a281-41939d92390d",
            "name" : "Update Mime.Type",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2752.0,
              "y" : 1688.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "Mime.Type" : "application/json"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Mime.Type" : {
                "displayName" : "Mime.Type",
                "identifiesControllerService" : false,
                "name" : "Mime.Type",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "80659eed-9757-3131-8a19-2a1dcf95ed3b",
            "name" : "Update content-type",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2752.0,
              "y" : 1480.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "content-type" : "application/json"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "content-type" : {
                "displayName" : "content-type",
                "identifiesControllerService" : false,
                "name" : "content-type",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "6509c387-6fc3-3983-a979-17f972d43eb7",
            "name" : "Always Set mime.type ",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 1928.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "mime.type" : "application/json"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "mime.type" : {
                "displayName" : "mime.type",
                "identifiesControllerService" : false,
                "name" : "mime.type",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
            "name" : "Add Common Attributes",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 3256.0
            },
            "properties" : {
              "batchName" : "batch_${random():mod(89999):plus(10000)}",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "FHIRPreferSetting" : "minimal",
              "kafka.topic" : "#{kafka.topic.in}",
              "failureTopic" : "#{kafka.topic.in}.error",
              "tenant" : "default",
              "startDate" : "${now():format(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")} \n"
            },
            "propertyDescriptors" : {
              "batchName" : {
                "displayName" : "batchName",
                "identifiesControllerService" : false,
                "name" : "batchName",
                "sensitive" : false
              },
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "FHIRPreferSetting" : {
                "displayName" : "FHIRPreferSetting",
                "identifiesControllerService" : false,
                "name" : "FHIRPreferSetting",
                "sensitive" : false
              },
              "kafka.topic" : {
                "displayName" : "kafka.topic",
                "identifiesControllerService" : false,
                "name" : "kafka.topic",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "failureTopic" : {
                "displayName" : "failureTopic",
                "identifiesControllerService" : false,
                "name" : "failureTopic",
                "sensitive" : false
              },
              "tenant" : {
                "displayName" : "tenant",
                "identifiesControllerService" : false,
                "name" : "tenant",
                "sensitive" : false
              },
              "startDate" : {
                "displayName" : "startDate",
                "identifiesControllerService" : false,
                "name" : "startDate",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "95a73765-c48a-3bc1-a82c-1b20b1b15292",
            "name" : "Generate and Add resourceId to Json",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2752.0,
              "y" : 2680.0
            },
            "properties" : {
              "jolt-spec" : "[{\n  \"operation\": \"default\",\n  \"spec\": {\n    \"id\": \"${UUID()}\"\n  }\n}, {\n  \"operation\": \"shift\",\n  \"spec\": {\n    \"*\": \"&\"\n  }\n}]",
              "jolt-transform" : "jolt-transform-chain",
              "pretty_print" : "false",
              "Transform Cache Size" : "1"
            },
            "propertyDescriptors" : {
              "jolt-spec" : {
                "displayName" : "Jolt Specification",
                "identifiesControllerService" : false,
                "name" : "jolt-spec",
                "sensitive" : false
              },
              "jolt-transform" : {
                "displayName" : "Jolt Transformation DSL",
                "identifiesControllerService" : false,
                "name" : "jolt-transform",
                "sensitive" : false
              },
              "jolt-custom-class" : {
                "displayName" : "Custom Transformation Class Name",
                "identifiesControllerService" : false,
                "name" : "jolt-custom-class",
                "sensitive" : false
              },
              "jolt-custom-modules" : {
                "displayName" : "Custom Module Directory",
                "identifiesControllerService" : false,
                "name" : "jolt-custom-modules",
                "sensitive" : false
              },
              "pretty_print" : {
                "displayName" : "Pretty Print",
                "identifiesControllerService" : false,
                "name" : "pretty_print",
                "sensitive" : false
              },
              "Transform Cache Size" : {
                "displayName" : "Transform Cache Size",
                "identifiesControllerService" : false,
                "name" : "Transform Cache Size",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.JoltTransformJSON",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "99f16e3f-8e97-35db-886e-5e8bf9df91d0",
            "name" : "Branch on resourceId",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 2472.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "resourceIdIsNull" : "${resourceId:isNull()}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "resourceIdIsNull" : {
                "displayName" : "resourceIdIsNull",
                "identifiesControllerService" : false,
                "name" : "resourceIdIsNull",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "7177550b-6077-33cf-9591-f17f4dae3061",
            "name" : "if content-type Exists",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2128.0,
              "y" : 1480.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "Found content-type" : "${content-type:notNull()}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "Found content-type" : {
                "displayName" : "Found content-type",
                "identifiesControllerService" : false,
                "name" : "Found content-type",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "64c1f2f1-d585-3236-ab41-faba15cebd7b",
            "name" : "if Mime.Type Exists",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2128.0,
              "y" : 1688.0
            },
            "properties" : {
              "Found Mime.Type" : "${Mime.Type:notNull()}",
              "Routing Strategy" : "Route to Property name"
            },
            "propertyDescriptors" : {
              "Found Mime.Type" : {
                "displayName" : "Found Mime.Type",
                "identifiesControllerService" : false,
                "name" : "Found Mime.Type",
                "sensitive" : false
              },
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "79db015f-e7f7-340c-8abf-8611bf54d5ef",
            "name" : "If Content-Type Exists",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2128.0,
              "y" : 1264.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "Found Content-Type" : "${Content-Type:notNull()}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "Found Content-Type" : {
                "displayName" : "Found Content-Type",
                "identifiesControllerService" : false,
                "name" : "Found Content-Type",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "57ca9a14-8121-3252-96ae-1c11533485f6",
            "name" : "Generate UUID",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2128.0,
              "y" : 2680.0
            },
            "properties" : {
              "Regular Expression" : "\\$\\{UUID\\(\\)\\}",
              "Replacement Value" : "${UUID()}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "f658750c-3101-355d-a96f-2e77d5bd1d11",
            "name" : "Find resourceId in JSON",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 2224.0
            },
            "properties" : {
              "Destination" : "flowfile-attribute",
              "resourceId" : "$.id",
              "Return Type" : "auto-detect",
              "Null Value Representation" : "empty string",
              "Path Not Found Behavior" : "ignore"
            },
            "propertyDescriptors" : {
              "Destination" : {
                "displayName" : "Destination",
                "identifiesControllerService" : false,
                "name" : "Destination",
                "sensitive" : false
              },
              "resourceId" : {
                "displayName" : "resourceId",
                "identifiesControllerService" : false,
                "name" : "resourceId",
                "sensitive" : false
              },
              "Return Type" : {
                "displayName" : "Return Type",
                "identifiesControllerService" : false,
                "name" : "Return Type",
                "sensitive" : false
              },
              "Null Value Representation" : {
                "displayName" : "Null Value Representation",
                "identifiesControllerService" : false,
                "name" : "Null Value Representation",
                "sensitive" : false
              },
              "Path Not Found Behavior" : {
                "displayName" : "Path Not Found Behavior",
                "identifiesControllerService" : false,
                "name" : "Path Not Found Behavior",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "02fb1cb3-eec7-389d-9515-f35861091d5d",
            "name" : "Add Batch IDs",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 3472.0
            },
            "properties" : {
              "messageBatchId" : "message_${batchName}",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "sourceBatchId" : "source_${batchName}"
            },
            "propertyDescriptors" : {
              "messageBatchId" : {
                "displayName" : "messageBatchId",
                "identifiesControllerService" : false,
                "name" : "messageBatchId",
                "sensitive" : false
              },
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "sourceBatchId" : {
                "displayName" : "sourceBatchId",
                "identifiesControllerService" : false,
                "name" : "sourceBatchId",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "301739c7-05f0-30a8-804b-7c3dd85ce82d",
            "identifier" : "a64a0cc4-afdf-355e-a250-6cdc882d8ef2",
            "name" : "Update resourceId Attribute with current value",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2408.0,
              "y" : 2960.0
            },
            "properties" : {
              "Destination" : "flowfile-attribute",
              "resourceId" : "$.id",
              "Return Type" : "auto-detect",
              "Null Value Representation" : "empty string",
              "Path Not Found Behavior" : "ignore"
            },
            "propertyDescriptors" : {
              "Destination" : {
                "displayName" : "Destination",
                "identifiesControllerService" : false,
                "name" : "Destination",
                "sensitive" : false
              },
              "resourceId" : {
                "displayName" : "resourceId",
                "identifiesControllerService" : false,
                "name" : "resourceId",
                "sensitive" : false
              },
              "Return Type" : {
                "displayName" : "Return Type",
                "identifiesControllerService" : false,
                "name" : "Return Type",
                "sensitive" : false
              },
              "Null Value Representation" : {
                "displayName" : "Null Value Representation",
                "identifiesControllerService" : false,
                "name" : "Null Value Representation",
                "sensitive" : false
              },
              "Path Not Found Behavior" : {
                "displayName" : "Path Not Found Behavior",
                "identifiesControllerService" : false,
                "name" : "Path Not Found Behavior",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
              "name" : "Post to Kafka",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "5d60c98c-8694-3643-81ea-322fe00a15ab",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "0b8deabf-021b-3136-835e-7679462b0ba5",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "0b8deabf-021b-3136-835e-7679462b0ba5",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "e9eb43f0-314f-3aea-bb8d-1c816d5acde2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "21aaa78b-95f5-3797-92be-c581087cfe72",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
              "name" : "AttributesToJSON",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "283eea3b-d8a3-38ed-974d-dfd043020ad2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
              "name" : "Log and Post",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "21aaa78b-95f5-3797-92be-c581087cfe72",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "cdd54001-3d37-3460-8eff-27dd51016c2c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
              "name" : "AttributesToJSON",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "759a2102-9d8f-3e34-b408-833a28a14e9c",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "149c5c38-a7b6-3355-86c7-5c37efcf6002",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
              "name" : "Post to Kafka",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "position" : {
              "x" : 1432.0,
              "y" : 1832.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Log and Post Failure",
          "outputPorts" : [ ],
          "parameterContextName" : "cms_adapter_parameters",
          "position" : {
            "x" : 3048.0,
            "y" : 2792.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "0b8deabf-021b-3136-835e-7679462b0ba5",
            "name" : "ReplaceText",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2464.0
            },
            "properties" : {
              "Regular Expression" : "(?s)(^.*$)",
              "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Append"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "success", "failure" ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "759a2102-9d8f-3e34-b408-833a28a14e9c",
            "name" : "ReplaceText",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2984.0
            },
            "properties" : {
              "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
              "Replacement Value" : "",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "ERROR",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "21aaa78b-95f5-3797-92be-c581087cfe72",
            "name" : "LogMessage",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2240.0
            },
            "properties" : {
              "log-message" : "${JSONAttributes}",
              "log-level" : "error",
              "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
            },
            "propertyDescriptors" : {
              "log-message" : {
                "displayName" : "Log message",
                "identifiesControllerService" : false,
                "name" : "log-message",
                "sensitive" : false
              },
              "log-level" : {
                "displayName" : "Log Level",
                "identifiesControllerService" : false,
                "name" : "log-level",
                "sensitive" : false
              },
              "log-prefix" : {
                "displayName" : "Log prefix",
                "identifiesControllerService" : false,
                "name" : "log-prefix",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.LogMessage",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
            "name" : "AttributesToJSON",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1375.1956507673563,
              "y" : 1972.860155574584
            },
            "properties" : {
              "Destination" : "flowfile-attribute",
              "Null Value" : "false",
              "Include Core Attributes" : "false"
            },
            "propertyDescriptors" : {
              "attributes-to-json-regex" : {
                "displayName" : "Attributes Regular Expression",
                "identifiesControllerService" : false,
                "name" : "attributes-to-json-regex",
                "sensitive" : false
              },
              "Destination" : {
                "displayName" : "Destination",
                "identifiesControllerService" : false,
                "name" : "Destination",
                "sensitive" : false
              },
              "Null Value" : {
                "displayName" : "Null Value",
                "identifiesControllerService" : false,
                "name" : "Null Value",
                "sensitive" : false
              },
              "Attributes List" : {
                "displayName" : "Attributes List",
                "identifiesControllerService" : false,
                "name" : "Attributes List",
                "sensitive" : false
              },
              "Include Core Attributes" : {
                "displayName" : "Include Core Attributes",
                "identifiesControllerService" : false,
                "name" : "Include Core Attributes",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-kafka-2-6-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
            "name" : "Post to Kafka",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2720.0
            },
            "properties" : {
              "compression.type" : "none",
              "attribute-name-regex" : "batchId",
              "bootstrap.servers" : "#{kafka.brokers}",
              "kafka-key" : "CONTENT",
              "sasl.mechanism" : "PLAIN",
              "max.block.ms" : "5 sec",
              "message-header-encoding" : "UTF-8",
              "ack.wait.time" : "5 secs",
              "sasl.username" : "token",
              "use-transactions" : "true",
              "acks" : "all",
              "security.protocol" : "PLAINTEXT",
              "max.request.size" : "1 MB",
              "sasl.token.auth" : "false",
              "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
              "topic" : "failure.topic.in",
              "sasl.password" : "#{kafka.auth.password}",
              "key-attribute-encoding" : "utf-8"
            },
            "propertyDescriptors" : {
              "compression.type" : {
                "displayName" : "Compression Type",
                "identifiesControllerService" : false,
                "name" : "compression.type",
                "sensitive" : false
              },
              "attribute-name-regex" : {
                "displayName" : "Attributes to Send as Headers (Regex)",
                "identifiesControllerService" : false,
                "name" : "attribute-name-regex",
                "sensitive" : false
              },
              "bootstrap.servers" : {
                "displayName" : "Kafka Brokers",
                "identifiesControllerService" : false,
                "name" : "bootstrap.servers",
                "sensitive" : false
              },
              "sasl.kerberos.principal" : {
                "displayName" : "Kerberos Principal",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.principal",
                "sensitive" : false
              },
              "sasl.kerberos.service.name" : {
                "displayName" : "Kerberos Service Name",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.service.name",
                "sensitive" : false
              },
              "kerberos-credentials-service" : {
                "displayName" : "Kerberos Credentials Service",
                "identifiesControllerService" : true,
                "name" : "kerberos-credentials-service",
                "sensitive" : false
              },
              "kafka-key" : {
                "displayName" : "Kafka Key",
                "identifiesControllerService" : false,
                "name" : "kafka-key",
                "sensitive" : false
              },
              "partition" : {
                "displayName" : "Partition",
                "identifiesControllerService" : false,
                "name" : "partition",
                "sensitive" : false
              },
              "sasl.mechanism" : {
                "displayName" : "SASL Mechanism",
                "identifiesControllerService" : false,
                "name" : "sasl.mechanism",
                "sensitive" : false
              },
              "max.block.ms" : {
                "displayName" : "Max Metadata Wait Time",
                "identifiesControllerService" : false,
                "name" : "max.block.ms",
                "sensitive" : false
              },
              "message-header-encoding" : {
                "displayName" : "Message Header Encoding",
                "identifiesControllerService" : false,
                "name" : "message-header-encoding",
                "sensitive" : false
              },
              "message-demarcator" : {
                "displayName" : "Message Demarcator",
                "identifiesControllerService" : false,
                "name" : "message-demarcator",
                "sensitive" : false
              },
              "transactional-id-prefix" : {
                "displayName" : "Transactional Id Prefix",
                "identifiesControllerService" : false,
                "name" : "transactional-id-prefix",
                "sensitive" : false
              },
              "ack.wait.time" : {
                "displayName" : "Acknowledgment Wait Time",
                "identifiesControllerService" : false,
                "name" : "ack.wait.time",
                "sensitive" : false
              },
              "sasl.username" : {
                "displayName" : "Username",
                "identifiesControllerService" : false,
                "name" : "sasl.username",
                "sensitive" : false
              },
              "use-transactions" : {
                "displayName" : "Use Transactions",
                "identifiesControllerService" : false,
                "name" : "use-transactions",
                "sensitive" : false
              },
              "acks" : {
                "displayName" : "Delivery Guarantee",
                "identifiesControllerService" : false,
                "name" : "acks",
                "sensitive" : false
              },
              "security.protocol" : {
                "displayName" : "Security Protocol",
                "identifiesControllerService" : false,
                "name" : "security.protocol",
                "sensitive" : false
              },
              "ssl.context.service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "ssl.context.service",
                "sensitive" : false
              },
              "max.request.size" : {
                "displayName" : "Max Request Size",
                "identifiesControllerService" : false,
                "name" : "max.request.size",
                "sensitive" : false
              },
              "sasl.token.auth" : {
                "displayName" : "Token Auth",
                "identifiesControllerService" : false,
                "name" : "sasl.token.auth",
                "sensitive" : false
              },
              "partitioner.class" : {
                "displayName" : "Partitioner class",
                "identifiesControllerService" : false,
                "name" : "partitioner.class",
                "sensitive" : false
              },
              "sasl.kerberos.keytab" : {
                "displayName" : "Kerberos Keytab",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.keytab",
                "sensitive" : false
              },
              "topic" : {
                "displayName" : "Topic Name",
                "identifiesControllerService" : false,
                "name" : "topic",
                "sensitive" : false
              },
              "sasl.password" : {
                "displayName" : "Password",
                "identifiesControllerService" : false,
                "name" : "sasl.password",
                "sensitive" : true
              },
              "key-attribute-encoding" : {
                "displayName" : "Key Attribute Encoding",
                "identifiesControllerService" : false,
                "name" : "key-attribute-encoding",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "ef03eb12-0baf-3d11-969b-862f8f933276",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "48bea132-3698-365d-ac8e-619237b14748",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "id" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
              "name" : "Failed",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "06b752a0-907f-3815-b406-3b420e7666d5",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "3aae5c00-8a11-33a4-9a60-78f2e5f797b7",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 872.0,
              "y" : 2216.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "id" : "e7021364-3d4f-3779-93bc-e625a5ca9dd4",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "55b812d9-3b91-38d2-9c56-9113c3d3fd75",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "a152f702-9ee3-3de9-822d-990e4a59e6ee",
              "name" : "Set To Aborted",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "09bdc93a-e1d3-3393-9998-0b2026c86dcc",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "3f50043b-e3ca-3658-a8a2-06523ae37765",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "1c54dbd5-20e6-3523-81d1-7ca4cf3f4ee2",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "8dab6951-36a7-3334-bc50-0947cfd401cc",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "aborted" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 1976.0,
              "y" : 2216.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "09bdc93a-e1d3-3393-9998-0b2026c86dcc",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "440bdf14-c36e-37f2-8d2e-793600fa32ba",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "id" : "46c1ac4b-4586-301f-8a84-b01d842bdb7b",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 1792.0,
              "y" : 2624.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "09bdc93a-e1d3-3393-9998-0b2026c86dcc",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "81f15ed0-fc94-3fd4-b770-671677649cce",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "id" : "e7021364-3d4f-3779-93bc-e625a5ca9dd4",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "8ae1f3d8-1e2e-3664-bcb9-f409a717259a",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "1a436a0f-0515-3701-944b-18a90ba44180",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "b27f4d00-6818-35e8-9723-8989221007a3",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "3f4a9f47-38bb-306f-a1c9-191380b381cb",
              "name" : "input",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 592.0,
              "y" : 1032.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "1c54dbd5-20e6-3523-81d1-7ca4cf3f4ee2",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "4d365c9b-31f0-3a1f-8f7c-5fddd44eedf5",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "1a436a0f-0515-3701-944b-18a90ba44180",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "a152f702-9ee3-3de9-822d-990e4a59e6ee",
              "name" : "Set To Aborted",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "15e9064f-3944-326c-b41d-6fec0f6cb792",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "id" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "dcd0a66a-2d38-33aa-a9cd-435adb5cacdd",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "not-found", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "1a436a0f-0515-3701-944b-18a90ba44180",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "2ee0797b-15d9-32cb-90a3-740ae7c12d88",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "aa0beb7a-26a8-3943-908b-ddfc9d53d732",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "3aae5c00-8a11-33a4-9a60-78f2e5f797b7",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "ced2a15a-7b06-3c1e-8e9c-7b2a240889a1",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "id" : "730d3827-f21a-39fd-8173-786eb8de46e6",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "bb8548b3-c407-38f1-b150-b1dfd597f0f1",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "e46bf1b6-161a-300f-a500-b8caa63e0c88",
              "name" : "Set To Warning",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "8d1a41e6-4fb2-34cd-acb7-6d9158ed6f95",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "ef03eb12-0baf-3d11-969b-862f8f933276",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "b9d5ffaa-24af-3985-b6cf-3beceac3787a",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "id" : "dcd003e5-3536-3e7c-a147-5906b8160a94",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "32a28f05-3da5-3def-a2be-c1a6fb8d80a6",
              "name" : "Warning",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "8224ef4d-e928-3397-b90e-db082e7309d3",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "warning" ],
            "source" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "05d99778-1a39-3516-884f-bae4247643b1",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
              "id" : "e46bf1b6-161a-300f-a500-b8caa63e0c88",
              "name" : "Set To Warning",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "ad366f15-9126-3165-9c15-125c584f7bbb",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "id" : "1d4071ea-a41c-3375-8929-492c28c27a31",
              "name" : "Warnings",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "3f4a9f47-38bb-306f-a1c9-191380b381cb",
            "name" : "input",
            "position" : {
              "x" : 1320.0,
              "y" : 784.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ {
            "componentType" : "LABEL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "height" : 216.0,
            "identifier" : "1ff0518d-f014-358b-a796-62f7a66b1fb7",
            "label" : "Expects the following attributes to be set on input:\n- tenant\n- FHIRResourceTag\n- failureTopic\n- sourceBatchId\n- batchName\n- dataType\n- messageBatchId\n- startDate\n- kafka.topic\n- autoBuildBundles (set to 'True' to enable auto bundling of single resources)\n- FHIRPreferSetting (set to 'OperationOutcome' to return warnings from FHIR. 'minimal' for errors only)\n",
            "position" : {
              "x" : 1264.0,
              "y" : 544.0
            },
            "style" : {
              "font-size" : "12px"
            },
            "width" : 608.0
          } ],
          "name" : "Send to FHIR and Post Errors V34",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "2ee0797b-15d9-32cb-90a3-740ae7c12d88",
            "name" : "Success",
            "position" : {
              "x" : 928.0,
              "y" : 2776.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "32a28f05-3da5-3def-a2be-c1a6fb8d80a6",
            "name" : "Warning",
            "position" : {
              "x" : 1320.0,
              "y" : 2776.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "09bdc93a-e1d3-3393-9998-0b2026c86dcc",
            "name" : "Failure",
            "position" : {
              "x" : 1856.0,
              "y" : 2776.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "1c54dbd5-20e6-3523-81d1-7ca4cf3f4ee2",
            "name" : "Aborted",
            "position" : {
              "x" : 480.0,
              "y" : 2776.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "position" : {
            "x" : 2384.0,
            "y" : 3352.0
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "cd2f13a3-352a-3f1d-8ae6-cbf7e4f5a235",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "a4c662e7-cf55-321d-8e52-fb7a5b2c358d",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "a4c662e7-cf55-321d-8e52-fb7a5b2c358d",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "6b3b7769-8f5b-3d0a-86f8-d04931b5cddd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "34d7bd75-3041-304f-bb35-d2f32f3c07d6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success", "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "6db22765-83bc-356e-82c0-b7cc27db71be",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "f9f3b4e9-7d12-3b9d-9701-cafd554b726f",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "a4c662e7-cf55-321d-8e52-fb7a5b2c358d",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "def4fee1-64db-3003-bbbc-33ca23ad3ea6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "748ee720-12cc-3032-961d-e593029984d8",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 91.90096124963486,
                "y" : 1913.144754828182
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "d80d2d19-8a17-3c90-b2b5-a215f20cc914",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "contentEmpty" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "748ee720-12cc-3032-961d-e593029984d8",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "348a0ea3-8659-322b-933c-8878cccec5df",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "8adf26da-ab0e-32ae-8b2c-195191cf089e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "id" : "50151099-31b0-3c84-afad-3aca83c9f07f",
                "name" : "Published Data",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "bd77f8c5-667d-31ef-9d00-ea3cbf6f60e9",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "id" : "ffc83210-bc74-3ba5-b6f3-3755ca5bf22e",
                "name" : "Error/Warning",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "76885439-dab7-3706-9846-ef26b13db0ec",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
                "id" : "6db22765-83bc-356e-82c0-b7cc27db71be",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "position" : {
                "x" : -24.0,
                "y" : 1032.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ {
              "componentType" : "LABEL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "height" : 32.0,
              "identifier" : "a509139a-59a0-3042-b2a7-cd4a55734db0",
              "label" : "Strip Information Groovy Class - caused issues during deploy.",
              "position" : {
                "x" : -568.0,
                "y" : 1216.0
              },
              "style" : {
                "font-size" : "12px"
              },
              "width" : 344.0
            }, {
              "componentType" : "LABEL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "height" : 72.0,
              "identifier" : "e2597023-a0d5-3402-ab2e-4dea306df7e6",
              "label" : "Expects the attribute resourceSavedStatus to be set to any of:\n- failure\n- success\n- warning",
              "position" : {
                "x" : 256.0,
                "y" : 1016.0
              },
              "style" : {
                "font-size" : "12px"
              },
              "width" : 400.0
            } ],
            "name" : "Build and Post Error Messages",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
              "name" : "Output",
              "position" : {
                "x" : 595.9009612496349,
                "y" : 2353.144754828182
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "cms_adapter_parameters",
            "position" : {
              "x" : 1240.0,
              "y" : 1816.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 6640.0,
                  "y" : 1848.0
                }, {
                  "x" : 6296.0,
                  "y" : 1976.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "50151099-31b0-3c84-afad-3aca83c9f07f",
                  "name" : "Published Data",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "65a640d7-7c6d-3ec8-90d3-3e0dce25c1a2",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "9fcabd9f-2006-3bba-9e60-1e132f619e8f",
                  "name" : "Log Merge of pages failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "9fcabd9f-2006-3bba-9e60-1e132f619e8f",
                  "name" : "Log Merge of pages failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "d5ee4af6-fd2a-3d9b-873f-e24ffe3c7c43",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "dc769a23-8f6e-37e5-b1c2-28b23bacf6e7",
                  "name" : "Merge pages together",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "1378ef87-410e-3df6-8418-777c37441e63",
                  "name" : "Log Kafka Publish Failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "f77071d2-b250-30d3-aa53-fdb05c2f1bb6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "ac815832-51c0-366c-acac-4ccb1f55593f",
                  "name" : "Publish Error/Warning to Kafka",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "50151099-31b0-3c84-afad-3aca83c9f07f",
                  "name" : "Published Data",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "7ea13bb5-5606-3f9d-b075-6b8908391a40",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "merged" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "dc769a23-8f6e-37e5-b1c2-28b23bacf6e7",
                  "name" : "Merge pages together",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "dc769a23-8f6e-37e5-b1c2-28b23bacf6e7",
                  "name" : "Merge pages together",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "ffd0c625-1b41-3181-a441-fe437be4c775",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "multi-page" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "12005379-64d0-3a4b-9230-2114b9576a99",
                  "name" : "Record was split into multiple pages?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "ac815832-51c0-366c-acac-4ccb1f55593f",
                  "name" : "Publish Error/Warning to Kafka",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "b29c3f00-7913-345e-b9f6-1070cb957d71",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "size ok",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "2e2a2767-1185-3c1d-8001-c1f167e31223",
                  "name" : "Is size limit still exceeded?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 5680.0,
                  "y" : 1608.0
                }, {
                  "x" : 5680.0,
                  "y" : 1944.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "50151099-31b0-3c84-afad-3aca83c9f07f",
                  "name" : "Published Data",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "a9b4eb32-2ba0-3bf3-9901-b5f993a40313",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "single page",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "12005379-64d0-3a4b-9230-2114b9576a99",
                  "name" : "Record was split into multiple pages?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "2e2a2767-1185-3c1d-8001-c1f167e31223",
                  "name" : "Is size limit still exceeded?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "dc8a897a-218e-3ff9-b736-0ac14b36e973",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "dbc6dee1-d0d7-30db-931a-ea2d3c7c65c3",
                  "name" : "Break up error message if too large",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "12005379-64d0-3a4b-9230-2114b9576a99",
                  "name" : "Record was split into multiple pages?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "ddf9d64f-4ee3-387d-9ff0-d608e63d2691",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "ac815832-51c0-366c-acac-4ccb1f55593f",
                  "name" : "Publish Error/Warning to Kafka",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 6664.0,
                  "y" : 1464.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "12005379-64d0-3a4b-9230-2114b9576a99",
                  "name" : "Record was split into multiple pages?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "6c1c5b61-6f29-34e1-b42e-83c9e852f96c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "1378ef87-410e-3df6-8418-777c37441e63",
                  "name" : "Log Kafka Publish Failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 6672.0,
                  "y" : 608.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "1378ef87-410e-3df6-8418-777c37441e63",
                  "name" : "Log Kafka Publish Failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "971717ea-7501-3e00-8e36-78af3e75f76c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "oversized" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "2e2a2767-1185-3c1d-8001-c1f167e31223",
                  "name" : "Is size limit still exceeded?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "dbc6dee1-d0d7-30db-931a-ea2d3c7c65c3",
                  "name" : "Break up error message if too large",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "7a2cd3d6-4838-3bb6-b0c7-614d66e23ce6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                  "id" : "ffc83210-bc74-3ba5-b6f3-3755ca5bf22e",
                  "name" : "Error/Warning",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "ffc83210-bc74-3ba5-b6f3-3755ca5bf22e",
                "name" : "Error/Warning",
                "position" : {
                  "x" : 5880.0,
                  "y" : 128.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "height" : 296.0,
                "identifier" : "7f019128-dd89-3639-a43a-4223ad830b68",
                "label" : "1) If necessary and possiible, splits flow file content that is bigger than what kafka allows for a message size..\n\n2) Publishes to kafka.\n\n3) If a split was preformed, merges the pages that were split back together.\n\n----\nKafka has a configurable limit of a 1MB message size, however that size includes the key (if there is one), headers (if there are any), \nand metada (such as the offset and timestamp).\n\nChanging the configuration to increase the max size would require modifying the producer, broker, and consumer, which is non practical.\n\nThis process splits up json documents that contain a list at json path ['errorDetails', 'entry'] so\nthat the list is not large enough to exceed a 950KB limit.\n\nDocuments that do not contain that path or are not valid json are not split.\n\nAfter publishing,  files that were split are merged back into a single file, in order to \nensure a \"one file in = one file out\" flow. The merge uses a flow file stream strategy, which should be faster.\n",
                "position" : {
                  "x" : 5120.0,
                  "y" : -8.0
                },
                "style" : {
                  "font-size" : "14px"
                },
                "width" : 1200.0
              } ],
              "name" : "Publish Error or Warning to Kafka Topic",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "50151099-31b0-3c84-afad-3aca83c9f07f",
                "name" : "Published Data",
                "position" : {
                  "x" : 5872.0,
                  "y" : 2152.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "cms_adapter_parameters",
              "position" : {
                "x" : 520.0,
                "y" : 1952.0
              },
              "processGroups" : [ ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "1378ef87-410e-3df6-8418-777c37441e63",
                "name" : "Log Kafka Publish Failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 6496.0,
                  "y" : 984.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - Kafa published failed for error message",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "false"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "dc769a23-8f6e-37e5-b1c2-28b23bacf6e7",
                "name" : "Merge pages together",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 5824.0,
                  "y" : 1688.0
                },
                "properties" : {
                  "Keep Path" : "false",
                  "Merge Strategy" : "Defragment",
                  "Attribute Strategy" : "Keep Only Common Attributes",
                  "Compression Level" : "1",
                  "Maximum Number of Entries" : "1000",
                  "Minimum Group Size" : "0 B",
                  "Maximum number of Bins" : "10000",
                  "Tar Modified Time" : "${file.lastModifiedTime}",
                  "Delimiter Strategy" : "Filename",
                  "Merge Format" : "FlowFile Stream, v3",
                  "Max Bin Age" : "10 minutes",
                  "Correlation Attribute Name" : "${fragment.identifier}",
                  "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
                  "Minimum Number of Entries" : "1"
                },
                "propertyDescriptors" : {
                  "Keep Path" : {
                    "displayName" : "Keep Path",
                    "identifiesControllerService" : false,
                    "name" : "Keep Path",
                    "sensitive" : false
                  },
                  "Maximum Group Size" : {
                    "displayName" : "Maximum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Group Size",
                    "sensitive" : false
                  },
                  "Merge Strategy" : {
                    "displayName" : "Merge Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Merge Strategy",
                    "sensitive" : false
                  },
                  "Attribute Strategy" : {
                    "displayName" : "Attribute Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Attribute Strategy",
                    "sensitive" : false
                  },
                  "Compression Level" : {
                    "displayName" : "Compression Level",
                    "identifiesControllerService" : false,
                    "name" : "Compression Level",
                    "sensitive" : false
                  },
                  "Maximum Number of Entries" : {
                    "displayName" : "Maximum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Number of Entries",
                    "sensitive" : false
                  },
                  "Minimum Group Size" : {
                    "displayName" : "Minimum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Group Size",
                    "sensitive" : false
                  },
                  "Maximum number of Bins" : {
                    "displayName" : "Maximum number of Bins",
                    "identifiesControllerService" : false,
                    "name" : "Maximum number of Bins",
                    "sensitive" : false
                  },
                  "Tar Modified Time" : {
                    "displayName" : "Tar Modified Time",
                    "identifiesControllerService" : false,
                    "name" : "Tar Modified Time",
                    "sensitive" : false
                  },
                  "Delimiter Strategy" : {
                    "displayName" : "Delimiter Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Delimiter Strategy",
                    "sensitive" : false
                  },
                  "Merge Format" : {
                    "displayName" : "Merge Format",
                    "identifiesControllerService" : false,
                    "name" : "Merge Format",
                    "sensitive" : false
                  },
                  "Footer File" : {
                    "displayName" : "Footer",
                    "identifiesControllerService" : false,
                    "name" : "Footer File",
                    "sensitive" : false
                  },
                  "Max Bin Age" : {
                    "displayName" : "Max Bin Age",
                    "identifiesControllerService" : false,
                    "name" : "Max Bin Age",
                    "sensitive" : false
                  },
                  "Demarcator File" : {
                    "displayName" : "Demarcator",
                    "identifiesControllerService" : false,
                    "name" : "Demarcator File",
                    "sensitive" : false
                  },
                  "Correlation Attribute Name" : {
                    "displayName" : "Correlation Attribute Name",
                    "identifiesControllerService" : false,
                    "name" : "Correlation Attribute Name",
                    "sensitive" : false
                  },
                  "Header File" : {
                    "displayName" : "Header",
                    "identifiesControllerService" : false,
                    "name" : "Header File",
                    "sensitive" : false
                  },
                  "mergecontent-metadata-strategy" : {
                    "displayName" : "Metadata Strategy",
                    "identifiesControllerService" : false,
                    "name" : "mergecontent-metadata-strategy",
                    "sensitive" : false
                  },
                  "Minimum Number of Entries" : {
                    "displayName" : "Minimum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Number of Entries",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.MergeContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "dbc6dee1-d0d7-30db-931a-ea2d3c7c65c3",
                "name" : "Break up error message if too large",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 5824.0,
                  "y" : 328.0
                },
                "properties" : {
                  "max.request.size" : "900 KB",
                  "max flow files" : "100",
                  "Script Engine" : "Groovy",
                  "Script Body" : "// *****************************************************************\n//\n// IBM Confidential\n// OCO Source Materials\n//\n// (C) Copyright IBM Corp. 2021\n//\n// The source code for this program is not published or otherwise\n// divested of its trade secrets, irrespective of what has been\n// deposited with the U.S. Copyright Office.\n//\n// *****************************************************************\n\n/*************************************************************************\n * Intended to be used with the NiFi ExecuteScript processor\n * \n * This will break up an incomming flow file that contains json\n * with a list of objects at path ['errorDetails', 'entry']. In other words \n * Error or Warning responses for a bundle.\n * \n * Each output flow file will contain a subset of the list that\n * when serialized is less than the max allowed size.\n * \n * The json will have additional properties that describe the page information:\n {\n \"pageInfo\" : {\n \"currentPage\" : 0,\n \"numPages\" : 3\n }\n \"errorDetails\" : {\n \"entry\" : [\n {}, {}, {}    <----- Subset of original list\n ]\n }\n }\n * Input flow files that are not large enough to warrent splitting, do not have the required\n * json path, or are not valid json will not be modified by this processor.\n * \n * In the case of a split, the following output attributes are set:\n * fragment.identifier        - used to merge flow files back into a single file\n * fragment.index             - which fragment is this flow file\n * fragment.count             - the number of flow files the original flow file was split into \n * segment.original.filename  - the originalFileName\n * multipage                  - the indicator that this is a split response \n * \n */\nimport groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\nimport groovy.json.JsonParserType\nimport org.apache.nifi.processor.DataUnit\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.components.PropertyValue\nimport org.apache.nifi.processor.util.StandardValidators\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.logging.ComponentLog\n\nimport static org.apache.nifi.expression.ExpressionLanguageScope.VARIABLE_REGISTRY\n\nimport org.apache.nifi.components.PropertyDescriptor\n\nclass SplitBundleErrorDetailsProcessor extends AbstractProcessor {\n\tfinal Relationship REL_SUCCESS = new Relationship.Builder() //\n\t.name(\"success\") //\n\t.description(\"\") //\n\t.build();\n\n\tfinal static PropertyDescriptor MAX_INPUT_FLOW_FILES_PROP =\n\tnew PropertyDescriptor.Builder() //\n\t.name(\"max flow files\") //\n\t.displayName(\"Max input flow files\") //\n\t.description(\n\t\"Specifies the max number of flow files to process prior to a commit.\") //\n\t.addValidator(StandardValidators.POSITIVE_INTEGER_VALIDATOR) //\n\t.expressionLanguageSupported(VARIABLE_REGISTRY)\n\t.required(true)\n\t.defaultValue(\"100\")\n\t.build();\n\n\tfinal static PropertyDescriptor MAX_SIZE_PROP =\n\tnew PropertyDescriptor.Builder().name(\"max.request.size\") //\n\t.displayName(\"Max size\") //\n\t.description(\n\t\"Max size before splitting a flow file.\") //\n\t.addValidator(StandardValidators.DATA_SIZE_VALIDATOR) //\n\t.expressionLanguageSupported(VARIABLE_REGISTRY)\n\t.required(true)\n\t.defaultValue(\"900 KB\")\n\t.build();\n\n\tfinal def pathToSplit = ['errorDetails', 'entry']\n\n\tSet<Relationship> getRelationships() {\n\t\treturn [REL_SUCCESS] as Set\n\t}\n\n\t@Override\n\tList<PropertyDescriptor> getSupportedPropertyDescriptors() {\n\t\treturn [\n\t\t\tMAX_SIZE_PROP,\n\t\t\tMAX_INPUT_FLOW_FILES_PROP\n\t\t]\n\t}\n\n\tdef jsonPath(def jObj, def  pathToList) {\n\t\tdef item\n\t\tdef container = jObj\n\n\t\tpathToList.eachWithIndex { term, index ->\n\t\t\tif (index < pathToList.size() - 1) {\n\t\t\t\tcontainer = container ? container[term] : null\n\t\t\t} else {\n\t\t\t\titem = container ? container[term] : null\n\t\t\t}\n\t\t}\n\t\treturn ['container' : container, 'item' : item]\n\t}\n\n\tdef collateBasedOnSize(list, long maxSize) {\n\t\tdef result = []\n\t\tdef (curList, curListSize) = [\n\t\t\t[],\n\t\t\t2] // size 2 for '[' and ']'\n\t\tlist.each  { item ->\n\t\t\tdef itemSize = JsonOutput.toJson(item).size()\n\t\t\tif (curListSize + itemSize  >= maxSize) { // split\n\t\t\t\tresult.add(curList)\n\t\t\t\t(curList, curListSize) = [\n\t\t\t\t\t[],\n\t\t\t\t\t2] // size 2 for '[' and ']'\n\t\t\t}\n\t\t\tcurListSize += itemSize + 1 // +1 for possible comma\n\t\t\tcurList += item\n\t\t}\n\t\tif (curList) {\n\t\t\tresult.add(curList)\n\t\t}\n\t\treturn result\n\t}\n\n\tdef splitIntoPages(def Map jObj, def List<String> splitPath, def long maxSize) {\n\t\tdef path = jsonPath(jObj, splitPath)\n\t\tdef jsonSlurper = new JsonSlurper().setType(JsonParserType.CHAR_BUFFER)\n\t\tdef objects = []\n\t\tdef maxListSize = maxSize - (JsonOutput.toJson(jObj).size() - JsonOutput.toJson(path['item']).size())\n\n\t\tcollateBasedOnSize(path['item'], maxListSize).each { pageData ->\n\t\t\tdef newObject = jsonSlurper.parseText(JsonOutput.toJson(jObj)) // deep copy the object\n\t\t\tjsonPath(newObject, splitPath)['container'][splitPath.last()] = pageData\n\t\t\tobjects +=  newObject\n\t\t}\n\n\t\tobjects.eachWithIndex {object, index ->\n\t\t\tobject['pageInfo'] = [\"currentPage\" : index, \"numPages\" : objects.size()]\n\t\t}\n\n\t\treturn objects\n\t}\n\n\tdef parseContent(String jsonString, ComponentLog log) {\n\t\ttry {\n\t\t\tdef jsonSlurper = new JsonSlurper() //\n\t\t\t\t\t.setType(JsonParserType.INDEX_OVERLAY)//\n\t\t\t\t\t.setCheckDates(false)\n\t\t\tjsonSlurper.parseText(jsonString)\n\t\t} catch (Exception e) {\n\t\t\tlog.error(\"input was not valid json\", e)\n\t\t\t[:]\n\t\t}\n\t}\n\n\tdef shouldNotTryToSplit(def flowFileJsonObj, def pathToSplit, def MAX_SIZE)  {\n\t\t// check for invalid json or path to split on doesn't exist in document\n\t\t(!flowFileJsonObj || !(jsonPath(flowFileJsonObj, pathToSplit)['item']))\n\t}\n\n\t@Override\n\tvoid onTrigger(ProcessContext context, ProcessSession session) {\n\t\tfinal long MAX_SIZE = context.getProperty(MAX_SIZE_PROP) //\n\t\t\t\t.evaluateAttributeExpressions() //\n\t\t\t\t.asDataSize(DataUnit.B)\n\t\tfinal int MAX_INPUT_FLOW_FILES = context.getProperty(MAX_INPUT_FLOW_FILES_PROP) //\n\t\t\t\t.evaluateAttributeExpressions() //\n\t\t\t\t.asInteger()\n\n\t\tList<FlowFile> flowFiles = session.get(MAX_INPUT_FLOW_FILES);\n\n\t\tif (!flowFiles) {\n\t\t\tcontext.yield()\n\t\t\treturn\n\t\t}\n\n\t\tfor (FlowFile flowFile in flowFiles) {\t\n\n\t\t\tif (flowFile.getSize() < MAX_SIZE) {\n\t\t\t\tsession.transfer(flowFile, REL_SUCCESS)\n\t\t\t} else {\n\n\t\t\t\tdef originalFileName = flowFile.getAttribute('filename') ?: 'unknown'\n\n\t\t\t\tdef String flowFileContent = session.read(flowFile).getText()\n\t\t\t\tdef flowFileJsonObj = parseContent(flowFileContent, getLogger())\n\t\n\t\t\t\tif (shouldNotTryToSplit(flowFileJsonObj, pathToSplit, MAX_SIZE)) {\n\t\t\t\t\tsession.transfer(flowFile, REL_SUCCESS)\n\t\t\t\t} else {\t\t\t\t\t\n\t\t\t\t\tdef newContentList = splitIntoPages(flowFileJsonObj, pathToSplit, MAX_SIZE).collect({obj -> JsonOutput.toJson(obj)})\n\n\t\t\t\t\tgetLogger().info(\"The size of Flow File is ${flowFileContent.size()}, the flow file is being split into \" +\n\t\t\t\t\t\t\t\"${newContentList.size()}  pages\" )\n\n\t\t\t\t\tdef fragmentId = context.getProperty('fragment.identifier') //\n\t\t\t\t\t\t\t.evaluateAttributeExpressions(flowFile) //\n\t\t\t\t\t\t\t.getValue() //\n\t\t\t\t\t\t\t?: UUID.randomUUID().toString()\n\n\t\t\t\t\tnewContentList.eachWithIndex { content, index ->\n\t\t\t\t\t\tFlowFile newFF = session.create(flowFile)\n\t\t\t\t\t\tnewFF = session.write(newFF, {out -> out.setBytes(content.getBytes())} as OutputStreamCallback )\n\t\t\t\t\t\tnewFF = session.putAllAttributes(newFF,\n\t\t\t\t\t\t\t\t[   'fragment.identifier'       : fragmentId,\n\t\t\t\t\t\t\t\t\t'fragment.index'            : \"\" + index,\n\t\t\t\t\t\t\t\t\t'fragment.count'            : \"\" + newContentList.size(),\n\t\t\t\t\t\t\t\t\t'segment.original.filename' : originalFileName,\n\t\t\t\t\t\t\t\t\t'multipage'                   : 'true'\n\t\t\t\t\t\t\t\t]\n\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\tsession.transfer(newFF, REL_SUCCESS)\n\t\t\t\t\t}\n\t\t\t\t\tsession.remove(flowFile)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nprocessor = new SplitBundleErrorDetailsProcessor()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "max.request.size" : {
                    "displayName" : "Max size",
                    "identifiesControllerService" : false,
                    "name" : "max.request.size",
                    "sensitive" : false
                  },
                  "max flow files" : {
                    "displayName" : "Max input flow files",
                    "identifiesControllerService" : false,
                    "name" : "max flow files",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "12005379-64d0-3a4b-9230-2114b9576a99",
                "name" : "Record was split into multiple pages?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 5824.0,
                  "y" : 1400.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "multi-page" : "${multipage:equals('true')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "multi-page" : {
                    "displayName" : "multi-page",
                    "identifiesControllerService" : false,
                    "name" : "multi-page",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "9fcabd9f-2006-3bba-9e60-1e132f619e8f",
                "name" : "Log Merge of pages failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 6464.0,
                  "y" : 1688.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - Merging of split Error/Warning messages failed",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "false"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-kafka-2-6-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "ac815832-51c0-366c-acac-4ccb1f55593f",
                "name" : "Publish Error/Warning to Kafka",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 5824.0,
                  "y" : 1008.0
                },
                "properties" : {
                  "compression.type" : "none",
                  "attribute-name-regex" : "batchId",
                  "bootstrap.servers" : "#{kafka.brokers}",
                  "kafka-key" : "${messageBatchId}",
                  "sasl.mechanism" : "PLAIN",
                  "max.block.ms" : "5 sec",
                  "message-header-encoding" : "UTF-8",
                  "ack.wait.time" : "5 secs",
                  "sasl.username" : "#{kafka.auth.user}",
                  "use-transactions" : "true",
                  "acks" : "all",
                  "security.protocol" : "PLAINTEXT",
                  "max.request.size" : "1 MB",
                  "sasl.token.auth" : "false",
                  "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                  "topic" : "${failureTopic}",
                  "sasl.password" : "#{kafka.auth.password}",
                  "key-attribute-encoding" : "utf-8"
                },
                "propertyDescriptors" : {
                  "compression.type" : {
                    "displayName" : "Compression Type",
                    "identifiesControllerService" : false,
                    "name" : "compression.type",
                    "sensitive" : false
                  },
                  "attribute-name-regex" : {
                    "displayName" : "Attributes to Send as Headers (Regex)",
                    "identifiesControllerService" : false,
                    "name" : "attribute-name-regex",
                    "sensitive" : false
                  },
                  "bootstrap.servers" : {
                    "displayName" : "Kafka Brokers",
                    "identifiesControllerService" : false,
                    "name" : "bootstrap.servers",
                    "sensitive" : false
                  },
                  "sasl.kerberos.principal" : {
                    "displayName" : "Kerberos Principal",
                    "identifiesControllerService" : false,
                    "name" : "sasl.kerberos.principal",
                    "sensitive" : false
                  },
                  "sasl.kerberos.service.name" : {
                    "displayName" : "Kerberos Service Name",
                    "identifiesControllerService" : false,
                    "name" : "sasl.kerberos.service.name",
                    "sensitive" : false
                  },
                  "kerberos-credentials-service" : {
                    "displayName" : "Kerberos Credentials Service",
                    "identifiesControllerService" : true,
                    "name" : "kerberos-credentials-service",
                    "sensitive" : false
                  },
                  "kafka-key" : {
                    "displayName" : "Kafka Key",
                    "identifiesControllerService" : false,
                    "name" : "kafka-key",
                    "sensitive" : false
                  },
                  "partition" : {
                    "displayName" : "Partition",
                    "identifiesControllerService" : false,
                    "name" : "partition",
                    "sensitive" : false
                  },
                  "sasl.mechanism" : {
                    "displayName" : "SASL Mechanism",
                    "identifiesControllerService" : false,
                    "name" : "sasl.mechanism",
                    "sensitive" : false
                  },
                  "max.block.ms" : {
                    "displayName" : "Max Metadata Wait Time",
                    "identifiesControllerService" : false,
                    "name" : "max.block.ms",
                    "sensitive" : false
                  },
                  "message-header-encoding" : {
                    "displayName" : "Message Header Encoding",
                    "identifiesControllerService" : false,
                    "name" : "message-header-encoding",
                    "sensitive" : false
                  },
                  "message-demarcator" : {
                    "displayName" : "Message Demarcator",
                    "identifiesControllerService" : false,
                    "name" : "message-demarcator",
                    "sensitive" : false
                  },
                  "transactional-id-prefix" : {
                    "displayName" : "Transactional Id Prefix",
                    "identifiesControllerService" : false,
                    "name" : "transactional-id-prefix",
                    "sensitive" : false
                  },
                  "ack.wait.time" : {
                    "displayName" : "Acknowledgment Wait Time",
                    "identifiesControllerService" : false,
                    "name" : "ack.wait.time",
                    "sensitive" : false
                  },
                  "sasl.username" : {
                    "displayName" : "Username",
                    "identifiesControllerService" : false,
                    "name" : "sasl.username",
                    "sensitive" : false
                  },
                  "use-transactions" : {
                    "displayName" : "Use Transactions",
                    "identifiesControllerService" : false,
                    "name" : "use-transactions",
                    "sensitive" : false
                  },
                  "acks" : {
                    "displayName" : "Delivery Guarantee",
                    "identifiesControllerService" : false,
                    "name" : "acks",
                    "sensitive" : false
                  },
                  "security.protocol" : {
                    "displayName" : "Security Protocol",
                    "identifiesControllerService" : false,
                    "name" : "security.protocol",
                    "sensitive" : false
                  },
                  "ssl.context.service" : {
                    "displayName" : "SSL Context Service",
                    "identifiesControllerService" : true,
                    "name" : "ssl.context.service",
                    "sensitive" : false
                  },
                  "max.request.size" : {
                    "displayName" : "Max Request Size",
                    "identifiesControllerService" : false,
                    "name" : "max.request.size",
                    "sensitive" : false
                  },
                  "sasl.token.auth" : {
                    "displayName" : "Token Auth",
                    "identifiesControllerService" : false,
                    "name" : "sasl.token.auth",
                    "sensitive" : false
                  },
                  "partitioner.class" : {
                    "displayName" : "Partitioner class",
                    "identifiesControllerService" : false,
                    "name" : "partitioner.class",
                    "sensitive" : false
                  },
                  "sasl.kerberos.keytab" : {
                    "displayName" : "Kerberos Keytab",
                    "identifiesControllerService" : false,
                    "name" : "sasl.kerberos.keytab",
                    "sensitive" : false
                  },
                  "topic" : {
                    "displayName" : "Topic Name",
                    "identifiesControllerService" : false,
                    "name" : "topic",
                    "sensitive" : false
                  },
                  "sasl.password" : {
                    "displayName" : "Password",
                    "identifiesControllerService" : false,
                    "name" : "sasl.password",
                    "sensitive" : true
                  },
                  "key-attribute-encoding" : {
                    "displayName" : "Key Attribute Encoding",
                    "identifiesControllerService" : false,
                    "name" : "key-attribute-encoding",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "3c89a669-01df-32d8-ad2f-6e49f2ec2612",
                "identifier" : "2e2a2767-1185-3c1d-8001-c1f167e31223",
                "name" : "Is size limit still exceeded?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 5824.0,
                  "y" : 544.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "oversized" : "${fileSize:gt(972800)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "oversized" : {
                    "displayName" : "oversized",
                    "identifiesControllerService" : false,
                    "name" : "oversized",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
              "name" : "Strip Information Messages",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -80.0,
                "y" : 1240.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Strip Information Messages\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Removes any informational messages that are returned from the FHIR server for this FHIR resource.\n * If there are no other messages remaining, the flow file is cleared out so no message is posted on the error topic.\n */\nList<FlowFile> flowFiles = session.get(100)\nif (flowFiles == null)\n    return\n\nfor (FlowFile aFlowFile : flowFiles) {\n    try {\n        aFlowFile = session.write(aFlowFile, new StreamCallback() {\n            @Override\n            void process(InputStream instream,  OutputStream outstream) throws IOException {\n                def inputText = instream.getText()\n\n                if (inputText != null && !inputText.isEmpty()) {\n                    def jsonSlurper = new JsonSlurper()\n                    def inputJson = null\n                    try {\n                        inputJson = jsonSlurper.parseText(inputText)\n                    } catch (Exception e) {\n                        // Not json, just return\n                        return\n                    }\n\n                    def clear = false\n\n                    def resourceType = inputJson.getAt(\"resourceType\")\n\n                    if (resourceType != null) {\n                        if (resourceType.equals(\"OperationOutcome\")) {\n                            // OO resource handling\n                            // Keep only issues that are not informational\n                            def issues = inputJson.getAt(\"issue\")\n                            if (issues != null) {\n                                def newIssues = []\n                                for (def anIssue : issues) {\n                                    def severity = anIssue.getAt(\"severity\")\n                                    if (severity != null && !severity.equals(\"information\")) {\n                                       newIssues.add(anIssue)\n                                    }\n                                }\n\n                                // If there are no messages left, set to flag to clear everything.\n                                if (newIssues.isEmpty())\n                                    clear = true\n                                else\n                                    inputJson.putAt(\"issue\", newIssues)\n                            } // If it is an OO, we will always expect an issues array (required in FHIR)\n                        } else if (resourceType.equals(\"Bundle\")) {\n                            // Bundle handling\n                            def entries = inputJson.getAt(\"entry\")\n\n                            if (entries != null) {\n                                def newEntries = []\n                                for (def anEntry : entries) {\n                                    def keepEntry = true\n                                    def resource = anEntry.getAt(\"resource\")\n\n                                    if (resource != null) {\n                                        def entryResourceType = resource.getAt(\"resourceType\")\n                                        if (entryResourceType != null && entryResourceType.equals(\"OperationOutcome\")) {\n                                            def issues = resource.getAt(\"issue\")\n\n                                            if (issues != null) {\n                                                def newIssues = []\n                                                for (def anIssue : issues) {\n                                                    def severity = anIssue.getAt(\"severity\")\n                                                    if (severity != null && !severity.equals(\"information\"))\n                                                        newIssues.add(anIssue)\n                                                    }\n\n                                                    // If there are no issues left, set to flag to remove entry.\n                                                    if (newIssues.isEmpty())\n                                                        keepEntry = false\n                                                    else\n                                                        resource.putAt(\"issue\", newIssues)\n                                            } // If it is an OO, we will always expect an issues array (required in FHIR)\n                                        }\n                                    } else\n                                        keepEntry = false\n\n                                    if (keepEntry)\n                                        newEntries.add(anEntry)\n                                } // end loop of entries\n\n                                if (newEntries.isEmpty())\n                                    clear = true\n                                else\n                                    inputJson.putAt(\"entry\", newEntries)\n                            } // end if entries != null\n                        } // end if bundle\n                    } // end if resource type != null\n\n                    // Write out the flowfile contents.\n                    if (clear) {\n                        outstream.write(\"\".getBytes(StandardCharsets.UTF_8))\n                    } else {\n                        outstream.write( JsonOutput.toJson(inputJson).getBytes(StandardCharsets.UTF_8))\n                    }\n                }\n            }\n        })\n\n        aFlowFile = session.putAttribute(aFlowFile, \"Content-Length\", \"\" + aFlowFile.getSize())\n        session.transfer(aFlowFile, REL_SUCCESS)\n    } catch (Exception e) {\n        getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n        session.transfer(aFlowFile, REL_FAILURE)\n    }\n}\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
              "name" : "ContentEmpty and not Failure?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -84.09903875036514,
                "y" : 1473.144754828182
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "contentEmpty" : "${Content-Length:equals(0):and(\n    ${resourceSavedStatus:equals(\"failure\"):not()}\n)}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "contentEmpty" : {
                  "displayName" : "contentEmpty",
                  "identifiesControllerService" : false,
                  "name" : "contentEmpty",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "a4c662e7-cf55-321d-8e52-fb7a5b2c358d",
              "name" : "Build Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 544.0,
                "y" : 1480.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Build Error Message\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Generates the json to post to the HRI error topic that includes details of the batch resource and error/warning messages.\n */\nclass BuildErrorMessage extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resource was successfully updated it will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null;\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile;\n        }\n\n        @Override\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def outputErrorMessage = [:]\n\n            // Source Batch Id\n            def sourceBatchId = this.theFlowFile.getAttribute(\"batchId\")\n            if (sourceBatchId)\n                outputErrorMessage.putAt(\"sourceBatchId\", sourceBatchId)\n\n            // Notification Batch Id\n            def notificationBatchId = this.theFlowFile.getAttribute(\"messageBatchId\")\n            if (notificationBatchId)\n                outputErrorMessage.putAt(\"notificationBatchId\", notificationBatchId)\n\n            // Batch Name\n            def batchName = this.theFlowFile.getAttribute(\"batchName\")\n            if (batchName)\n                outputErrorMessage.putAt(\"name\", batchName)\n\n            // DataType\n            def dataType = this.theFlowFile.getAttribute(\"dataType\")\n            if (dataType)\n                outputErrorMessage.putAt(\"dataType\", dataType)\n\n            // FHIR Resource id\n            def fhirResourceId = this.theFlowFile.getAttribute(\"resourceId\")\n            if (fhirResourceId)\n                outputErrorMessage.putAt(\"fhirResourceId\", fhirResourceId)\n\n            // FHIR Resource Type\n            def fhirResourceType = this.theFlowFile.getAttribute(\"resourceType\")\n            if (fhirResourceType)\n                outputErrorMessage.putAt(\"fhirResourceType\", fhirResourceType)\n\n            // Bundle Resource id\n            def bundleResourceId = this.theFlowFile.getAttribute(\"bundleId\")\n            if (bundleResourceId)\n                outputErrorMessage.putAt(\"bundleResourceId\", bundleResourceId)\n\n            // Bundle Entry Index\n            def bundleEntryIndex = this.theFlowFile.getAttribute(\"fragment.index\")\n            if (bundleEntryIndex)\n                outputErrorMessage.putAt(\"bundleEntryIndex\", bundleEntryIndex)\n\n            // Adapter name\n            outputErrorMessage.putAt(\"adapterName\", \"Interop FHIR Adapter\")\n\n            // FHIR Resource Tag\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n            if (fhirResourceTag)\n                outputErrorMessage.putAt(\"fhirResourceTag\", fhirResourceTag)\n\n            // Status Code\n            def statusCode = this.theFlowFile.getAttribute(\"invokehttp.status.code\")\n            if (statusCode)\n                outputErrorMessage.putAt(\"statusCode\", statusCode)\n\n            // Status Message\n            def statusMessage = this.theFlowFile.getAttribute(\"invokehttp.status.message\")\n            if (statusMessage)\n                outputErrorMessage.putAt(\"statusMessage\", statusMessage)\n\n            // Add the Error details if any\n            def inputText = instream.getText()\n            if (inputText) {\n                def jsonSlurper = new JsonSlurper()\n                def inputJson = jsonSlurper.parseText(inputText)\n\n                outputErrorMessage.putAt(\"errorDetails\", inputJson)\n            }\n\n            outstream.write( JsonOutput.toJson(outputErrorMessage).getBytes(StandardCharsets.UTF_8))\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback(aFlowFile))\n                aFlowFile = session.putAttribute(aFlowFile, \"mime.type\", \"application/json\")\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (Exception e) {\n                getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new BuildErrorMessage()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
              "name" : "Error Message Build Failure",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1304.0,
                "y" : 1480.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "Error Message Build Failure",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\", ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "5dbf4665-b39c-31b9-b2c3-0028c1f11225",
              "name" : "Strip Information Messages",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -576.0,
                "y" : 1264.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Strip Information Messages\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Removes any informational messages that are returned from the FHIR server for this FHIR resource.\n * If there are no other messages remaining, the flow file is cleared out so no message is posted on the error topic.\n */\nclass StripInformationalMessages extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resource was successfully updated it will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n\n        @Override\n        void process(InputStream instream,  OutputStream outstream) throws IOException {\n            def inputText = instream.getText()\n\n            if (inputText != null && !inputText.isEmpty()) {\n                def jsonSlurper = new JsonSlurper()\n                def inputJson = null\n                try {\n                    inputJson = jsonSlurper.parseText(inputText)\n                } catch (Exception e) {\n                    // Not json, just return\n                    return\n                }\n\n                def clear = false\n\n                def resourceType = inputJson.getAt(\"resourceType\")\n\n                if (resourceType != null) {\n                    if (resourceType.equals(\"OperationOutcome\")) {\n                        // OO resource handling\n                        // Keep only issues that are not informational\n                        def issues = inputJson.getAt(\"issue\")\n                        if (issues != null) {\n                            def newIssues = []\n                            for (def anIssue : issues) {\n                                def severity = anIssue.getAt(\"severity\")\n                                if (severity != null && !severity.equals(\"information\")) {\n                                    newIssues.add(anIssue)\n                                }\n                            }\n\n                            // If there are no messages left, set to flag to clear everything.\n                            if (newIssues.isEmpty())\n                                clear = true\n                            else\n                                inputJson.putAt(\"issue\", newIssues)\n                        } // If it is an OO, we will always expect an issues array (required in FHIR)\n                    } else if (resourceType.equals(\"Bundle\")) {\n                        // Bundle handling\n                        def entries = inputJson.getAt(\"entry\")\n\n                        if (entries != null) {\n                            def newEntries = []\n                            for (def anEntry : entries) {\n                                def keepEntry = true\n                                def resource = anEntry.getAt(\"resource\")\n\n                                if (resource != null) {\n                                    def entryResourceType = resource.getAt(\"resourceType\")\n                                    if (entryResourceType != null && entryResourceType.equals(\"OperationOutcome\")) {\n                                        def issues = resource.getAt(\"issue\")\n\n                                        if (issues != null) {\n                                            def newIssues = []\n                                            for (def anIssue : issues) {\n                                                def severity = anIssue.getAt(\"severity\")\n                                                if (severity != null && !severity.equals(\"information\")) {\n                                                    newIssues.add(anIssue)\n                                                }\n                                            }\n\n                                            // If there are no issues left, set to flag to remove entry.\n                                            if (newIssues.isEmpty())\n                                                keepEntry = false\n                                            else\n                                                resource.putAt(\"issue\", newIssues)\n                                        } // If it is an OO, we will always expect an issues array (required in FHIR)\n                                    }\n\n                                } else {\n                                    keepEntry = false\n                                }\n\n                                if (keepEntry) {\n                                    newEntries.add(anEntry)\n                                }\n\n                            } // end loop of entries\n\n                            if (newEntries.isEmpty()) {\n                                clear = true\n                            } else {\n                                inputJson.putAt(\"entry\", newEntries)\n                            }\n                        } // end if entries != null\n                    } // end if bundle\n                } // end if resource type != null\n\n                // Write out the flowfile contents.\n                if (clear) {\n                    outstream.write(\"\".getBytes(StandardCharsets.UTF_8))\n                } else {\n                    def output_json_string = JsonOutput.toJson(inputJson)\n                    outstream.write( output_json_string.getBytes(StandardCharsets.UTF_8))\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback())\n                aFlowFile = session.putAttribute(aFlowFile, \"Content-Length\", \"\" + aFlowFile.getSize())\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (Exception e) {\n                getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new StripInformationalMessages()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "DISABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "748ee720-12cc-3032-961d-e593029984d8",
              "name" : "Log Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1304.0,
                "y" : 2312.0
              },
              "properties" : {
                "log-message" : "${errorType}: ${errorMessage}",
                "log-level" : "error",
                "log-prefix" : "Interop FHIR Adapter - "
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "bbeb0c67-74f3-3035-8dda-5adb0db657d4",
              "identifier" : "6db22765-83bc-356e-82c0-b7cc27db71be",
              "name" : "Set Batch Id to Outgoing message batch",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 539.9009612496349,
                "y" : 1697.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "batchId" : "${messageBatchId}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "batchId" : {
                  "displayName" : "batchId",
                  "identifiesControllerService" : false,
                  "name" : "batchId",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "9979a302-9969-3c5e-9eb1-81e9bb30b71b",
                "name" : "Merge the bundle entries attributes",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "8b1a1efc-53e5-3c34-9f96-d9857e1064c6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "PARTITION_BY_ATTRIBUTE",
              "name" : "",
              "partitioningAttribute" : "fragment.identifier",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success", "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "f59e4455-da72-33de-986b-bab1636f4d2c",
                "name" : "Put All Attributes in Content",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "778deba0-bf63-30fb-a88c-5711f8aa9e5b",
                "name" : "If from split bundle",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "b2e88edb-123d-3e3e-b71a-dcf3e28f7478",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "e7021364-3d4f-3779-93bc-e625a5ca9dd4",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "dcd003e5-3536-3e7c-a147-5906b8160a94",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "d9bd1b3d-52e4-322d-a62d-1cb6bd4ac526",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "778deba0-bf63-30fb-a88c-5711f8aa9e5b",
                "name" : "If from split bundle",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "2009b3ea-e26d-3128-8507-6f45f361cb89",
                "name" : "Determine Overall Status",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "0795745d-a6dc-3ec3-a8cc-186f9b2adf0a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "merged" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "9979a302-9969-3c5e-9eb1-81e9bb30b71b",
                "name" : "Merge the bundle entries attributes",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "dcd003e5-3536-3e7c-a147-5906b8160a94",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "37f64ec7-58a1-32cf-b5e7-c6b562149dfe",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "9979a302-9969-3c5e-9eb1-81e9bb30b71b",
                "name" : "Merge the bundle entries attributes",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "dcd003e5-3536-3e7c-a147-5906b8160a94",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "df573ccc-e5ec-391f-b125-bc907305d15e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "2009b3ea-e26d-3128-8507-6f45f361cb89",
                "name" : "Determine Overall Status",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "f59e4455-da72-33de-986b-bab1636f4d2c",
                "name" : "Put All Attributes in Content",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "1c11cb5d-b330-3fa9-b594-587b220eda20",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "bundleWasSplit" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "778deba0-bf63-30fb-a88c-5711f8aa9e5b",
                "name" : "If from split bundle",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "46c1ac4b-4586-301f-8a84-b01d842bdb7b",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "1007587d-c8d7-3e72-9483-995e55a81992",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
                "id" : "2009b3ea-e26d-3128-8507-6f45f361cb89",
                "name" : "Determine Overall Status",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "e7021364-3d4f-3779-93bc-e625a5ca9dd4",
              "name" : "Input",
              "position" : {
                "x" : 1448.0,
                "y" : 1032.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Merge if split from bundle",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "dcd003e5-3536-3e7c-a147-5906b8160a94",
              "name" : "Output",
              "position" : {
                "x" : 2184.0,
                "y" : 1800.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "46c1ac4b-4586-301f-8a84-b01d842bdb7b",
              "name" : "Failure",
              "position" : {
                "x" : 2160.0,
                "y" : 2296.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "position" : {
              "x" : 1240.0,
              "y" : 2128.0
            },
            "processGroups" : [ ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "2009b3ea-e26d-3128-8507-6f45f361cb89",
              "name" : "Determine Overall Status",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1392.0,
                "y" : 2264.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.logging.ComponentLog\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.InputStreamCallback\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Rebuild Bundle\" processor in \"Send to FHIR and Post Errors\" >> \"Determine Overall Status\" >> \"Merge if split from bundle\"\n *\n * Reads the array of attributes in the content to determine the overall FHIR storage status of a bundle\n * in the event a bundle failed to persist as whole and attempted to store each entry into FHIR.\n *\n * The overall status will be set in the resourceSavedStatus attribute.\n *\n * The status will take precedence in the following order:\n * Aborted\n * Failure\n * Warning\n * Success\n *\n */\nclass DetermineBundleStatusClass extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"Status was determined\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"Status not able to be determined, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    public enum Status {\n        SUCCESS(\"success\", 0),\n        WARNING(\"warning\", 1),\n        FAILURE(\"failure\", 2),\n        ABORTED(\"aborted\", 3)\n\n        private String value = null\n        private int rank = 0\n\n        Status(String value, int rank) {\n            this.value = value\n            this.rank = rank\n        }\n\n        public String value() {\n            return value\n        }\n\n        public int rank() {\n            return rank\n        }\n\n        public static Status fromValue(String value) {\n            for (Status entryType : Status.values()) {\n                if (entryType.value.equalsIgnoreCase(value)) {\n                    return entryType\n                }\n            }\n            throw new IllegalArgumentException(\"No constant with value \" + value + \" found.\")\n        }\n\n        public Status returnHigher(Status otherStatus) {\n            if (otherStatus == null)\n                return this\n\n            if (otherStatus.rank() >= rank())\n                return otherStatus\n            else\n                return this\n        }\n\n        public String toString() {\n            return value;\n        }\n    }\n\n\n    /**\n     * Class that determines the overall status\n     */\n    public class BundleStatusStreamCallback extends InputStreamCallback {\n        private FlowFile theFlowFile = null\n        private Status status = null\n\n        public BundleStatusStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile\n        }\n\n        public Status getStatus() {\n            return this.status\n        }\n\n        @Override\n        void process(InputStream instream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            ArrayList jsonArray = jsonSlurper.parse(instream, \"UTF-8\")\n\n            processJson(jsonArray, getLogger())\n        }\n\n        public void processJson(ArrayList jsonArray, ComponentLog logger) {\n            // Iterate through the array to determine overall status\n            for (Map flowFileAttributes : jsonArray) {\n                String resourceSavedStatus = flowFileAttributes.getAt(\"resourceSavedStatus\")\n                if (resourceSavedStatus != null) {\n                    Status storageResult = Status.fromValue(resourceSavedStatus)\n                    if (storageResult != null) {\n                        this.status = storageResult.returnHigher(this.status)\n                    }\n\n                    if (this.status == Status.ABORTED)\n                        return\n                } else {\n                    logger.warn('FHIR storage status not found for {} resource with id {}', [flowFileAttributes.getAt(\"resourceType\"), flowFileAttributes.getAt(\"resourceId\")] as Object[])\n                }\n            }\n        }\n\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                BundleStatusStreamCallback callBack =  new BundleStatusStreamCallback(aFlowFile)\n                session.read(aFlowFile, callBack)\n                Status overallStatus = callBack.getStatus()\n                if (overallStatus != null) {\n                    session.putAttribute(aFlowFile, \"resourceSavedStatus\", overallStatus.toString())\n                    session.transfer(aFlowFile, REL_SUCCESS)\n                } else {\n                    getLogger().error('Unable to determine overall bundle status. {}', [this] as Object[])\n                    session.transfer(aFlowFile, REL_FAILURE)\n                }\n            } catch (Exception e) {\n                getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new DetermineBundleStatusClass()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "f59e4455-da72-33de-986b-bab1636f4d2c",
              "name" : "Put All Attributes in Content",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1392.0,
                "y" : 1624.0
              },
              "properties" : {
                "Destination" : "flowfile-content",
                "Null Value" : "false",
                "Include Core Attributes" : "true"
              },
              "propertyDescriptors" : {
                "attributes-to-json-regex" : {
                  "displayName" : "Attributes Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-json-regex",
                  "sensitive" : false
                },
                "Destination" : {
                  "displayName" : "Destination",
                  "identifiesControllerService" : false,
                  "name" : "Destination",
                  "sensitive" : false
                },
                "Null Value" : {
                  "displayName" : "Null Value",
                  "identifiesControllerService" : false,
                  "name" : "Null Value",
                  "sensitive" : false
                },
                "Attributes List" : {
                  "displayName" : "Attributes List",
                  "identifiesControllerService" : false,
                  "name" : "Attributes List",
                  "sensitive" : false
                },
                "Include Core Attributes" : {
                  "displayName" : "Include Core Attributes",
                  "identifiesControllerService" : false,
                  "name" : "Include Core Attributes",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "778deba0-bf63-30fb-a88c-5711f8aa9e5b",
              "name" : "If from split bundle",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1392.0,
                "y" : 1280.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "bundleWasSplit" : "${bundleWasSplit:equals(\"true\")}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "bundleWasSplit" : {
                  "displayName" : "bundleWasSplit",
                  "identifiesControllerService" : false,
                  "name" : "bundleWasSplit",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "original" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "25ae3ba2-19c7-3545-bc3c-03f7045d26d2",
              "identifier" : "9979a302-9969-3c5e-9eb1-81e9bb30b71b",
              "name" : "Merge the bundle entries attributes",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1392.0,
                "y" : 1936.0
              },
              "properties" : {
                "Keep Path" : "false",
                "Merge Strategy" : "Defragment",
                "Attribute Strategy" : "Keep All Unique Attributes",
                "Compression Level" : "1",
                "Maximum Number of Entries" : "400",
                "Minimum Group Size" : "0 B",
                "Maximum number of Bins" : "10000",
                "Tar Modified Time" : "${file.lastModifiedTime}",
                "Delimiter Strategy" : "Text",
                "Merge Format" : "Binary Concatenation",
                "Footer File" : "]",
                "Max Bin Age" : "10 minutes",
                "Demarcator File" : ",",
                "Header File" : "[",
                "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
                "Minimum Number of Entries" : "1"
              },
              "propertyDescriptors" : {
                "Keep Path" : {
                  "displayName" : "Keep Path",
                  "identifiesControllerService" : false,
                  "name" : "Keep Path",
                  "sensitive" : false
                },
                "Maximum Group Size" : {
                  "displayName" : "Maximum Group Size",
                  "identifiesControllerService" : false,
                  "name" : "Maximum Group Size",
                  "sensitive" : false
                },
                "Merge Strategy" : {
                  "displayName" : "Merge Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Merge Strategy",
                  "sensitive" : false
                },
                "Attribute Strategy" : {
                  "displayName" : "Attribute Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Attribute Strategy",
                  "sensitive" : false
                },
                "Compression Level" : {
                  "displayName" : "Compression Level",
                  "identifiesControllerService" : false,
                  "name" : "Compression Level",
                  "sensitive" : false
                },
                "Maximum Number of Entries" : {
                  "displayName" : "Maximum Number of Entries",
                  "identifiesControllerService" : false,
                  "name" : "Maximum Number of Entries",
                  "sensitive" : false
                },
                "Minimum Group Size" : {
                  "displayName" : "Minimum Group Size",
                  "identifiesControllerService" : false,
                  "name" : "Minimum Group Size",
                  "sensitive" : false
                },
                "Maximum number of Bins" : {
                  "displayName" : "Maximum number of Bins",
                  "identifiesControllerService" : false,
                  "name" : "Maximum number of Bins",
                  "sensitive" : false
                },
                "Tar Modified Time" : {
                  "displayName" : "Tar Modified Time",
                  "identifiesControllerService" : false,
                  "name" : "Tar Modified Time",
                  "sensitive" : false
                },
                "Delimiter Strategy" : {
                  "displayName" : "Delimiter Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Delimiter Strategy",
                  "sensitive" : false
                },
                "Merge Format" : {
                  "displayName" : "Merge Format",
                  "identifiesControllerService" : false,
                  "name" : "Merge Format",
                  "sensitive" : false
                },
                "Footer File" : {
                  "displayName" : "Footer",
                  "identifiesControllerService" : false,
                  "name" : "Footer File",
                  "sensitive" : false
                },
                "Max Bin Age" : {
                  "displayName" : "Max Bin Age",
                  "identifiesControllerService" : false,
                  "name" : "Max Bin Age",
                  "sensitive" : false
                },
                "Demarcator File" : {
                  "displayName" : "Demarcator",
                  "identifiesControllerService" : false,
                  "name" : "Demarcator File",
                  "sensitive" : false
                },
                "Correlation Attribute Name" : {
                  "displayName" : "Correlation Attribute Name",
                  "identifiesControllerService" : false,
                  "name" : "Correlation Attribute Name",
                  "sensitive" : false
                },
                "Header File" : {
                  "displayName" : "Header",
                  "identifiesControllerService" : false,
                  "name" : "Header File",
                  "sensitive" : false
                },
                "mergecontent-metadata-strategy" : {
                  "displayName" : "Metadata Strategy",
                  "identifiesControllerService" : false,
                  "name" : "mergecontent-metadata-strategy",
                  "sensitive" : false
                },
                "Minimum Number of Entries" : {
                  "displayName" : "Minimum Number of Entries",
                  "identifiesControllerService" : false,
                  "name" : "Minimum Number of Entries",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.MergeContent",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "83bd1369-ed26-38d8-9a72-5a3fb90c21f5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
                "name" : "Set Integrator Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "60f246a3-157d-3ae8-9dff-e5ae9b6f688d",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "matched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "d89f7d3d-6822-36b9-a272-6caa5f97984a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "id" : "406f67cc-b16f-39a5-82e2-2d658ea5d64b",
                "name" : "success",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
                "name" : "Set Integrator Id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "e7a47b68-f929-3e5d-b64a-46c95daec4ba",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "5b752e2d-34be-30fe-b06f-314ebdc02728",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "43022a2d-db9b-336f-a1d6-951b0d6baa38",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "isNull" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1528.0,
                "y" : -632.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "e71f409b-6e8f-354f-825a-b661c208bd79",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "2701b540-30f3-364d-836a-30bca6daccb7",
                "name" : "Turn Off AutoBundle",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "c07e31d2-d7da-3a11-99c8-90ac4e1f4a05",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "ac56f897-3fcd-347a-8e5e-4dbf92e352f2",
                "name" : "autobundle enabled?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "02bb3d33-6090-383b-aec1-b3b0245aa113",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "209f83c2-9c3c-3d14-8753-d6993f913c1a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "api_success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "1168533a-7908-331b-a0a4-64eb18871e73",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "id" : "e29f59ef-9873-37f3-b5d0-21f3bb2e2610",
                "name" : "retry",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "995764b9-0dc1-33ca-bfaf-dc903cc09c77",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
                "name" : "Failed",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "823d60ad-4c08-37ee-96f6-f93af5b63620",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "id" : "d7d78dcb-dd1e-3090-b21b-e4e3612e654d",
                "name" : "input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "a2fb5792-6ada-3df4-9075-280433256e17",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "autoBundle" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "ac56f897-3fcd-347a-8e5e-4dbf92e352f2",
                "name" : "autobundle enabled?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "72ef2169-e42a-3b50-a553-7984654134dd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "6efa4cab-084d-3a26-8f11-b5939f518ce5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                "name" : "Input Bundle",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "ae0910b5-d1c2-3761-ab23-9c9d5f388aa2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "bundle" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "2701b540-30f3-364d-836a-30bca6daccb7",
                "name" : "Turn Off AutoBundle",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "ee1553e8-172a-3d49-9502-e543569c847e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                "name" : "Split",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "6c689930-7c6d-3d9c-8989-b1f3d2e3cc34",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "a56287ba-5c1e-361c-80e5-cdb522d8989a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "b8829046-5ad4-39c2-ab3c-95d153014dfd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1688.0,
                "y" : 728.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "8546d8e6-f017-3182-9e39-839ba5d97256",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "fa7cbdff-e17f-3dc4-a3c9-e592f7913e95",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success", "failure" ],
              "source" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "1d4071ea-a41c-3375-8929-492c28c27a31",
                "name" : "Warnings",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "b8d094b4-242c-391f-afca-2d06c46b255c",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "hasWarnings" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "730d3827-f21a-39fd-8173-786eb8de46e6",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "34668857-5cc7-38d2-a59a-d0a8a87afabd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "e1eb6a61-c7ae-3ffa-832d-e534c539bc60",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "ac56f897-3fcd-347a-8e5e-4dbf92e352f2",
                "name" : "autobundle enabled?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "975b086c-fb32-34ab-afa5-6d6f0e0803e2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1520.0,
                "y" : 1072.0
              }, {
                "x" : 3656.0,
                "y" : 1072.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "23f945ca-b6e2-38c6-b052-1475528518d5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "0ed9e4cd-a9c7-386a-aadb-9b7e23573c89",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                "name" : "output",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1792.0,
                "y" : 648.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "38f135c1-5386-3ee7-937c-aff039fcf241",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                "name" : "API Failed",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 1872.0,
                "y" : -1152.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Save To FHIR",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "730d3827-f21a-39fd-8173-786eb8de46e6",
              "name" : "Success",
              "position" : {
                "x" : 2088.0,
                "y" : 872.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "1d4071ea-a41c-3375-8929-492c28c27a31",
              "name" : "Warnings",
              "position" : {
                "x" : 2088.0,
                "y" : 992.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
              "name" : "Failed",
              "position" : {
                "x" : 3832.0,
                "y" : 144.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
              "name" : "Aborted",
              "position" : {
                "x" : 1824.0,
                "y" : 552.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "cms_adapter_parameters",
            "position" : {
              "x" : 1248.0,
              "y" : 1208.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2578812d-0f9b-3672-a52d-e02dee695119",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "b0b5d768-4481-32c2-aafc-ad17057a642e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                  "name" : "Set Error Code 400 if Bundle Has Errors",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "57b19826-9d88-3d10-a771-e50eba9a7593",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "hasError" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "ec87ea9b-bb49-31a8-9d4a-f993953e31af",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "fb9ae8e3-a430-3a61-8425-0cb68fe16a92",
                  "name" : "Set Flag to Indicate bundle was split",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8f1cfcee-a77e-33a2-94dd-d701c87beeec",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                  "name" : "Set Error Code 400 if Bundle Has Errors",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "id" : "442c33e6-b77a-3636-aa8f-445fade545de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e15d9be0-07cc-38a4-84df-bde406118971",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "3f00f5a9-1443-3615-a75f-c9296723f464",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d2a7be13-cd49-3d38-9515-72a87d0e169e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 32.0,
                  "y" : 1328.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "99186a42-61d0-3855-b951-00c796bd6875",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "id" : "f022395f-462b-3e6d-8c0a-2080a4f5d2e7",
                  "name" : "Other Error",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "fb9ae8e3-a430-3a61-8425-0cb68fe16a92",
                  "name" : "Set Flag to Indicate bundle was split",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "47d7de21-95d8-351f-8b07-b34a6a65a47e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "split" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "464accd9-9bb2-3a6e-9bae-40b44d15e378",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c25c4053-ca7b-3972-b2c7-04c4f48d98e0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle_batch_error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                  "name" : "Is Error 400/422 on Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8815ca10-5d3b-3612-b1d9-626e0a3dfbb6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                  "name" : "API Failed",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "565fc3ff-a125-3ba9-ab72-86c481bd25f4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "92db51b1-0614-32f7-8608-63970aad0349",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                  "name" : "Bundle set to Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e228ed4b-4276-3f1d-b4ee-8e4079278838",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "580efa05-995c-322b-94ff-327f844b833e",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "id" : "72c68f13-222d-31c1-864a-5f5d078abdd1",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d39e5a15-a52e-3c8b-bfe4-b0f6a777d1a7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "b8382db0-f953-35e4-9b10-65ce99fe570b",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "20c44f31-345a-3edd-84b0-9474fcdb5ba1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "matched", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -811.1295776367188,
                  "y" : 1111.6143798828125
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "580efa05-995c-322b-94ff-327f844b833e",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "53c998d8-faea-3e4d-8017-85d6e493b446",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "ca196e38-050c-3c32-bc66-bed93117f4a3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "b127729d-f571-3bcb-a5d4-93770b09be64",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "id" : "679660e6-ff78-34f7-bf39-bfbf38536552",
                  "name" : "Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 120.0,
                  "y" : 480.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c2d59c24-d413-3896-a83d-0beaa5ca8bb1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                  "name" : "Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0c878641-40b3-37c1-82b5-090c608dc0b1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "757b146a-de80-3315-ae09-896d0ff15361",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                  "name" : "Response",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1328.0,
                  "y" : 360.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "53f06da0-4458-3d4b-bda5-5507dbd20bf5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fd107b9e-634e-3353-9278-0a4d36f63b48",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 120.0,
                  "y" : 560.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fa414e13-0415-3c9e-8066-1311dd9b33d1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                  "name" : "Split",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "41d870a4-4321-3b49-a3fe-83a0983af3c8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 328.0,
                  "y" : 1328.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "ed80c6c4-e47d-351f-a535-355f27881c99",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "id" : "e310dcae-318f-3a9c-9921-57f9ef743be0",
                  "name" : "Split",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "abff8f40-02ea-3b74-ba8d-c03b860bed8b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "hasDeleteEntries" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -72.0,
                  "y" : 992.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "id" : "442c33e6-b77a-3636-aa8f-445fade545de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "932600fe-2fd2-3c36-a639-0258af0ed74d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "id" : "dc9c5a55-0e8e-3451-953c-85e2d12220d1",
                  "name" : "Stop Processing",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d067bfc4-e4f8-3694-8395-b1bee485f787",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "b8382db0-f953-35e4-9b10-65ce99fe570b",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                  "name" : "Aborted",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4c3ead9c-7485-39dc-9881-c1edcb5e8dab",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "737e2afb-0c63-38c0-8981-92f740b5d937",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundleIsBatch" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "90db25e8-7b81-35fd-8ac5-5ed5096dcde7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                  "name" : "Input Bundle",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "17428493-c55d-34b4-b6e0-6d74a131b505",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "b8382db0-f953-35e4-9b10-65ce99fe570b",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fc5eb044-2502-3e47-b6c8-d97fcf9aeebc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2727ce29-0895-36fa-8600-ffc6a986adf4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "id" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8d1e6be6-e982-3c95-87a5-fc16e059b8cb",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                  "name" : "No Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "30cfc4c1-b7aa-3a24-94a8-16b26d45ae8b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "api_success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                  "name" : "Is Error 400/422 on Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e0ada1bc-295a-39da-a9b9-75ad2c5aab90",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e9f4559d-c3de-383e-8a7e-c0fbab947820",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "069c0c11-055a-37b6-b05a-cac0b4cffeae",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                  "name" : "Bundle set to Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "79523026-27eb-368f-adcd-2bf85162bdfe",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle_error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "bafe39b6-9de5-35d3-ab5f-bda995050b8e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "not-found", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -1248.0,
                  "y" : 1936.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                  "name" : "API Failed",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "9e99008f-429d-3147-919c-9cceed0905ca",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                "name" : "Input Bundle",
                "position" : {
                  "x" : 576.0,
                  "y" : -344.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 32.0,
                "identifier" : "6bad392a-d3c9-3269-99bd-e6d974a79c57",
                "label" : "Bundle was successful",
                "position" : {
                  "x" : -88.0,
                  "y" : -408.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 192.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 48.0,
                "identifier" : "08f9bdf0-9791-3513-88e3-29d39f1df0df",
                "label" : "Attempted bundle with batch transaction failed.  \nReturn all errors from bundle for 400/422.\nOther errors are handled elsewhere in the flow.",
                "position" : {
                  "x" : -728.0,
                  "y" : -104.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 352.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 48.0,
                "identifier" : "7c919332-9d7a-31c7-b918-87d349fe5988",
                "label" : "Since there are delete entries in the bundle, attempt with \nbatch transaction.",
                "position" : {
                  "x" : 952.0,
                  "y" : 976.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 328.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 40.0,
                "identifier" : "57a5e389-0538-30c0-855c-969cef70510a",
                "label" : "Split up the bundle if there are no delete entries to \nattempt storing individual entries.",
                "position" : {
                  "x" : 888.0,
                  "y" : 1312.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 304.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 64.0,
                "identifier" : "2ace18eb-aff5-376f-8b1a-db0b72386ee9",
                "label" : "Batch calls will return 200 error codes even if entries have errors.\nSet the error code to 400 if any entries have errors.",
                "position" : {
                  "x" : -760.0,
                  "y" : -848.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 424.0
              } ],
              "name" : "Handle Resource Bundle",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                "name" : "Failure",
                "position" : {
                  "x" : 1656.0,
                  "y" : 2024.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                "name" : "Split",
                "position" : {
                  "x" : 576.0,
                  "y" : 2024.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                "name" : "Aborted",
                "position" : {
                  "x" : -288.0,
                  "y" : 160.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                "name" : "Success",
                "position" : {
                  "x" : -1288.0,
                  "y" : -528.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                "name" : "API Failed",
                "position" : {
                  "x" : -576.0,
                  "y" : 1912.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "cms_adapter_parameters",
              "position" : {
                "x" : 1336.0,
                "y" : 240.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "e310dcae-318f-3a9c-9921-57f9ef743be0",
                    "name" : "Split",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "8f2e24cf-c9a0-3416-99c7-4a15dce4d027",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "hasOO" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "3236e79d-d7f2-3aac-b443-85d92082d389",
                    "name" : "Response has OO?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "6790a1ea-f76a-346c-aeb1-eb19889a546b",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "fc9e03fd-6988-31ee-bbcb-0875e521b072",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "72c68f13-222d-31c1-864a-5f5d078abdd1",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "679660e6-ff78-34f7-bf39-bfbf38536552",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "70f3901c-1d7d-3532-9de0-103183e8a8d6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "427d5828-7be5-389a-bc59-aa54b99a6b1d",
                    "name" : "Set 404 message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 552.0,
                    "y" : 952.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "f022395f-462b-3e6d-8c0a-2080a4f5d2e7",
                    "name" : "Other Error",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "38df817d-b64d-37ee-991a-6a90f2d60fe6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "d0d75301-ad02-339e-aaef-ebe74bf6a972",
                    "name" : "Check 401 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "3236e79d-d7f2-3aac-b443-85d92082d389",
                    "name" : "Response has OO?",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "5e19f56f-ab7b-34ac-a14e-e06c3f54be5e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "404Error" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "6790a1ea-f76a-346c-aeb1-eb19889a546b",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "427d5828-7be5-389a-bc59-aa54b99a6b1d",
                    "name" : "Set 404 message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "8a9c90a8-773c-3d4c-84d7-01a9a3fe437d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "3236e79d-d7f2-3aac-b443-85d92082d389",
                    "name" : "Response has OO?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "e8645282-7c02-3d0b-aac3-8a5c6f8bdf1e",
                    "name" : "Set 401 message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "adefc7ae-b5aa-3fee-99ac-4c6d581da868",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "401Error" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "d0d75301-ad02-339e-aaef-ebe74bf6a972",
                    "name" : "Check 401 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "d0d75301-ad02-339e-aaef-ebe74bf6a972",
                    "name" : "Check 401 error",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "72891d15-575a-3fd4-83e8-a87d35dc94b3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "6790a1ea-f76a-346c-aeb1-eb19889a546b",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "dc9c5a55-0e8e-3451-953c-85e2d12220d1",
                    "name" : "Stop Processing",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "c9075a42-e57b-31bf-99b4-6edc3f3fb418",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                    "id" : "e8645282-7c02-3d0b-aac3-8a5c6f8bdf1e",
                    "name" : "Set 401 message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "72c68f13-222d-31c1-864a-5f5d078abdd1",
                  "name" : "Input",
                  "position" : {
                    "x" : -240.0,
                    "y" : 440.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Handle 401/404 Errors",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "dc9c5a55-0e8e-3451-953c-85e2d12220d1",
                  "name" : "Stop Processing",
                  "position" : {
                    "x" : -56.0,
                    "y" : 1472.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "679660e6-ff78-34f7-bf39-bfbf38536552",
                  "name" : "Retry",
                  "position" : {
                    "x" : -1032.0,
                    "y" : 1472.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "f022395f-462b-3e6d-8c0a-2080a4f5d2e7",
                  "name" : "Other Error",
                  "position" : {
                    "x" : 432.0,
                    "y" : 1472.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "e310dcae-318f-3a9c-9921-57f9ef743be0",
                  "name" : "Split",
                  "position" : {
                    "x" : -584.0,
                    "y" : 1472.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -80.0,
                  "y" : 768.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "6790a1ea-f76a-346c-aeb1-eb19889a546b",
                  "name" : "Check 404 error",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -292.16257672653546,
                    "y" : 605.1997346764545
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "404Error" : "${invokehttp.status.code:equals('404')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "404Error" : {
                      "displayName" : "404Error",
                      "identifiesControllerService" : false,
                      "name" : "404Error",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "3236e79d-d7f2-3aac-b443-85d92082d389",
                  "name" : "Response has OO?",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -636.1625767265355,
                    "y" : 885.1997346764545
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "hasOO" : "${invokehttp.response.body:find('\"resourceType\"\\s*:\\s*\"OperationOutcome\"')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "hasOO" : {
                      "displayName" : "hasOO",
                      "identifiesControllerService" : false,
                      "name" : "hasOO",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "e8645282-7c02-3d0b-aac3-8a5c6f8bdf1e",
                  "name" : "Set 401 message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -112.0,
                    "y" : 1184.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "FHIR Server - Not Authorized"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "d0d75301-ad02-339e-aaef-ebe74bf6a972",
                  "name" : "Check 401 error",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -112.0,
                    "y" : 888.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "401Error" : "${invokehttp.status.code:equals('401')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "401Error" : {
                      "displayName" : "401Error",
                      "identifiesControllerService" : false,
                      "name" : "401Error",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0d94a8da-5255-3185-b76d-fd3f0a389a5a",
                  "identifier" : "427d5828-7be5-389a-bc59-aa54b99a6b1d",
                  "name" : "Set 404 message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -1088.0,
                    "y" : 1144.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "Not Found"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "d8f89da6-20eb-3955-a417-59df8c025bb6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "9401f751-73c3-3a7b-a1ea-f9488baf787b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "43071c3d-2cf1-37fa-97ac-df21d5524400",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "aab94691-8c50-30fe-9e9f-966fc5898afe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "providerDirectory" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "eb302852-893e-3280-8192-8cfd9b03e420",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "f6e52f05-ff86-3dfd-8f92-695feaca59ad",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "637548d6-e52b-3bae-ba99-2eb27368129e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "b528fd50-3745-32e3-9256-7a321174a00c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "23023de5-bc11-33bf-b61d-5b112ae77ffe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "c275bfc3-60a5-3ba9-a8bc-34206982a876",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "2335ed46-6329-3cdf-8cb7-d02b93dc9b39",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "position" : {
                    "x" : 1448.0,
                    "y" : -344.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Post Resource Bundle to FHIR server",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                  "name" : "No Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 288.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                  "name" : "Response",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 152.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                  "name" : "Failure",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 416.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                  "name" : "Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 536.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "cms_adapter_parameters",
                "position" : {
                  "x" : 504.0,
                  "y" : 272.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 24,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                  "name" : "Post Resource to FHIR Patient Access",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 736.0,
                    "y" : 240.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=${FHIRPreferSetting}",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd_PatientAccess}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL_PatientAccess}${fhirUrlSuffix}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "130 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User_PatientAccess}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                  "name" : "Is Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1392.0,
                    "y" : -152.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "providerDirectory" : "${kafka.topic:getDelimitedField(4,'.'):toLower():startsWith('provider_directory')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "providerDirectory" : {
                      "displayName" : "providerDirectory",
                      "identifiesControllerService" : false,
                      "name" : "providerDirectory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 24,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                  "name" : "Post Resource to FHIR Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2112.0,
                    "y" : 248.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=${FHIRPreferSetting}",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd_ProviderDirectory}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL_ProviderDirectory}${fhirUrlSuffix}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "130 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User_ProviderDirectory}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "44325a82-2935-3617-8aff-76b97b82d06a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "8362a4c2-c33f-3f14-ae11-09281b314c86",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "3c03c1cd-0b21-38d5-97ea-b754502eb9d5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "945f938b-bab8-3f60-b89d-e9b48f1c98d1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "a269226a-0d82-33b9-a944-2ead976ec147",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "6019302e-f09a-347e-b3ca-369096dd5c38",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 984.0,
                    "y" : 776.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "7ce27e28-a932-35f8-9aba-aaf48aee34a6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "577578a1-34a6-34ca-981c-5f519fd0cc0c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "9b4096fe-2019-3ac0-88c6-a9f1a84eeb78",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -456.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -648.0,
                  "y" : 1576.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "08cec303-ea83-3e4f-908a-825c09227387",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "position" : {
                      "x" : 576.0,
                      "y" : 224.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Clear Flow File Contents",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "position" : {
                      "x" : 576.0,
                      "y" : 1048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 792.0,
                    "y" : 336.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "NONE",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                    "name" : "Log Error Message",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 992.0,
                      "y" : 752.0
                    },
                    "properties" : {
                      "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                      "log-level" : "warn",
                      "log-prefix" : "Interop FHIR Adapter - "
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 744.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "text/plain",
                      "Content-Type" : "text/plain"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 480.0
                    },
                    "properties" : {
                      "Regular Expression" : ".",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Always Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                  "name" : "Bring response body json to root",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                  "name" : "Route on 400/422",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "771e8952-f790-325a-bfdf-ce5074466a02",
                  "name" : "Put Response Body in flowfile content",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "f1e71f71-7272-3241-b185-036d7ddaaddb",
                    "name" : "Add Abort Flag to Cache",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "5eed997a-9300-3a76-a944-6310608dbd36",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "6e993a26-cf56-3987-bedc-a9b007d0e09c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "46011b61-42e8-3a7e-86a2-e1225aad92cc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "09959561-6b6d-36be-8258-dca352e135dc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "ac9a8b1c-80bb-3910-8811-f69068bcfc08",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "copy" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 24.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 736.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -656.0,
                  "y" : 1200.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                  "name" : "split into flow files for messages",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 224.0
                  },
                  "properties" : {
                    "Number of Copies" : "1"
                  },
                  "propertyDescriptors" : {
                    "Number of Copies" : {
                      "displayName" : "Number of Copies",
                      "identifiesControllerService" : false,
                      "name" : "Number of Copies",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "34793802-aff1-3c32-ab13-704db1881f0b",
                  "name" : "Route Copy for abort indication",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 432.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "original" : "${copy.index:equals(0)}",
                    "copy" : "${copy.index:equals(1)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "original" : {
                      "displayName" : "original",
                      "identifiesControllerService" : false,
                      "name" : "original",
                      "sensitive" : false
                    },
                    "copy" : {
                      "displayName" : "copy",
                      "identifiesControllerService" : false,
                      "name" : "copy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                  "name" : "Set Abort flag",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 424.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${invokehttp.status.code}: ${invokehttp.status.message}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "f1e71f71-7272-3241-b185-036d7ddaaddb",
                  "name" : "Add Abort Flag to Cache",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 696.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "abort-${batchId}",
                    "Cache update strategy" : "keeporiginal",
                    "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                    "Max cache entry size" : "1 MB"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Cache update strategy" : {
                      "displayName" : "Cache update strategy",
                      "identifiesControllerService" : false,
                      "name" : "Cache update strategy",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max cache entry size" : {
                      "displayName" : "Max cache entry size",
                      "identifiesControllerService" : false,
                      "name" : "Max cache entry size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "23cc1463-c626-38ac-9584-96f647f719f5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "empty" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "55d9bbf8-0699-3400-81b7-c46b29968fd2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "83a76629-44e2-3d30-b869-d8d617bd6d41",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "b01f788b-ae1b-3c5d-831e-c67a750f92d3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "da00dba3-9bf1-3635-96e1-6da7de2a9462",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "442c33e6-b77a-3636-aa8f-445fade545de",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "442c33e6-b77a-3636-aa8f-445fade545de",
                  "name" : "Input",
                  "position" : {
                    "x" : 608.0,
                    "y" : 768.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Prepend FHIR Server to Message",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                  "name" : "Output",
                  "position" : {
                    "x" : 608.0,
                    "y" : 1920.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -656.0,
                  "y" : 904.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                  "name" : "invokehttp.status.message empty?",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 554.1134884078572,
                    "y" : 1032.3405373113083
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "empty" : "${invokehttp.status.message:isEmpty()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "empty" : {
                      "displayName" : "empty",
                      "identifiesControllerService" : false,
                      "name" : "empty",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                  "name" : "Set Message to error code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 224.0,
                    "y" : 1320.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "Error ${invokehttp.status.code}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                  "name" : "Prepend FHIR Server to message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 552.0,
                    "y" : 1632.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "FHIR Server - ${invokehttp.status.message}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                "name" : "Route on api success 2xx code",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -96.0,
                  "y" : -48.0
                },
                "properties" : {
                  "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                  "Routing Strategy" : "Route to Property name"
                },
                "propertyDescriptors" : {
                  "api_success" : {
                    "displayName" : "api_success",
                    "identifiesControllerService" : false,
                    "name" : "api_success",
                    "sensitive" : false
                  },
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                "name" : "Route on Error 400/422",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 568.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle_error" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle_error" : {
                    "displayName" : "bundle_error",
                    "identifiesControllerService" : false,
                    "name" : "bundle_error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -1416.0,
                  "y" : -48.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                "name" : "Has Errors?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -536.0
                },
                "properties" : {
                  "Content Buffer Size" : "1 MB",
                  "Match Requirement" : "content must contain match",
                  "hasError" : "\"severity\"\\s*:\\s*(\"error\")|(\"fatal\")",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Content Buffer Size" : {
                    "displayName" : "Content Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Content Buffer Size",
                    "sensitive" : false
                  },
                  "Match Requirement" : {
                    "displayName" : "Match Requirement",
                    "identifiesControllerService" : false,
                    "name" : "Match Requirement",
                    "sensitive" : false
                  },
                  "hasError" : {
                    "displayName" : "hasError",
                    "identifiesControllerService" : false,
                    "name" : "hasError",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -640.0,
                  "y" : 552.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postBundleResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "580efa05-995c-322b-94ff-327f844b833e",
                "name" : "Log Retry Failure",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -1112.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - unable to retry POST to FHIR Server",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "true"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "b8382db0-f953-35e4-9b10-65ce99fe570b",
                "name" : "Rebuild Bundle",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 48.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Rebuild Bundle\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Handle Resource Bundle\"\n *\n * Rebuilds the bundle so appropriate calls to post or put are made for FHIR resources in the entry array.\n * If the request is to Delete, then the entry is left as is.\n * If there isn't a FHIR resource in the entry for a non-delete request, an validation error is generated in an Operation Outcome and FAILURE is the result relationship.\n *\n * This class also adds the batch id tag in the FHIR resource's metadata for each entry if the FHIRResourceTag attribute is set.\n */\nclass RebuildResourceBundle extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resource was successfully updated it will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    public class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null\n        private boolean hasValidationErrors = false\n        private boolean hasDeletes = false\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile\n        }\n\n        public boolean hasValidationErrors() {\n            return hasValidationErrors;\n        }\n\n        public boolean hasDeletes() {\n            return hasDeletes;\n        }\n\n\n        @Override\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            Map inputFHIRResource = jsonSlurper.parse(instream, \"UTF-8\")\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n\n            Map outputFHIRResource = processJson(inputFHIRResource, fhirResourceTag)\n\n            outstream.write(JsonOutput.toJson(outputFHIRResource).getBytes(StandardCharsets.UTF_8))\n        }\n\n        public Map processJson(Map inputFHIRResource, def fhirResourceTag) {\n            // need to rebuild the resource bundle with type transaction.\n            Map outputFHIRResource = [:]\n\n            if (inputFHIRResource.getAt(\"resourceType\") == \"Bundle\") {\n                // recreate the bundle resource\n                outputFHIRResource.putAt(\"resourceType\", \"Bundle\")\n                outputFHIRResource.putAt(\"type\", \"transaction\")\n\n                // Add the resource id if provided.\n                if (inputFHIRResource.containsKey(\"id\"))\n                    outputFHIRResource.putAt(\"id\", inputFHIRResource.getAt(\"id\"))\n\n                // build the new entry list by grabbing the resource and setting the request\n                def newEntryList = []\n                Map validationErrors = null\n                int entryCount = 0\n\n                for (Map anEntry: inputFHIRResource.getAt(\"entry\")) {\n                    Map newEntry = [:]\n                    boolean isDeleteEntry = false\n\n                    // Flag if this is a delete entry\n                    if (anEntry.containsKey(\"request\")) {\n                        def requestEntry = anEntry.getAt(\"request\")\n                        if (requestEntry.getAt(\"method\") == \"DELETE\") {\n                            newEntry.putAt(\"request\", requestEntry)\n                            isDeleteEntry = true\n                            this.hasDeletes = true\n                            newEntryList.add(newEntry)\n                        }\n                    }\n\n                    // If this isn't a delete entry, grab the resource and set to put/post request and add to the entry array\n                    if (!isDeleteEntry) {\n                        if (anEntry.containsKey(\"resource\")) {\n                            // Only do the work if there are no validation errors\n                            if (validationErrors == null) {\n                                newEntry.putAt(\"resource\", anEntry.getAt(\"resource\"))\n\n                                Map requestEntry = [:]\n                                Map resource = newEntry.getAt(\"resource\")\n                                def resourceType = resource.getAt(\"resourceType\")\n\n                                if (resource.containsKey(\"id\"))\n                                    requestEntry = [\"method\": \"PUT\", \"url\": resourceType + '/' + resource.getAt(\"id\")]\n                                else\n                                    requestEntry = [\"method\": \"POST\", \"url\": resourceType]\n\n                                newEntry.putAt(\"request\", requestEntry)\n\n                                // Add FHIRResourceTag if set\n                                if (fhirResourceTag) {\n                                    resource = addTagToResource(resource, fhirResourceTag)\n                                }\n\n                                newEntry.putAt(\"resource\", resource)\n                                newEntryList.add(newEntry)\n                            } // End of validationErrors == null\n                        } else {\n                            if (validationErrors == null) {\n                                validationErrors = [:]\n                                validationErrors.putAt(\"resourceType\", \"OperationOutcome\")\n                                validationErrors.putAt(\"issue\", [])\n                            }\n\n                            Map newIssue = [:]\n                            newIssue.putAt(\"severity\", \"error\")\n                            newIssue.putAt(\"code\", \"required\")\n                            newIssue.putAt(\"details\", [\"text\" : \"The Interop FHIR Adapter requires each entry in a Bundle to have a resource unless the entry request is DELETE\"])\n                            newIssue.putAt(\"expression\", \"Bundle.entry[\" + entryCount + \"]\")\n                            validationErrors.getAt(\"issue\").add(newIssue)\n                        }\n                    } //  end if ! isDeleteEntry\n\n                    entryCount += 1\n                } // end entry array iteration\n\n                if (validationErrors == null)\n                    outputFHIRResource.putAt(\"entry\", newEntryList)\n                else {\n                    outputFHIRResource = validationErrors\n                    this.hasValidationErrors = true\n                }\n            } else {\n                // not a resource bundle, just pass it along\n                outputFHIRResource = inputFHIRResource\n            }\n\n            return outputFHIRResource\n        }\n\n        /**\n         * Adds the given tag to the FHIR resource.  If the meta or tag fields do not exist, they will be created.\n         * @param fhirResource\n         * @param fhirResourceTag\n         * @return\n         */\n        private Map addTagToResource(Map fhirResource, String fhirResourceTag) {\n            if (fhirResourceTag) {\n                String CODE_SYSTEM=\"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n\n                def fhirTag=[system:CODE_SYSTEM,code:fhirResourceTag]\n\n                // create 'meta' element if is doesn't exist\n                // NOTE: this appends property 'meta' to end of list. (least expensive option)\n                fhirResource.putIfAbsent(\"meta\", [:] )\n\n                // Create empty tag array if it doesn't exist.\n                Map metaMap = fhirResource.getAt(\"meta\")\n                metaMap.putIfAbsent(\"tag\", [])\n\n                def tagArray = metaMap.get(\"tag\")\n\n                // search for an existing entry with same CODE_SYSTEM\n                def existingEntry = tagArray.find { tagArrayEntry -> tagArrayEntry.getAt(\"system\") == CODE_SYSTEM }\n                if ( ! existingEntry ) {\n                    // NOT FOUND - add a new entry to tagArray\n                    tagArray.add(fhirTag)\n                } else {\n                    // There was an array entry for our code system - set value\n                    existingEntry.putAt(\"code\", fhirResourceTag)\n                }\n\n            }\n\n            return fhirResource\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                GroovyStreamCallback writer = new GroovyStreamCallback(aFlowFile);\n                aFlowFile = session.write(aFlowFile, writer)\n                \n                if (writer.hasValidationErrors()) {\n                    aFlowFile = session.putAttribute(aFlowFile, \"mime.type\", \"application/json\")\n                    session.transfer(aFlowFile, REL_FAILURE)\n                } else {\n                    if (writer.hasDeletes()) \n                        aFlowFile = session.putAttribute(aFlowFile, \"bundleHasDeleteRequests\", \"true\")\n                    session.transfer(aFlowFile, REL_SUCCESS)\n                }\n                \n            } catch (Exception e) {\n                getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new RebuildResourceBundle()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                "name" : "Get Bundle Entries",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1272.0
                },
                "properties" : {
                  "Null Value Representation" : "empty string",
                  "JsonPath Expression" : "$.entry"
                },
                "propertyDescriptors" : {
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "JsonPath Expression" : {
                    "displayName" : "JsonPath Expression",
                    "identifiesControllerService" : false,
                    "name" : "JsonPath Expression",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.SplitJson",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                "name" : "Set Error Code 400 if Bundle Has Errors",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -768.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.code" : "400",
                  "invokehttp.status.message" : "Bundle has errors"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "invokehttp.status.code" : {
                    "displayName" : "invokehttp.status.code",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.code",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -96.0,
                  "y" : -328.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "bundleIsBatch" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                "name" : "Bundle set to Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 808.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundleIsBatch" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundleIsBatch" : {
                    "displayName" : "bundleIsBatch",
                    "identifiesControllerService" : false,
                    "name" : "bundleIsBatch",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                "name" : "Failed getting resource from entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1048.0,
                  "y" : 1944.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Failed getting resource from entry",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\""
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                "name" : "Update Bundle failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1600.0,
                  "y" : 48.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.code" : "400",
                  "errorType" : "Update Bundle failed",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                  "invokehttp.status.message" : "Update bundle failed"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "invokehttp.status.code" : {
                    "displayName" : "invokehttp.status.code",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.code",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                "name" : "Is Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -328.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundleIsBatch" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundleIsBatch" : {
                    "displayName" : "bundleIsBatch",
                    "identifiesControllerService" : false,
                    "name" : "bundleIsBatch",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                "name" : "Check For Abort",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -344.0,
                  "y" : 296.0
                },
                "properties" : {
                  "Cache Entry Identifier" : "abort-${batchId}",
                  "Put Cache Value In Attribute" : "abortedReason",
                  "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                  "Max Length To Put In Attribute" : "256",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Cache Entry Identifier" : {
                    "displayName" : "Cache Entry Identifier",
                    "identifiesControllerService" : false,
                    "name" : "Cache Entry Identifier",
                    "sensitive" : false
                  },
                  "Put Cache Value In Attribute" : {
                    "displayName" : "Put Cache Value In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Cache Value In Attribute",
                    "sensitive" : false
                  },
                  "Distributed Cache Service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "Distributed Cache Service",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                "name" : "Is Error 400/422 on Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -752.0,
                  "y" : -48.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle_batch_error" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\"):and(\n        ${invokehttp.status.code:equals('400'):or(\n            ${invokehttp.status.code:equals('422')}\n        )}\n\t)}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle_batch_error" : {
                    "displayName" : "bundle_batch_error",
                    "identifiesControllerService" : false,
                    "name" : "bundle_batch_error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                "name" : "Get Bundle Id",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : -176.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "Return Type" : "auto-detect",
                  "bundleId" : "$.id",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "warn"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "bundleId" : {
                    "displayName" : "bundleId",
                    "identifiesControllerService" : false,
                    "name" : "bundleId",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                "name" : "Set Bundle To Batch",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1152.0,
                  "y" : 1040.0
                },
                "properties" : {
                  "Script Engine" : "python",
                  "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2021\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\n'''\n  For \"Set Bundle To Batch\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Handle Resource Bundle\"\n \n  Sets the FHIR bundle to batch mode and sets a flowfile attribute bundleIsBatch indicating batch mode has been set.\n''' \nclass PyStreamCallback(StreamCallback):\n    \n    def __init__(self):\n        pass\n\n    def process(self, inputStream, outputStream):\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        inputFHIRResource = json.loads(inputText, object_pairs_hook=OrderedDict)\n\n        inputFHIRResource[\"type\"] = \"batch\"\n        outputStream.write(bytearray(json.dumps(inputFHIRResource, indent=4).encode(\"utf-8\")))\n\n#Performance Update WHFPA-102\nflowFileList = session.get(100)\nif flowFileList: \n    for flowFile in flowFileList:\n        writer = PyStreamCallback()\n        flowFile = session.write(flowFile, writer)\n        flowFile = session.putAttribute(flowFile, \"bundleIsBatch\", \"true\")\n        session.transfer(flowFile, REL_SUCCESS)\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fb9ae8e3-a430-3a61-8425-0cb68fe16a92",
                "name" : "Set Flag to Indicate bundle was split",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1488.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "bundleWasSplit" : "true"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "bundleWasSplit" : {
                    "displayName" : "bundleWasSplit",
                    "identifiesControllerService" : false,
                    "name" : "bundleWasSplit",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                "name" : "Has Delete entries?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1032.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "hasDeleteEntries" : "${bundleHasDeleteRequests:notNull():and(\n    ${bundleHasDeleteRequests:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "hasDeleteEntries" : {
                    "displayName" : "hasDeleteEntries",
                    "identifiesControllerService" : false,
                    "name" : "hasDeleteEntries",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                "name" : "Get Bundle entries failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1224.0,
                  "y" : 1456.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Get Bundle entries failed",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\""
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                "name" : "Get Resource From Entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1744.0
                },
                "properties" : {
                  "Destination" : "flowfile-content",
                  "resource" : "$.resource",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resource" : {
                    "displayName" : "resource",
                    "identifiesControllerService" : false,
                    "name" : "resource",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1064.0,
                  "y" : 536.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "7b53d9f3-1b86-3c08-8b9e-e4711591b991",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                  "name" : "Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2dfca491-a517-396e-9ef1-40b9c0c5c5da",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "hasOO" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e3bf5bd8-2e04-379d-8650-0a7dfe432253",
                  "name" : "filter if doesn't have OperationOutcome",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2712.0,
                  "y" : 360.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "e4bea0cf-c383-3c63-8d57-d69ba69841f2",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f8d35e08-b0d1-3d6b-ad3a-6d3359b00321",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "eb6aa122-393d-3e4e-83d7-94d336454eec",
                  "name" : "Filter out 5xx codes",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                  "name" : "404 error?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "4937d36f-559c-322d-a65b-76b621e39dd3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "401fc18c-f5a2-3f4b-9fa5-747f29d77e9a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                  "name" : "Aborted",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "b9e49ec0-ec76-39b7-855d-ea976ac2eac6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 824.0,
                  "y" : 1120.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "de7f379f-01e9-3171-9293-359e4215fe2b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "de22a56d-0f0c-3f44-8ab7-350ca4b6603c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                  "name" : "404 error?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e3bf5bd8-2e04-379d-8650-0a7dfe432253",
                  "name" : "filter if doesn't have OperationOutcome",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "d91571ab-4070-3688-902d-72f11c315c36",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                  "name" : "404 error?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "id" : "c8357fae-1251-3275-8078-97f8f86225b1",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "5088d191-f180-3c24-a742-2c0095eecaf7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f4045d9f-783c-3eb2-9787-89009db1cee6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "fb4a0d91-78b2-3dc3-afe7-4bc5b7d17a50",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "55a710ef-aa61-31a9-9464-99e74125b715",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3a09201d-f857-3346-bcd6-7ccf35df78bf",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "1f8ebc84-c999-3ebd-8468-ef54d9ac79b5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "6b130498-7630-3d8c-9cc2-a08aef77deb3",
                  "name" : "Filter if response has OO",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "b54c35e6-d996-30ed-90a4-6e0cfb148058",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "d157d865-6e10-3be7-9718-ce902685dc89",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f25fcf37-870c-3242-a4f4-ca04b907fd08",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "id" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "4e333d89-2e5e-3f55-a89a-2d556265ae6a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "not-found", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ecd82d7f-129a-394b-b732-56185ff6f22d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                  "name" : "Response",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "59818383-04cf-3170-9949-49ff171e76a3",
                  "name" : "Add Tag to Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "1781d685-3803-3954-97b6-632df5546733",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "eb6aa122-393d-3e4e-83d7-94d336454eec",
                  "name" : "Filter out 5xx codes",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "8af8032a-62a4-3d72-9edc-989d3f3f2639",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1336.0,
                  "y" : 536.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2fe78047-e88e-35ea-9493-e72546d6fcf4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1568.0,
                  "y" : 1336.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "id" : "c8357fae-1251-3275-8078-97f8f86225b1",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2b6d131e-80d3-343e-b29b-7ad152862624",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "a23f1345-6c56-397c-9b61-96e55150afc0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "401Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1656.0,
                  "y" : 448.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "d157d865-6e10-3be7-9718-ce902685dc89",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "8f3f538a-1f27-32a8-aae2-6779c3a949ea",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                  "name" : "No Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1184.0,
                  "y" : 2120.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2ea47805-d7f3-3ebe-8b49-b36302c16422",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3d229e0e-3ddf-324c-b782-a06cfc1dfc1b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "59818383-04cf-3170-9949-49ff171e76a3",
                  "name" : "Add Tag to Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "c04e411c-172f-33c6-b37c-83c1be2d40ba",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "6b130498-7630-3d8c-9cc2-a08aef77deb3",
                  "name" : "Filter if response has OO",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                "name" : "Input",
                "position" : {
                  "x" : 1080.0,
                  "y" : -176.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "height" : 48.0,
                "identifier" : "d55d3ccc-b33f-38bb-bfd3-bed31f1fdba6",
                "label" : "404 could mean Unsupported Resource used. In which it will have an \nOperationOutcome in the response.",
                "position" : {
                  "x" : 2240.0,
                  "y" : 496.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 392.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "height" : 32.0,
                "identifier" : "ad471fab-b124-30ac-bc67-da0765a94474",
                "label" : "5xx codes are handled on Retry connection",
                "position" : {
                  "x" : 2288.0,
                  "y" : 1472.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 248.0
              } ],
              "name" : "Put Resource to FHIR",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                "name" : "Aborted",
                "position" : {
                  "x" : 440.0,
                  "y" : 976.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                "name" : "Output",
                "position" : {
                  "x" : 2360.0,
                  "y" : 2096.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "cms_adapter_parameters",
              "position" : {
                "x" : 1968.0,
                "y" : 240.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                    "name" : "Log Error Message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "c8fdd64e-c077-31a1-b2ba-0b95890fb62e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                    "name" : "Log Error Message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "position" : {
                    "x" : 576.0,
                    "y" : 224.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Clear Flow File Contents",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "position" : {
                    "x" : 576.0,
                    "y" : 1048.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1864.0,
                  "y" : 912.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "NONE",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                  "name" : "Log Error Message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 992.0,
                    "y" : 752.0
                  },
                  "properties" : {
                    "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                    "log-level" : "warn",
                    "log-prefix" : "Interop FHIR Adapter - "
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 744.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "text/plain",
                    "Content-Type" : "text/plain"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 480.0
                  },
                  "properties" : {
                    "Regular Expression" : ".",
                    "Replacement Value" : "",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "15736dda-f7ff-359e-bdfa-1ad1d612a8be",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "dcc0a76f-5eb8-3557-98cb-3b92a30959d8",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "2811bdff-36d1-3d51-bb5a-f0489d266ea1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "8d7cf019-9ed2-376e-858c-9dac168b7a29",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 912.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "05bfe0e9-a1ab-3461-994f-0c3a6dce1e3b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "ea157222-f06e-3c42-bc2c-42381dc2e3bc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "e0f58358-ff55-3484-a94a-126549e9e518",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "85bca62c-6d71-39a1-b1bf-b9d1fb71067f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "4e86f90e-3137-3350-ac36-87f5a0f9fa32",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -240.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1712.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "2ae5b904-2f98-3c95-bf2a-51a1cabcbdbb",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "position" : {
                      "x" : 576.0,
                      "y" : 224.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Clear Flow File Contents",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "position" : {
                      "x" : 576.0,
                      "y" : 1048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 728.0,
                    "y" : 144.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 744.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "text/plain",
                      "Content-Type" : "text/plain"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "NONE",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                    "name" : "Log Error Message",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 992.0,
                      "y" : 752.0
                    },
                    "properties" : {
                      "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                      "log-level" : "warn",
                      "log-prefix" : "Interop FHIR Adapter - "
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 480.0
                    },
                    "properties" : {
                      "Regular Expression" : ".",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Always Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                  "name" : "Put Response body attribute to content",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "d4cac1df-6996-32f8-9031-e280703ea100",
                  "name" : "Route on api failure",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                  "name" : "Remove Response body to root level",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "bb547ea5-b1bb-3e6b-913c-ebb3d3fa664f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "8cba466d-00a2-3a6f-9e05-e4ec56e95b02",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "6b22f672-8c92-3790-86aa-8b6afbe64038",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "f97a323d-e015-3e2f-b388-18ab6117f6d6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "2e5b17f7-efd0-3840-a49d-c9827664451d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "providerDirectory" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "0ed34676-4694-3ea7-a971-cc32680cade6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "c04e69a2-44ed-3b20-8b78-4d633513bf6b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a50d4b00-9275-3a79-8bce-9b23fb45ae78",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cd813c78-d41f-31fe-b28b-edfa54cf3001",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "22619f7a-b61f-39ed-9d20-7baef864fc71",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a0acf3a2-558e-38f2-b5e8-fc98b84003e1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "position" : {
                    "x" : 1448.0,
                    "y" : -344.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Put Resource to FHIR server",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                  "name" : "Response",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 152.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                  "name" : "Failure",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 416.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                  "name" : "Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 536.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                  "name" : "No Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 288.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "cms_adapter_parameters",
                "position" : {
                  "x" : 1008.0,
                  "y" : 272.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                  "name" : "Is Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1392.0,
                    "y" : -152.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "providerDirectory" : "${kafka.topic:getDelimitedField(4,'.'):toLower():startsWith('provider_directory')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "providerDirectory" : {
                      "displayName" : "providerDirectory",
                      "identifiesControllerService" : false,
                      "name" : "providerDirectory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 24,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                  "name" : "PUT Resource to FHIR Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2112.0,
                    "y" : 248.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=${FHIRPreferSetting}",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd_ProviderDirectory}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL_ProviderDirectory}${fhirUrlSuffix}/${resourceType}/${resourceId}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "130 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "PUT",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User_ProviderDirectory}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 24,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                  "name" : "PUT Resource to FHIR Patient Access",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 736.0,
                    "y" : 240.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=${FHIRPreferSetting}",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd_PatientAccess}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL_PatientAccess}${fhirUrlSuffix}/${resourceType}/${resourceId}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "130 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "PUT",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User_PatientAccess}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "9af47152-8ac7-32d6-b11c-06e08ea5b771",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "6e62490e-64ea-3714-8e56-2efde00037bd",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "copy" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "09959561-6b6d-36be-8258-dca352e135dc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "d1cb4a07-3d6e-3b1e-a318-b993c338d625",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "aa04725b-82fb-34cb-844d-9302068e3737",
                    "name" : "Add the Abort Flag To Cache",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "a012f2c2-10ca-3c1e-aaa6-8e9843c02ab1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 24.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 736.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1256.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "aa04725b-82fb-34cb-844d-9302068e3737",
                  "name" : "Add the Abort Flag To Cache",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 696.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "abort-${batchId}",
                    "Cache update strategy" : "keeporiginal",
                    "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                    "Max cache entry size" : "1 MB"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Cache update strategy" : {
                      "displayName" : "Cache update strategy",
                      "identifiesControllerService" : false,
                      "name" : "Cache update strategy",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max cache entry size" : {
                      "displayName" : "Max cache entry size",
                      "identifiesControllerService" : false,
                      "name" : "Max cache entry size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                  "name" : "Set Abort flag",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 424.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${invokehttp.status.code}: ${invokehttp.status.message}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                  "name" : "split into flow files for messages",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 224.0
                  },
                  "properties" : {
                    "Number of Copies" : "1"
                  },
                  "propertyDescriptors" : {
                    "Number of Copies" : {
                      "displayName" : "Number of Copies",
                      "identifiesControllerService" : false,
                      "name" : "Number of Copies",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                  "name" : "Route Copy for abort indication",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 432.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "original" : "${copy.index:equals(0)}",
                    "copy" : "${copy.index:equals(1)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "original" : {
                      "displayName" : "original",
                      "identifiesControllerService" : false,
                      "name" : "original",
                      "sensitive" : false
                    },
                    "copy" : {
                      "displayName" : "copy",
                      "identifiesControllerService" : false,
                      "name" : "copy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "904af047-ada3-3c84-8d08-de4f916b6984",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "c8357fae-1251-3275-8078-97f8f86225b1",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "95b8e53b-0390-3a27-983b-ed162e7b1901",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "304df572-c03a-3141-b480-26ad16ca7912",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "2838d0f1-d2fa-35ad-95da-407feadda81a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "8b575915-8f4f-3cfe-8548-3c5cffaf54ad",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "empty" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "c8357fae-1251-3275-8078-97f8f86225b1",
                  "name" : "Input",
                  "position" : {
                    "x" : 608.0,
                    "y" : 768.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Prepend FHIR Server to Message",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                  "name" : "Output",
                  "position" : {
                    "x" : 608.0,
                    "y" : 1920.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1000.0,
                  "y" : 976.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                  "name" : "Set Message to error code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 224.0,
                    "y" : 1320.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "Error ${invokehttp.status.code}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                  "name" : "invokehttp.status.message empty?",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 554.1134884078572,
                    "y" : 1032.3405373113083
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "empty" : "${invokehttp.status.message:isEmpty()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "empty" : {
                      "displayName" : "empty",
                      "identifiesControllerService" : false,
                      "name" : "empty",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                  "name" : "Prepend FHIR Server to message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 552.0,
                    "y" : 1632.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "FHIR Server - ${invokehttp.status.message}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "e3bf5bd8-2e04-379d-8650-0a7dfe432253",
                "name" : "filter if doesn't have OperationOutcome",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2288.0,
                  "y" : 736.0
                },
                "properties" : {
                  "Content Buffer Size" : "1 MB",
                  "Match Requirement" : "content must contain match",
                  "Character Set" : "UTF-8",
                  "hasOO" : "\"resourceType\"\\s*:\\s*\"OperationOutcome\""
                },
                "propertyDescriptors" : {
                  "Content Buffer Size" : {
                    "displayName" : "Content Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Content Buffer Size",
                    "sensitive" : false
                  },
                  "Match Requirement" : {
                    "displayName" : "Match Requirement",
                    "identifiesControllerService" : false,
                    "name" : "Match Requirement",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  },
                  "hasOO" : {
                    "displayName" : "hasOO",
                    "identifiesControllerService" : false,
                    "name" : "hasOO",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1016.0,
                  "y" : 640.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postSingleFhirResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                "name" : "404 error?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 512.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "5xxCode" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "eb6aa122-393d-3e4e-83d7-94d336454eec",
                "name" : "Filter out 5xx codes",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2072.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "5xxCode" : "${invokehttp.status.code:startsWith('5'):and(\n    ${invokehttp.status.code:length():equals(3)}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "5xxCode" : {
                    "displayName" : "5xxCode",
                    "identifiesControllerService" : false,
                    "name" : "5xxCode",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2536.0,
                  "y" : 1000.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                "name" : "Check 401 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "401Error" : "${invokehttp.status.code:equals('401')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "401Error" : {
                    "displayName" : "401Error",
                    "identifiesControllerService" : false,
                    "name" : "401Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "59818383-04cf-3170-9949-49ff171e76a3",
                "name" : "Add Tag to Resource",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1024.0,
                  "y" : 0.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\n/**\n * For \"Add Tag to Resource\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Put Resources to FHIR\"\n *\n * Adds the batchid tag in the FHIR Resource's metadata if the FHIRResourceTag is set.\n */\nclass AddTagToSingleResource extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resource was successfully updated it will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null;\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile;\n        }\n\n        @Override\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            def inputFHIRResource = jsonSlurper.parse(instream, \"UTF-8\")\n            def CODE_SYSTEM=\"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n\n            // If the fhirResourceTag attribute is set, add it to the metadata of the resource.\n            if (fhirResourceTag) {\n                def fhirTag=[system:CODE_SYSTEM,code:fhirResourceTag]\n\n                // create 'meta' element if is doesn't exist\n                // NOTE: this appends property 'meta' to end of list. (least expensive option)\n                inputFHIRResource.putIfAbsent(\"meta\", [:] )\n\n                // Create empty tag array if it doesn't exist.\n                def metaMap = inputFHIRResource.meta\n                metaMap.putIfAbsent(\"tag\", [])\n\n                def tagArray = metaMap.get(\"tag\")\n\n                // search for an existing entry with same CODE_SYSTEM\n                def existingEntry = tagArray.find { tagArrayEntry -> tagArrayEntry.system==CODE_SYSTEM }\n                if ( ! existingEntry ) {\n                    // NOT FOUND - add a new entry to tagArray\n                    tagArray.add(fhirTag)\n                } else {\n                    // There was an array entry for our code system - set value\n                    existingEntry.code=fhirResourceTag\n                }\n\n            }\n\n            def output_json_string = JsonOutput.toJson(inputFHIRResource)\n            outstream.write( output_json_string.getBytes(StandardCharsets.UTF_8))\n\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback(aFlowFile))\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (Exception e) {\n                getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new AddTagToSingleResource()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "hasOO" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "6b130498-7630-3d8c-9cc2-a08aef77deb3",
                "name" : "Filter if response has OO",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1480.0,
                  "y" : 760.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "hasOO" : "${responseBody:find('\"resourceType\"\\s*:\\s*\"OperationOutcome\"')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "hasOO" : {
                    "displayName" : "hasOO",
                    "identifiesControllerService" : false,
                    "name" : "hasOO",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "d157d865-6e10-3be7-9718-ce902685dc89",
                "name" : "Check 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1480.0,
                  "y" : 512.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                "name" : "Check For Abort",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 384.0,
                  "y" : 448.0
                },
                "properties" : {
                  "Cache Entry Identifier" : "abort-${batchId}",
                  "Put Cache Value In Attribute" : "abortedReason",
                  "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                  "Max Length To Put In Attribute" : "256",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Cache Entry Identifier" : {
                    "displayName" : "Cache Entry Identifier",
                    "identifiesControllerService" : false,
                    "name" : "Cache Entry Identifier",
                    "sensitive" : false
                  },
                  "Put Cache Value In Attribute" : {
                    "displayName" : "Put Cache Value In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Cache Value In Attribute",
                    "sensitive" : false
                  },
                  "Distributed Cache Service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "Distributed Cache Service",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "10a96b24-cb38-3530-a48e-72869095df84",
                "name" : "Route on OO response",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 296.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n    ${invokehttp.status.code:equals('422'):or(\n        ${invokehttp.status.code:startsWith('2'):and(\n            ${invokehttp.status.code:length():equals(3)}\n        )}\n    )}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "codesWithOperationOutcomes" : {
                    "displayName" : "codesWithOperationOutcomes",
                    "identifiesControllerService" : false,
                    "name" : "codesWithOperationOutcomes",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                "name" : "Set 401 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1536.0,
                  "y" : 1512.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "FHIR Server - Not Authorized"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                "name" : "Set 404 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1480.0,
                  "y" : 1064.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "Not Found"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                "name" : "Log Retry Failure",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1232.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - unable to retry PUT to FHIR Server",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "true"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2d5cd914-5368-354d-8d84-09ff70d2bb17",
                  "name" : "Filter out Copy",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "9851cd4c-b1bf-33da-805a-aa8d087266a6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "9fb40307-aadb-3ed3-9908-567496db7440",
                  "name" : "Log Error Merging FHIR Response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "9fb40307-aadb-3ed3-9908-567496db7440",
                  "name" : "Log Error Merging FHIR Response",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "6d2078a7-da0e-3127-adf5-3e53e6be1cb6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "This processor uses the 'fragement' properties that were previously set into the flow files to 'de-fragment' the batch.\nThe merged flow file will contain all FHIR resources for which a publish attempt was made, as a json array.\n\nThe metadata strategy is to only include attributes with the same key and value in the merged file.  This is important for the batch status, because if some files are published and some fail, the batch status attribute will not exist (will be null).",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "7ff0ddb1-a9f0-34a0-86bd-d3f58eec5963",
                  "name" : "Merge FHIR Response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6d1d661d-a852-339c-9080-4799fd093c9d",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "800fc375-3bd9-39b5-a6f6-f37331d4646e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "original" ],
                "source" : {
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2e03e45a-1f1d-3851-a8f3-31f3d11c382b",
                  "name" : "Route to Send to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "f348c68d-1463-33d6-98bd-182b71b21ad9",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "8f6a8b52-fbc2-3b01-8559-ad141f2c8e39",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "57a085f4-ba8d-3412-852c-547c7bf1dcfa",
                  "name" : "Log Error Not finding copy index",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "e29f59ef-9873-37f3-b5d0-21f3bb2e2610",
                  "name" : "retry",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "4e29642e-659f-33d1-a753-5ce5567a151e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "69183190-9278-386d-8baa-1d59422d0e9a",
                  "name" : "Process Results",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "This processor uses the 'fragement' properties that were previously set into the flow files to 'de-fragment' the batch.\nThe merged flow file will contain all FHIR resources for which a publish attempt was made, as a json array.\n\nThe metadata strategy is to only include attributes with the same key and value in the merged file.  This is important for the batch status, because if some files are published and some fail, the batch status attribute will not exist (will be null).",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "7ff0ddb1-a9f0-34a0-86bd-d3f58eec5963",
                  "name" : "Merge FHIR Response",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "bda48bd8-b495-3755-b4e6-6a602fc9bad6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "PARTITION_BY_ATTRIBUTE",
                "name" : "",
                "partitioningAttribute" : "fragment.identifier",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "MergeContent expected a 'fragement.count' property to determine the order that files are merged. The value for this is already in a 'copy.index' property. This update does a copy to the new name.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "d24cf38b-ebe0-3919-9717-005124949088",
                  "name" : "Setup for Merge",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "f38e21f1-5167-309a-a57e-8c14abee7a8e",
                  "name" : "split flow file for FHIR Server",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "851e4ec4-207d-37bb-b70f-1fb07acb5e44",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "0768da26-9461-3559-b271-30a3a6d4dfdb",
                  "name" : "Setup Attributes for Copy",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6bbcfdde-6aa5-3a74-be1a-c49ed6640d66",
                  "name" : "Log Error Creating Bundle Payload",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "e9d5233a-a78b-359e-a341-c8dc0dbcc7e9",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "c7f3bdd0-fcbc-35da-93de-1f3cd60368ac",
                  "name" : "Set content to FHIR payload",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "406f67cc-b16f-39a5-82e2-2d658ea5d64b",
                  "name" : "success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "155b7102-1edc-37f1-a169-ab472036eb12",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "69183190-9278-386d-8baa-1d59422d0e9a",
                  "name" : "Process Results",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "0768da26-9461-3559-b271-30a3a6d4dfdb",
                  "name" : "Setup Attributes for Copy",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "7ea52eca-a42b-3896-9638-2dec12bd8210",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "9f8c4faf-6d7b-3707-87e0-bcf4acf4fb19",
                  "name" : "Build Resource Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "f348c68d-1463-33d6-98bd-182b71b21ad9",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "468e819c-3de0-399d-9c20-85ecf78192ee",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "original" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2d5cd914-5368-354d-8d84-09ff70d2bb17",
                  "name" : "Filter out Copy",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "0eb49080-858b-331b-8093-2f59de04d893",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "759c99bd-1a35-3ce0-877c-6439ff7e1024",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                  "name" : "Input Bundle",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "d03f9abb-7de3-37a4-b5b3-f1d528665457",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "c7f3bdd0-fcbc-35da-93de-1f3cd60368ac",
                  "name" : "Set content to FHIR payload",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "a5a66dc1-45dc-30e9-adc4-28271cdad143",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "3240bc0d-8b5d-32c4-a280-0b6cf03f01eb",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "f348c68d-1463-33d6-98bd-182b71b21ad9",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "0eb49080-858b-331b-8093-2f59de04d893",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "f8c585cf-bba3-330f-b285-8955e1fc8d05",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6bbcfdde-6aa5-3a74-be1a-c49ed6640d66",
                  "name" : "Log Error Creating Bundle Payload",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "57a085f4-ba8d-3412-852c-547c7bf1dcfa",
                  "name" : "Log Error Not finding copy index",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "82f1742a-55d4-3e7a-8cb1-ac94923802fc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2d5cd914-5368-354d-8d84-09ff70d2bb17",
                  "name" : "Filter out Copy",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "c7f3bdd0-fcbc-35da-93de-1f3cd60368ac",
                  "name" : "Set content to FHIR payload",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "9a07b72e-c556-3e2d-8ec4-04a21ef7db5d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "copy" ],
                "source" : {
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2e03e45a-1f1d-3851-a8f3-31f3d11c382b",
                  "name" : "Route to Send to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "69183190-9278-386d-8baa-1d59422d0e9a",
                  "name" : "Process Results",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "f4c257de-3392-3fdf-b097-cedc7f9f8d10",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "a5a66dc1-45dc-30e9-adc4-28271cdad143",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6d1d661d-a852-339c-9080-4799fd093c9d",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "1ee3324d-aa45-3e4f-890e-478c4b035264",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "2e03e45a-1f1d-3851-a8f3-31f3d11c382b",
                  "name" : "Route to Send to FHIR",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "6f4b1f7e-df44-3b5c-8be3-e602a02faaca",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "f38e21f1-5167-309a-a57e-8c14abee7a8e",
                  "name" : "split flow file for FHIR Server",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1200.0,
                  "y" : 776.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "e29f59ef-9873-37f3-b5d0-21f3bb2e2610",
                  "name" : "retry",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "10467eb0-ed09-366c-bbb5-cac32af1c409",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "9f8c4faf-6d7b-3707-87e0-bcf4acf4fb19",
                  "name" : "Build Resource Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 3568.0,
                  "y" : 2176.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6d1d661d-a852-339c-9080-4799fd093c9d",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "ec985cc9-115c-3ae7-be33-b4b4ef4f1f49",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "0eb49080-858b-331b-8093-2f59de04d893",
                  "name" : "Set failed flag",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "a5a66dc1-45dc-30e9-adc4-28271cdad143",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "b9b5c8ce-4a79-3a7c-9bd1-0a3a2bf6c194",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "merged" ],
                "source" : {
                  "comments" : "This processor uses the 'fragement' properties that were previously set into the flow files to 'de-fragment' the batch.\nThe merged flow file will contain all FHIR resources for which a publish attempt was made, as a json array.\n\nThe metadata strategy is to only include attributes with the same key and value in the merged file.  This is important for the batch status, because if some files are published and some fail, the batch status attribute will not exist (will be null).",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "7ff0ddb1-a9f0-34a0-86bd-d3f58eec5963",
                  "name" : "Merge FHIR Response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "9f8c4faf-6d7b-3707-87e0-bcf4acf4fb19",
                  "name" : "Build Resource Bundle",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "6b4fe0f1-3e04-3c6a-808a-ee0c8d2be141",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "d7d78dcb-dd1e-3090-b21b-e4e3612e654d",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "MergeContent expected a 'fragement.count' property to determine the order that files are merged. The value for this is already in a 'copy.index' property. This update does a copy to the new name.",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "d24cf38b-ebe0-3919-9717-005124949088",
                  "name" : "Setup for Merge",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "f182fb8d-b033-3a22-92cc-4d8abd85acaf",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                  "id" : "6d1d661d-a852-339c-9080-4799fd093c9d",
                  "name" : "Funnel",
                  "type" : "FUNNEL"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ {
                "componentType" : "FUNNEL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "6d1d661d-a852-339c-9080-4799fd093c9d",
                "position" : {
                  "x" : 2008.0,
                  "y" : 2152.0
                }
              }, {
                "componentType" : "FUNNEL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "a5a66dc1-45dc-30e9-adc4-28271cdad143",
                "position" : {
                  "x" : 2008.0,
                  "y" : 2944.0
                }
              } ],
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "d7d78dcb-dd1e-3090-b21b-e4e3612e654d",
                "name" : "input",
                "position" : {
                  "x" : 1928.0,
                  "y" : 472.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Auto Build Bundle",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "e29f59ef-9873-37f3-b5d0-21f3bb2e2610",
                "name" : "retry",
                "position" : {
                  "x" : 1080.0,
                  "y" : 3752.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "406f67cc-b16f-39a5-82e2-2d658ea5d64b",
                "name" : "success",
                "position" : {
                  "x" : 1912.0,
                  "y" : 3752.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "cms_adapter_parameters",
              "position" : {
                "x" : 2720.0,
                "y" : 240.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 120.0,
                    "y" : 480.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                    "name" : "RetryFlowFile",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "c2d59c24-d413-3896-a83d-0beaa5ca8bb1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                    "name" : "Handle FHIR + Json Content Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "757b146a-de80-3315-ae09-896d0ff15361",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                    "name" : "Success",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "fd107b9e-634e-3353-9278-0a4d36f63b48",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                    "name" : "Handle FHIR + Json Content Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 216.0,
                    "y" : 632.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                    "name" : "RetryFlowFile",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "fa414e13-0415-3c9e-8066-1311dd9b33d1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "9a0b8c26-df1e-3c9d-bed9-4a3e0ffea591",
                    "name" : "RouteOnAttribute",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "f5c8103c-b3d9-30e8-95d3-7f698dcf8019",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "404Error" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "b2951bee-3a87-31d8-99fd-8ae635522b0a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "35cea445-2919-36d9-a83e-60c174495c2e",
                    "name" : "Handle FHIR + Json Content Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                    "name" : "RetryFlowFile",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "644bc4a2-1049-33ea-b43a-97fed664ea18",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "9a0b8c26-df1e-3c9d-bed9-4a3e0ffea591",
                    "name" : "RouteOnAttribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "4c3ead9c-7485-39dc-9881-c1edcb5e8dab",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                    "name" : "Check For Abort",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "9c3bef80-c33b-394b-9f7d-91d9046158cd",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "retries_exceeded", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                    "name" : "RetryFlowFile",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "35cea445-2919-36d9-a83e-60c174495c2e",
                    "name" : "Handle FHIR + Json Content Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "c9cd71ef-e9be-36e1-9a23-2ccc74b8298f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "hasOO" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "9a0b8c26-df1e-3c9d-bed9-4a3e0ffea591",
                    "name" : "RouteOnAttribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "cb7d1e5b-44b0-3157-98e9-0a148de4e03a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                    "name" : "Input Bundle",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 696.0,
                    "y" : 1328.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "4acb4fac-b0d5-3434-93e4-9a49cfa5a7bc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                    "name" : "Check 404 error",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "8d1e6be6-e982-3c95-87a5-fc16e059b8cb",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                    "name" : "Check For Abort",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "e9f4559d-c3de-383e-8a7e-c0fbab947820",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                    "name" : "RetryFlowFile",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "bafe39b6-9de5-35d3-ab5f-bda995050b8e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "not-found", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                    "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                    "name" : "Check For Abort",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                  "name" : "Input Bundle",
                  "position" : {
                    "x" : 576.0,
                    "y" : 24.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "height" : 40.0,
                  "identifier" : "eb726ac6-cb4f-36f3-a60c-be8c47804347",
                  "label" : "Don't expect ever to have an OO in this flow for 404, but check anyway.",
                  "position" : {
                    "x" : 0.0,
                    "y" : 704.0
                  },
                  "style" : {
                    "font-size" : "12px"
                  },
                  "width" : 408.0
                }, {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "height" : 96.0,
                  "identifier" : "f2b67855-47df-3530-8ee2-dc510216bb93",
                  "label" : "Response - only 2xx codes\nRetry - only 5xx codes\nNo Retry - 1xx, 3xx, and 4xx codes\nFailure - any connection failure, timeout, or general exception.",
                  "position" : {
                    "x" : -248.0,
                    "y" : 64.0
                  },
                  "style" : {
                    "font-size" : "12px"
                  },
                  "width" : 480.0
                } ],
                "name" : "Handle Auto Built Resource Bundle",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "position" : {
                    "x" : -520.0,
                    "y" : 1304.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "position" : {
                    "x" : 1208.0,
                    "y" : 656.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "cms_adapter_parameters",
                "position" : {
                  "x" : 2720.0,
                  "y" : 1792.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                      "name" : "Retry",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "d8f89da6-20eb-3955-a417-59df8c025bb6",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                      "name" : "Post Resource to FHIR Patient Access",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                      "name" : "Response",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "43071c3d-2cf1-37fa-97ac-df21d5524400",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                      "name" : "Post Resource to FHIR Patient Access",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                      "name" : "No Retry",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "9401f751-73c3-3a7b-a1ea-f9488baf787b",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                      "name" : "Post Resource to FHIR Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                      "name" : "Post Resource to FHIR Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "aab94691-8c50-30fe-9e9f-966fc5898afe",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "providerDirectory" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                      "name" : "Is Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                      "name" : "Failure",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "eb302852-893e-3280-8192-8cfd9b03e420",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                      "name" : "Post Resource to FHIR Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                      "name" : "Post Resource to FHIR Patient Access",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "f6e52f05-ff86-3dfd-8f92-695feaca59ad",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "unmatched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                      "name" : "Is Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                      "name" : "No Retry",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "637548d6-e52b-3bae-ba99-2eb27368129e",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                      "name" : "Post Resource to FHIR Patient Access",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                      "name" : "Failure",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "b528fd50-3745-32e3-9256-7a321174a00c",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                      "name" : "Post Resource to FHIR Patient Access",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                      "name" : "Retry",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "23023de5-bc11-33bf-b61d-5b112ae77ffe",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                      "name" : "Post Resource to FHIR Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                      "name" : "Is Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "2335ed46-6329-3cdf-8cb7-d02b93dc9b39",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                      "name" : "Response",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "c275bfc3-60a5-3ba9-a8bc-34206982a876",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                      "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                      "name" : "Post Resource to FHIR Provider Directory",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                    "name" : "input",
                    "position" : {
                      "x" : 1448.0,
                      "y" : -344.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Post Resource Bundle to FHIR server",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "position" : {
                      "x" : 1456.0,
                      "y" : 288.0
                    },
                    "type" : "OUTPUT_PORT"
                  }, {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "position" : {
                      "x" : 1456.0,
                      "y" : 152.0
                    },
                    "type" : "OUTPUT_PORT"
                  }, {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "position" : {
                      "x" : 1456.0,
                      "y" : 416.0
                    },
                    "type" : "OUTPUT_PORT"
                  }, {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "position" : {
                      "x" : 1456.0,
                      "y" : 536.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "cms_adapter_parameters",
                  "position" : {
                    "x" : 504.0,
                    "y" : 272.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 24,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 736.0,
                      "y" : 240.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Prefer" : "return=${FHIRPreferSetting}",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{FHIR_UserPwd_PatientAccess}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{FHIR_URL_PatientAccess}${fhirUrlSuffix}",
                      "Content-Type" : "application/json",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "130 secs",
                      "Max Length To Put In Attribute" : "2048",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{FHIR_User_PatientAccess}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false",
                      "X-FHIR-TENANT-ID" : "${tenant}"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Prefer" : {
                        "displayName" : "Prefer",
                        "identifiesControllerService" : false,
                        "name" : "Prefer",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "X-FHIR-TENANT-ID" : {
                        "displayName" : "X-FHIR-TENANT-ID",
                        "identifiesControllerService" : false,
                        "name" : "X-FHIR-TENANT-ID",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1392.0,
                      "y" : -152.0
                    },
                    "properties" : {
                      "Routing Strategy" : "Route to Property name",
                      "providerDirectory" : "${kafka.topic:getDelimitedField(4,'.'):toLower():startsWith('provider_directory')}"
                    },
                    "propertyDescriptors" : {
                      "Routing Strategy" : {
                        "displayName" : "Routing Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Routing Strategy",
                        "sensitive" : false
                      },
                      "providerDirectory" : {
                        "displayName" : "providerDirectory",
                        "identifiesControllerService" : false,
                        "name" : "providerDirectory",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 24,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "identifier" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 2112.0,
                      "y" : 248.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Prefer" : "return=${FHIRPreferSetting}",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{FHIR_UserPwd_ProviderDirectory}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{FHIR_URL_ProviderDirectory}${fhirUrlSuffix}",
                      "Content-Type" : "application/json",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "130 secs",
                      "Max Length To Put In Attribute" : "2048",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{FHIR_User_ProviderDirectory}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false",
                      "X-FHIR-TENANT-ID" : "${tenant}"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Prefer" : {
                        "displayName" : "Prefer",
                        "identifiesControllerService" : false,
                        "name" : "Prefer",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "X-FHIR-TENANT-ID" : {
                        "displayName" : "X-FHIR-TENANT-ID",
                        "identifiesControllerService" : false,
                        "name" : "X-FHIR-TENANT-ID",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "c586d455-376c-3963-807b-b6258830b7e3",
                  "name" : "Check 404 error",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 768.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "404Error" : "${invokehttp.status.code:equals('404')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "404Error" : {
                      "displayName" : "404Error",
                      "identifiesControllerService" : false,
                      "name" : "404Error",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-scripting-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "35cea445-2919-36d9-a83e-60c174495c2e",
                  "name" : "Handle FHIR + Json Content Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -80.0,
                    "y" : 1048.0
                  },
                  "properties" : {
                    "Script Engine" : "Groovy",
                    "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                  },
                  "propertyDescriptors" : {
                    "Script File" : {
                      "displayName" : "Script File",
                      "identifiesControllerService" : false,
                      "name" : "Script File",
                      "sensitive" : false
                    },
                    "Script Engine" : {
                      "displayName" : "Script Engine",
                      "identifiesControllerService" : false,
                      "name" : "Script Engine",
                      "sensitive" : false
                    },
                    "Script Body" : {
                      "displayName" : "Script Body",
                      "identifiesControllerService" : false,
                      "name" : "Script Body",
                      "sensitive" : false
                    },
                    "Module Directory" : {
                      "displayName" : "Module Directory",
                      "identifiesControllerService" : false,
                      "name" : "Module Directory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.script.ExecuteScript",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "9a0b8c26-df1e-3c9d-bed9-4a3e0ffea591",
                  "name" : "RouteOnAttribute",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -80.0,
                    "y" : 760.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "hasOO" : "${invokehttp.response.body:find('\"resourceType\"\\s*:\\s*\"OperationOutcome\"')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "hasOO" : {
                      "displayName" : "hasOO",
                      "identifiesControllerService" : false,
                      "name" : "hasOO",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -936.0,
                    "y" : 328.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "abort-${batchId}",
                    "Put Cache Value In Attribute" : "abortedReason",
                    "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                    "Max Length To Put In Attribute" : "256",
                    "Character Set" : "UTF-8"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Put Cache Value In Attribute" : {
                      "displayName" : "Put Cache Value In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Cache Value In Attribute",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -568.0,
                    "y" : 552.0
                  },
                  "properties" : {
                    "penalize-retries" : "true",
                    "maximum-retries" : "3",
                    "Fail on Non-numerical Overwrite" : "false",
                    "reuse-mode" : "fail",
                    "retry-attribute" : "postBundleResource.retries"
                  },
                  "propertyDescriptors" : {
                    "penalize-retries" : {
                      "displayName" : "Penalize Retries",
                      "identifiesControllerService" : false,
                      "name" : "penalize-retries",
                      "sensitive" : false
                    },
                    "maximum-retries" : {
                      "displayName" : "Maximum Retries",
                      "identifiesControllerService" : false,
                      "name" : "maximum-retries",
                      "sensitive" : false
                    },
                    "Fail on Non-numerical Overwrite" : {
                      "displayName" : "Fail on Non-numerical Overwrite",
                      "identifiesControllerService" : false,
                      "name" : "Fail on Non-numerical Overwrite",
                      "sensitive" : false
                    },
                    "reuse-mode" : {
                      "displayName" : "Reuse Mode",
                      "identifiesControllerService" : false,
                      "name" : "reuse-mode",
                      "sensitive" : false
                    },
                    "retry-attribute" : {
                      "displayName" : "Retry Attribute",
                      "identifiesControllerService" : false,
                      "name" : "retry-attribute",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                  "yieldDuration" : "30 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-scripting-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0380b98b-1ebe-31cf-9b3d-ed0fcc0f55cf",
                  "identifier" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                  "name" : "Handle FHIR + Json Content Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1152.0,
                    "y" : 296.0
                  },
                  "properties" : {
                    "Script Engine" : "Groovy",
                    "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                  },
                  "propertyDescriptors" : {
                    "Script File" : {
                      "displayName" : "Script File",
                      "identifiesControllerService" : false,
                      "name" : "Script File",
                      "sensitive" : false
                    },
                    "Script Engine" : {
                      "displayName" : "Script Engine",
                      "identifiesControllerService" : false,
                      "name" : "Script Engine",
                      "sensitive" : false
                    },
                    "Script Body" : {
                      "displayName" : "Script Body",
                      "identifiesControllerService" : false,
                      "name" : "Script Body",
                      "sensitive" : false
                    },
                    "Module Directory" : {
                      "displayName" : "Module Directory",
                      "identifiesControllerService" : false,
                      "name" : "Module Directory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.script.ExecuteScript",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "f348c68d-1463-33d6-98bd-182b71b21ad9",
                "name" : "Set failed flag",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2520.0,
                  "y" : 2904.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "autoBundleFailed" : "true"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "autoBundleFailed" : {
                    "displayName" : "autoBundleFailed",
                    "identifiesControllerService" : false,
                    "name" : "autoBundleFailed",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "NONE",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "57a085f4-ba8d-3412-852c-547c7bf1dcfa",
                "name" : "Log Error Not finding copy index",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 3152.0,
                  "y" : 2904.0
                },
                "properties" : {
                  "log-message" : "Copy index not found or set to unexpected number while attempting to filter out FHIR generated bundle package",
                  "log-level" : "error",
                  "log-prefix" : "Interop FHIR Adapter - "
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "f38e21f1-5167-309a-a57e-8c14abee7a8e",
                "name" : "split flow file for FHIR Server",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1872.0,
                  "y" : 1216.0
                },
                "properties" : {
                  "Number of Copies" : "1"
                },
                "propertyDescriptors" : {
                  "Number of Copies" : {
                    "displayName" : "Number of Copies",
                    "identifiesControllerService" : false,
                    "name" : "Number of Copies",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "MergeContent expected a 'fragement.count' property to determine the order that files are merged. The value for this is already in a 'copy.index' property. This update does a copy to the new name.",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "d24cf38b-ebe0-3919-9717-005124949088",
                "name" : "Setup for Merge",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1856.0,
                  "y" : 2304.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "fragment.identifier" : "${copyId}",
                  "fragment.index" : "${copy.index}",
                  "fragment.count" : "2"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "fragment.identifier" : {
                    "displayName" : "fragment.identifier",
                    "identifiesControllerService" : false,
                    "name" : "fragment.identifier",
                    "sensitive" : false
                  },
                  "fragment.index" : {
                    "displayName" : "fragment.index",
                    "identifiesControllerService" : false,
                    "name" : "fragment.index",
                    "sensitive" : false
                  },
                  "fragment.count" : {
                    "displayName" : "fragment.count",
                    "identifiesControllerService" : false,
                    "name" : "fragment.count",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "0768da26-9461-3559-b271-30a3a6d4dfdb",
                "name" : "Setup Attributes for Copy",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1872.0,
                  "y" : 1000.0
                },
                "properties" : {
                  "copyId" : "${UUID()}",
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "segment.original.filename" : "${filename}"
                },
                "propertyDescriptors" : {
                  "copyId" : {
                    "displayName" : "copyId",
                    "identifiesControllerService" : false,
                    "name" : "copyId",
                    "sensitive" : false
                  },
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "segment.original.filename" : {
                    "displayName" : "segment.original.filename",
                    "identifiesControllerService" : false,
                    "name" : "segment.original.filename",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "copy" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "2d5cd914-5368-354d-8d84-09ff70d2bb17",
                "name" : "Filter out Copy",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 3152.0,
                  "y" : 2552.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "original" : "${copy.index:equals(0)}",
                  "copy" : "${copy.index:equals(1)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "original" : {
                    "displayName" : "original",
                    "identifiesControllerService" : false,
                    "name" : "original",
                    "sensitive" : false
                  },
                  "copy" : {
                    "displayName" : "copy",
                    "identifiesControllerService" : false,
                    "name" : "copy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "2e03e45a-1f1d-3851-a8f3-31f3d11c382b",
                "name" : "Route to Send to FHIR",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1872.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "original" : "${copy.index:equals(0)}",
                  "copy" : "${copy.index:equals(1)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "original" : {
                    "displayName" : "original",
                    "identifiesControllerService" : false,
                    "name" : "original",
                    "sensitive" : false
                  },
                  "copy" : {
                    "displayName" : "copy",
                    "identifiesControllerService" : false,
                    "name" : "copy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "NONE",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "6bbcfdde-6aa5-3a74-be1a-c49ed6640d66",
                "name" : "Log Error Creating Bundle Payload",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 3392.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "log-message" : "Error setting Resource Bundle in FHIR Payload",
                  "log-level" : "error",
                  "log-prefix" : "Interop FHIR Adapter - "
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "This processor uses the 'fragement' properties that were previously set into the flow files to 'de-fragment' the batch.\nThe merged flow file will contain all FHIR resources for which a publish attempt was made, as a json array.\n\nThe metadata strategy is to only include attributes with the same key and value in the merged file.  This is important for the batch status, because if some files are published and some fail, the batch status attribute will not exist (will be null).",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "7ff0ddb1-a9f0-34a0-86bd-d3f58eec5963",
                "name" : "Merge FHIR Response",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1856.0,
                  "y" : 2552.0
                },
                "properties" : {
                  "Keep Path" : "false",
                  "Merge Strategy" : "Defragment",
                  "Attribute Strategy" : "Keep All Unique Attributes",
                  "Compression Level" : "1",
                  "Maximum Number of Entries" : "2",
                  "Minimum Group Size" : "0 B",
                  "Maximum number of Bins" : "25000",
                  "Tar Modified Time" : "${file.lastModifiedTime}",
                  "Delimiter Strategy" : "Text",
                  "Merge Format" : "Binary Concatenation",
                  "Footer File" : "]",
                  "Max Bin Age" : "10 minutes",
                  "Demarcator File" : ",",
                  "Header File" : "[",
                  "mergecontent-metadata-strategy" : "Keep Only Common Metadata",
                  "Minimum Number of Entries" : "2"
                },
                "propertyDescriptors" : {
                  "Keep Path" : {
                    "displayName" : "Keep Path",
                    "identifiesControllerService" : false,
                    "name" : "Keep Path",
                    "sensitive" : false
                  },
                  "Maximum Group Size" : {
                    "displayName" : "Maximum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Group Size",
                    "sensitive" : false
                  },
                  "Merge Strategy" : {
                    "displayName" : "Merge Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Merge Strategy",
                    "sensitive" : false
                  },
                  "Attribute Strategy" : {
                    "displayName" : "Attribute Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Attribute Strategy",
                    "sensitive" : false
                  },
                  "Compression Level" : {
                    "displayName" : "Compression Level",
                    "identifiesControllerService" : false,
                    "name" : "Compression Level",
                    "sensitive" : false
                  },
                  "Maximum Number of Entries" : {
                    "displayName" : "Maximum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Number of Entries",
                    "sensitive" : false
                  },
                  "Minimum Group Size" : {
                    "displayName" : "Minimum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Group Size",
                    "sensitive" : false
                  },
                  "Maximum number of Bins" : {
                    "displayName" : "Maximum number of Bins",
                    "identifiesControllerService" : false,
                    "name" : "Maximum number of Bins",
                    "sensitive" : false
                  },
                  "Tar Modified Time" : {
                    "displayName" : "Tar Modified Time",
                    "identifiesControllerService" : false,
                    "name" : "Tar Modified Time",
                    "sensitive" : false
                  },
                  "Delimiter Strategy" : {
                    "displayName" : "Delimiter Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Delimiter Strategy",
                    "sensitive" : false
                  },
                  "Merge Format" : {
                    "displayName" : "Merge Format",
                    "identifiesControllerService" : false,
                    "name" : "Merge Format",
                    "sensitive" : false
                  },
                  "Footer File" : {
                    "displayName" : "Footer",
                    "identifiesControllerService" : false,
                    "name" : "Footer File",
                    "sensitive" : false
                  },
                  "Max Bin Age" : {
                    "displayName" : "Max Bin Age",
                    "identifiesControllerService" : false,
                    "name" : "Max Bin Age",
                    "sensitive" : false
                  },
                  "Demarcator File" : {
                    "displayName" : "Demarcator",
                    "identifiesControllerService" : false,
                    "name" : "Demarcator File",
                    "sensitive" : false
                  },
                  "Correlation Attribute Name" : {
                    "displayName" : "Correlation Attribute Name",
                    "identifiesControllerService" : false,
                    "name" : "Correlation Attribute Name",
                    "sensitive" : false
                  },
                  "Header File" : {
                    "displayName" : "Header",
                    "identifiesControllerService" : false,
                    "name" : "Header File",
                    "sensitive" : false
                  },
                  "mergecontent-metadata-strategy" : {
                    "displayName" : "Metadata Strategy",
                    "identifiesControllerService" : false,
                    "name" : "mergecontent-metadata-strategy",
                    "sensitive" : false
                  },
                  "Minimum Number of Entries" : {
                    "displayName" : "Minimum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Number of Entries",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.MergeContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "c7f3bdd0-fcbc-35da-93de-1f3cd60368ac",
                "name" : "Set content to FHIR payload",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2736.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "Destination" : "flowfile-content",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "completedNotification" : "$.bundle",
                  "Path Not Found Behavior" : "warn"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "completedNotification" : {
                    "displayName" : "completedNotification",
                    "identifiesControllerService" : false,
                    "name" : "completedNotification",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "0eb49080-858b-331b-8093-2f59de04d893",
                "name" : "Set failed flag",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 3392.0,
                  "y" : 1824.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "autoBundleFailed" : "true"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "autoBundleFailed" : {
                    "displayName" : "autoBundleFailed",
                    "identifiesControllerService" : false,
                    "name" : "autoBundleFailed",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "NONE",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "9fb40307-aadb-3ed3-9908-567496db7440",
                "name" : "Log Error Merging FHIR Response",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2528.0,
                  "y" : 2552.0
                },
                "properties" : {
                  "log-message" : "Error merging FHIR response with built bundle",
                  "log-level" : "error",
                  "log-prefix" : "Interop FHIR Adapter - "
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "9f8c4faf-6d7b-3707-87e0-bcf4acf4fb19",
                "name" : "Build Resource Bundle",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1872.0,
                  "y" : 712.0
                },
                "properties" : {
                  "Maximum resources in bundle" : "#{maxResourcesInBundle}",
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\nimport org.apache.commons.lang3.StringUtils\nimport org.apache.nifi.components.PropertyDescriptor\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.InputStreamCallback\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.processor.util.StandardValidators\nimport org.apache.nifi.expression.AttributeExpression\nimport org.apache.nifi.expression.ExpressionLanguageScope\n\n/**\n * For the \"Build Resource Bundle\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> Auto Build Bundle\"\"\n *\n * Collects a number of FlowFiles that contains a FHIR resource and builds a resource bundle to be sent to the FHIR server.\n * This script also captures the flowfile attributes needed when the bundle needs to be split up again into flowfiles.\n * The resulting flowfile content will have a section that contains the flowfile attributes in an array corresponding to the bundle entry.\n * Another section will contain the resource bundle to be sent to FHIR.\n */\nclass BuildNewBundleFromResources extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resources were successfully added to a resource bundle and a single merged flowfile will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If there was a failure to generate the resource bundle, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    public static final PropertyDescriptor PROP_MAX_BUNDLE_ENTRIES = new PropertyDescriptor.Builder()\n    .name(\"Maximum resources in bundle\")\n    .description(\"The maximum number of FHIR resources to add to a generated bundle sent to the FHIR Server\")\n    .required(true)\n    .addValidator(StandardValidators.POSITIVE_INTEGER_VALIDATOR)\n    .defaultValue(\"20\")\n    .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)\n    .build()\n\n    public static final PropertyDescriptor PROP_BUNDLE_GROUP_KEY = new PropertyDescriptor.Builder()\n    .name(\"Bundle Group Key\")\n    .description(\"The key used to determine which collection of flowfiles belong in a bundle.  Use the NiFi expression language to use flowfile attributes to create \" +\n                 \"the key that ensures all flowfiles in a bundle are being stored in the proper FHIR server.  The information in the first flowfile in the bundle is used to connect to the FHIR server. \" +\n                 \"If this is set to a constant value, then no sorting of flowfiles will be performed.  For instance, if your flow is supporting multi-tenancy and the tenant id is not part of the key, you \" +\n                 \"could end up with flowfiles for both tenants in one bundle being sent to one FHIR server.\")\n    .required(true)\n    .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\n    .defaultValue('${kafka.topic}')\n    .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)\n    .build()\n\n    public static final PropertyDescriptor PROP_NUMBER_FLOWFILES_TO_PULL = new PropertyDescriptor.Builder()\n    .name(\"Number of flowfiles to pull\")\n    .description(\"The number of flowfiles this process will pull from the queue at one time\")\n    .required(true)\n    .addValidator(StandardValidators.POSITIVE_INTEGER_VALIDATOR)\n    .defaultValue(\"100\")\n    .expressionLanguageSupported(ExpressionLanguageScope.NONE)\n    .build()\n\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n\n    @Override\n    List<PropertyDescriptor> getSupportedPropertyDescriptors() {\n        final List<PropertyDescriptor> descriptors = new ArrayList<>()\n        descriptors.add(PROP_MAX_BUNDLE_ENTRIES)\n        descriptors.add(PROP_BUNDLE_GROUP_KEY)\n        descriptors.add(PROP_NUMBER_FLOWFILES_TO_PULL)\n        return descriptors\n    }\n\n    /**\n     * Class that handles capturing the needed attributes and content from a flowfile\n     */\n    public class ProcessInputFlowFile extends InputStreamCallback {\n        private FlowFile inputFlowFile = null\n        private ArrayList entryAttributes = new ArrayList()\n        private ArrayList entries = new ArrayList()\n        private Set<String> attributesToIgnore = null;\n\n        public ProcessInputFlowFile() {\n            super();\n        }\n\n        public ProcessInputFlowFile(Set<String> attributesToIgnore) {\n            super();\n            this.attributesToIgnore = attributesToIgnore\n        }\n\n        public void setFlowFile(FlowFile inputFlowFile) {\n            this.inputFlowFile = inputFlowFile\n        }\n\n         public ArrayList getEntryAttributes() {\n            return entryAttributes;\n        }\n\n        public ArrayList getEntries() {\n            return entries;\n        }\n\n        /**\n         * The set of attributes not preserved in the flowfile.\n         * @return\n         */\n        public Set<String> getAttributesToIgnore() {\n            return attributesToIgnore;\n        }\n\n        /**\n         * Sets the set of flowfile attributes to ignore.  Attributes in this set will not be preserved.\n         * @param attributesToIgnore\n         */\n        public void setAttributesToIgnore(Set<String> attributesToIgnore) {\n            this.attributesToIgnore = attributesToIgnore;\n        }\n\n        @Override\n        void process(InputStream instream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            Map inputFHIRResource = jsonSlurper.parse(instream, \"UTF-8\")\n            Map attributes = retrieveAttributesFromFlowFile(this.inputFlowFile, getAttributesToIgnore())\n\n            // Grab the FHIR resource tag to be added to each resource\n            String fhirResourceTag = this.inputFlowFile.getAttribute(\"FHIRResourceTag\")\n\n            processFlowFile(inputFHIRResource, attributes, fhirResourceTag)\n        }\n\n        /*\n         * Pulls the needed attributes out of the flowfile and returns them in JSON format\n         */\n        public Map retrieveAttributesFromFlowFile(FlowFile aFlowFile, Set<String> attributesToIgnore) {\n            Map attributeJson = [:]\n            attributeJson.putAll(aFlowFile.getAttributes())\n\n            // Remove the ignored attributes\n            if (attributesToIgnore)\n                attributeJson.keySet().removeAll(attributesToIgnore)\n\n            return attributeJson\n        }\n\n        /**\n         * Adds the FlowFile attributes and bundle entries to the collection.\n         * @param inputFHIRResource\n         * @param attributes\n         * @param fhirResourceTag\n         * @return\n         */\n        public void processFlowFile(Map inputFHIRResource, Map attributes, String fhirResourceTag) {\n            // Just add the attributes as is\n            entryAttributes.add(attributes)\n\n            // Ensure the input resource has the required tag\n            inputFHIRResource = addTagToResource(inputFHIRResource, fhirResourceTag)\n\n            // Need to wrap the input FHIR resource into an entry json including which command to retrieve.\n            Map entryJson = [\"resource\":inputFHIRResource]\n\n            Map requestEntry = [:]\n            def resourceType = inputFHIRResource.getAt(\"resourceType\")\n\n            if (inputFHIRResource.containsKey(\"id\"))\n                requestEntry = [\"method\": \"PUT\", \"url\": resourceType + '/' + inputFHIRResource.getAt(\"id\")]\n            else\n                requestEntry = [\"method\": \"POST\", \"url\": resourceType]\n\n            entryJson.putAt(\"request\", requestEntry)\n\n            entries.add(entryJson)\n\n\n        }\n\n        /**\n         * Adds the given tag to the FHIR resource.  If the meta or tag fields do not exist, they will be created.\n         * @param fhirResource\n         * @param fhirResourceTag\n         * @return\n         */\n        private Map addTagToResource(Map fhirResource, String fhirResourceTag) {\n            if (fhirResourceTag) {\n                String CODE_SYSTEM=\"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n\n                def fhirTag=[system:CODE_SYSTEM,code:fhirResourceTag]\n\n                // create 'meta' element if is doesn't exist\n                // NOTE: this appends property 'meta' to end of list. (least expensive option)\n                fhirResource.putIfAbsent(\"meta\", [:] )\n\n                // Create empty tag array if it doesn't exist.\n                Map metaMap = fhirResource.getAt(\"meta\")\n                metaMap.putIfAbsent(\"tag\", [] )\n\n                ArrayList tagArray = metaMap.get(\"tag\")\n\n                // search for an existing entry with same CODE_SYSTEM\n                def existingEntry = tagArray.find { tagArrayEntry -> tagArrayEntry.getAt(\"system\") == CODE_SYSTEM }\n                if ( ! existingEntry ) {\n                    // NOT FOUND - add a new entry to tagArray\n                    tagArray.add(fhirTag)\n                } else {\n                    // There was an array entry for our code system - set value\n                    existingEntry.putAt(\"code\", fhirResourceTag)\n                }\n\n            }\n\n            return fhirResource\n        }\n    }\n\n    /**\n     * Generates the flowfile contents from the ProcessInputFlowFile object\n     */\n    public class BundleWriterCallback extends StreamCallback {\n        private ProcessInputFlowFile flowfilesData = null;\n\n        public BundleWriterCallback(ProcessInputFlowFile flowfilesData) {\n            super()\n            this.flowfilesData = flowfilesData\n        }\n\n        @Override\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n\n            Map output = generateContent()\n\n            outstream.write(JsonOutput.toJson(output).getBytes(StandardCharsets.UTF_8))\n        }\n\n\n        /**\n         * Generates the flowfile content which has a section for flowfile attributes and FHIR resource bundle\n         * @return Map\n         */\n        public Map generateContent() {\n            Map flowfileContent = [\"flowfileAttributes\" : this.flowfilesData.getEntryAttributes()]\n            Map bundle = [\"resourceType\" : \"Bundle\"]\n            bundle.putAt(\"id\", UUID.randomUUID().toString())\n            bundle.putAt(\"type\", \"transaction\")\n            bundle.putAt(\"entry\", this.flowfilesData.getEntries())\n            flowfileContent.putAt(\"bundle\", bundle)\n            return flowfileContent\n        }\n\n    }\n\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        String numberOfFlowFilesToPull = context.getProperty(PROP_NUMBER_FLOWFILES_TO_PULL)\n        if (StringUtils.isBlank(numberOfFlowFilesToPull)) {\n            getLogger().error(\"Was unable to determine number of flowfiles to pull in processor configuration\")\n            return\n        }\n\n        int numberOfFlowfilesToPull = numberOfFlowFilesToPull.toInteger()\n\n        ArrayList<FlowFile> flowFiles = session.get(numberOfFlowfilesToPull)\n\n        if (!flowFiles)\n            return\n\n        // Need to group out the flowfiles based on the grouping criteria and maximum bundle entries.\n        Map<String, List<List<FlowFile>>> flowFileBundles = new HashMap<>()\n\n        for (FlowFile aFlowFile : flowFiles) {\n            // Get the grouping criteria\n            String criteriaString = context.getProperty(PROP_BUNDLE_GROUP_KEY).evaluateAttributeExpressions(aFlowFile).getValue()\n            if (criteriaString == null)\n                criteriaString = \"\"\n\n            List<List<FlowFile>> criteriaGroup = flowFileBundles.getAt(criteriaString)\n            if (criteriaGroup == null) {\n                criteriaGroup = new ArrayList<>()\n                flowFileBundles.putAt(criteriaString, criteriaGroup)\n            }\n\n            // Populate the first size group if none are there\n            if (criteriaGroup.size() == 0) {\n                criteriaGroup.add(new ArrayList<>())\n            }\n\n            // Get the last size group\n            List<FlowFile> sizeGroup = criteriaGroup.getAt(criteriaGroup.size() - 1)\n\n            // Get the Max number of flowfiles to add to the bundle\n            String maxNumberOfResourcesString = context.getProperty(PROP_MAX_BUNDLE_ENTRIES).evaluateAttributeExpressions(aFlowFile).getValue()\n            Integer maxNumberOfFlowFiles = maxNumberOfResourcesString.toInteger()\n\n            // If the size group is already too big, start a new list\n            if (sizeGroup.size() >= maxNumberOfFlowFiles) {\n                sizeGroup = new ArrayList<>()\n                criteriaGroup.add(sizeGroup)\n            }\n\n            sizeGroup.add(aFlowFile)\n        }\n\n        // Start processing the flowfiles for each bundle\n        Set<String> setOfAttributesToRemove = [\"invokehttp.status.code\", \"invokehttp.status.message\"]\n        Set<String> setOfAttributesToIgnore = [\"uuid\", \"filename\", \"path\"]\n        setOfAttributesToIgnore.addAll(setOfAttributesToRemove)\n        \n\n        for (List<List<FlowFile>> groupedFlowFiles : flowFileBundles.values()) {\n            for (List<FlowFile> aNewFlowFileBundle : groupedFlowFiles) {\n                FlowFile outputFlowFile = null\n                try {\n                    // Create the output flowfile from the input flowfiles\n                    outputFlowFile = session.create(aNewFlowFileBundle)\n                    \n                    outputFlowFile = session.removeAllAttributes(outputFlowFile, setOfAttributesToRemove)\n                    \n                    ProcessInputFlowFile inputProcessor = new ProcessInputFlowFile(setOfAttributesToIgnore)\n\n                    for (FlowFile aFlowFile: aNewFlowFileBundle) {\n                        // process the flowfile\n                        inputProcessor.setFlowFile(aFlowFile)\n                        session.read(aFlowFile, inputProcessor)\n                    }\n\n                    outputFlowFile = session.write(outputFlowFile, new BundleWriterCallback(inputProcessor))\n\n                    // Remove all flowfiles except the first one from the flow\n                    session.remove(aNewFlowFileBundle)\n                    session.transfer(outputFlowFile, REL_SUCCESS)\n\n                } catch (Exception e) {\n                    getLogger().error('{} failed to process due to {}', [this, e] as Object[])\n                    for (FlowFile aFlowFile: aNewFlowFileBundle)\n                        session.transfer(aFlowFile, REL_FAILURE)\n                    \n                    // If the output flowfile was created, remove it.    \n                    if (outputFlowFile != null)\n                        session.remove(outputFlowFile)\n                }\n            }\n        }\n    }\n\n}\n\nprocessor = new BuildNewBundleFromResources()\n",
                  "Number of flowfiles to pull" : "100",
                  "Bundle Group Key" : "${kafka.topic}"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Maximum resources in bundle" : {
                    "displayName" : "Maximum resources in bundle",
                    "identifiesControllerService" : false,
                    "name" : "Maximum resources in bundle",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Number of flowfiles to pull" : {
                    "displayName" : "Number of flowfiles to pull",
                    "identifiesControllerService" : false,
                    "name" : "Number of flowfiles to pull",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  },
                  "Bundle Group Key" : {
                    "displayName" : "Bundle Group Key",
                    "identifiesControllerService" : false,
                    "name" : "Bundle Group Key",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f219ff5c-43a7-3e10-816b-0dc24a1579ce",
                "identifier" : "69183190-9278-386d-8baa-1d59422d0e9a",
                "name" : "Process Results",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1856.0,
                  "y" : 3240.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\n\nimport org.apache.commons.lang3.StringUtils\nimport org.apache.nifi.components.PropertyDescriptor\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.InputStreamCallback\nimport org.apache.nifi.processor.io.OutputStreamCallback\nimport java.nio.charset.StandardCharsets\nimport org.apache.nifi.processor.util.StandardValidators\nimport org.apache.nifi.expression.AttributeExpression\nimport org.apache.nifi.expression.ExpressionLanguageScope\n\n/**\n * For the \"ProcessResults\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> Auto Build Bundle\"\"\n *\n * Processes the flow file expected after the merging of an auto bundle and the results of the FHIR server call using that auto bundle.\n * This script will create a new flow file for each entry in the auto bundle.\n * If there were errors on the call to FHIR, the output flowfile contents will be set to the bundle entry resource contents and sent to\n * the retry output relationship to retried as a single resource on the FHIR server.\n *\n * If the FHIR call has a 200 or 201 HTTP status code, the bundle was successfully stored on the FHIR server.  New flow files will be\n * created for each of the bundle entries, status code set from the response, and the flow file contents will be set to the entry's resource\n * content if it exists.  If the resource doesn't exist in the entry, then the flow file's content will be blank.\n *\n *\n */\nclass ProcessAutoBundleResults extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"The contents of the resource bundle were successfully saved in the FHIR server and a flowfile for each bundle entry sent to this relationship with the entry's operation outcome results in the content.\")\n    .build()\n\n    public static final Relationship REL_RETRY = new Relationship.Builder()\n    .name(\"retry\")\n    .description(\"There was an error in the auto generated bundle or building the generated bundle.  A flowfile for each bundle entry is sent to this relationship with the original resource in the content in order to be sent to FHIR individually.\")\n    .build()\n\n     public static final PropertyDescriptor PROP_NUMBER_FLOWFILES_TO_PULL = new PropertyDescriptor.Builder()\n    .name(\"Number of flowfiles to pull\")\n    .description(\"The number of flowfiles this process will pull from the queue at one time\")\n    .required(true)\n    .addValidator(StandardValidators.POSITIVE_INTEGER_VALIDATOR)\n    .defaultValue(\"100\")\n    .expressionLanguageSupported(ExpressionLanguageScope.NONE)\n    .build()\n\n     @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_RETRY] as Set\n    }\n\n    @Override\n    List<PropertyDescriptor> getSupportedPropertyDescriptors() {\n        final List<PropertyDescriptor> descriptors = new ArrayList<>()\n        descriptors.add(PROP_NUMBER_FLOWFILES_TO_PULL)\n        return descriptors\n    }\n\n    /**\n     * Class that handles reading the flowfile after attempting to save an auto bundle to FHIR.\n     */\n    public class DetermineAutoBundleFHIRResults extends InputStreamCallback {\n        private FlowFile inputFlowFile = null\n        private ArrayList entryAttributes = new ArrayList()\n        private ArrayList entries = new ArrayList()\n        private ArrayList entryResults = new ArrayList()\n        private boolean retry = false;\n        private boolean deleteFlowFile = false;\n\n        public DetermineAutoBundleFHIRResults(FlowFile inputFlowFile) {\n            super();\n            this.inputFlowFile = inputFlowFile\n        }\n\n         public ArrayList getEntryAttributes() {\n            return entryAttributes\n        }\n\n        public ArrayList getEntries() {\n            return entries\n        }\n\n        public ArrayList getEntryResults() {\n            return entryResults\n        }\n\n        public boolean isRetry() {\n            return retry\n        }\n\n        public boolean setRetry(boolean retry) {\n            this.retry = retry;\n        }\n\n        public boolean isDeleteFlowFile() {\n            return deleteFlowFile;\n        }\n\n        private void setDeleteFlowFile(boolean deleteFlowFile) {\n            this.deleteFlowFile = deleteFlowFile;\n        }\n\n        /**\n         * Determines if there was a failure posting to FHIR and marks this object to send flowfiles to the retry connection.\n         * The entry collections will be populated from the flowfile contents.\n         * @param instream\n         * @throws IOException\n         */\n        @Override\n        void process(InputStream instream) throws IOException {\n             // Grab the failure flag if it exists\n            def autoBundleFailedFlag = this.inputFlowFile.getAttribute(\"autoBundleFailed\")\n\n            if (autoBundleFailedFlag) {\n                if (autoBundleFailedFlag.equalsIgnoreCase(\"true\"))\n                    setRetry(true)\n            }\n\n            // If no failed flag, check for the HTTP status code\n            if (!isRetry()) {\n                String httpStatusCode = this.inputFlowFile.getAttribute(\"invokehttp.status.code\")\n                if (!httpStatusCode || !httpStatusCode.startsWith(\"2\"))\n                    setRetry(true)\n            }\n\n            // Now get the entries in the flowfile content\n            def jsonSlurper = new JsonSlurper()\n            def inputFileContent = jsonSlurper.parse(instream, \"UTF-8\")\n            processFlowFileContent(inputFileContent)\n\n        }\n\n\n        /**\n         * Sets this object's entry collections using the provided flowfile content expected to be a json array or map.\n         * The method expects \"retry\" to be set before being invoked.\n         *\n         * @param jsonContnet\n         */\n        public void processFlowFileContent(def jsonContent) {\n            Map attributesAndBundle = null\n            Map fhirResults = null;\n\n            // Check if the content is an array or if it is a json object\n            if (jsonContent instanceof List) {\n                ArrayList fileContentArray = (ArrayList) jsonContent\n                attributesAndBundle = fileContentArray.get(0)\n                // If this was a successful save, grab the FHIR server results\n                if (!isRetry()) {\n                    if (fileContentArray.size > 1) {\n                        fhirResults = fileContentArray.get(1)\n                    } else {\n                        setRetry(true)\n                    }\n                }\n            } else {\n                // Must be a map.  Would only happen if there was a failure to merge in the flowfile\n                Map fileContentMap = (Map) jsonContent\n\n                // only process if it has both attributes and bundle\n                if (fileContentMap.containsKey(\"flowfileAttributes\") && fileContentMap.containsKey(\"bundle\")) {\n                    attributesAndBundle = fileContentMap\n\n                } else {\n                    // this is not the original, just discard this extra flowfile\n                    setDeleteFlowFile(true)\n                    return\n                }\n            }\n\n            // Now populate the entry information in this object\n            this.entryAttributes = attributesAndBundle.get(\"flowfileAttributes\")\n            Map resourceBundle = attributesAndBundle.get(\"bundle\")\n            this.entries = resourceBundle.getAt(\"entry\")\n\n            // If this is a successful push to the FHIR server, Grab the Operation Outcomes from each entry if returned.\n            if (!isRetry()) {\n                this.entryResults = fhirResults.getAt(\"entry\")\n            }\n        }\n     }\n\n    /**\n     * Updates the flowfile with the provided content.\n     */\n    public class FlowFileWriter extends OutputStreamCallback {\n        private String content = \"\";\n\n        public FlowFileWriter(String content) {\n            super()\n            this.content = content\n        }\n\n        @Override\n        void process(OutputStream outstream) throws IOException {\n            outstream.write(this.content.getBytes(StandardCharsets.UTF_8))\n        }\n    }\n\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        String numberOfFlowFilesToPull = context.getProperty(PROP_NUMBER_FLOWFILES_TO_PULL)\n        if (StringUtils.isBlank(numberOfFlowFilesToPull)) {\n            getLogger().error(\"Was unable to determine number of flowfiles to pull in processor configuration\")\n            return\n        }\n\n        int numberOfFlowfilesToPull = numberOfFlowFilesToPull.toInteger()\n\n        ArrayList<FlowFile> inputFlowFiles = session.get(numberOfFlowfilesToPull)\n\n        if (!inputFlowFiles)\n            return\n\n        for (FlowFile sourceFlowFile : inputFlowFiles) {\n\t\t\t// Read in the flowfile to determine action and how many flowfiles to create\n\t\t\tDetermineAutoBundleFHIRResults fhirResults = new DetermineAutoBundleFHIRResults(sourceFlowFile)\n\t\t\ttry {\n\t\t\t\tsession.read(sourceFlowFile, fhirResults)\n\t\t\t} catch (Exception e) {\n\t\t\t\tgetLogger().error('{} failed to process auto bundling results due to {}', [this, e] as Object[])\n                throw new ProcessException(e)\n\t\t\t}\n\n\t\t\t// Remove the flowfile if marked to delete and no longer continue\n\t\t\tif (fhirResults.deleteFlowFile) {\n\t\t\t\ttry {\n\t\t\t\t\tsession.remove(sourceFlowFile)\n\t\t\t\t} catch (Exception e) {\n\t\t\t\t\tgetLogger().error('{} failed to remove auto bundle source file from session due to {}', [this, e] as Object[])\n                    throw new ProcessException(e)\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t}\n\n            try {\n                for (int i = 0; i < fhirResults.getEntryAttributes().size(); i++) {\n                    FlowFile outputFlowFile = session.create(sourceFlowFile);\n                    String content = \"\"\n                    String statusCode = null\n\n                    // if it was a failure, set the content to the original resource.\n                    if (fhirResults.isRetry()) {\n                        Map entryResource = fhirResults.getEntries().get(i)\n                        content = JsonOutput.toJson(entryResource.getAt(\"resource\"))\n                    } else {\n                        // Was successful.  May or may not have an OperationOutcome\n                        Map bundleEntry = fhirResults.getEntryResults().get(i)\n                        if (bundleEntry.containsKey(\"resource\")) {\n                            Map entryResource = bundleEntry.getAt(\"resource\")\n                            content = JsonOutput.toJson(entryResource)\n                        }\n\n                        // Set the status code\n                        if (bundleEntry.containsKey(\"response\")) {\n                            Map entryResponse = bundleEntry.getAt(\"response\")\n                            statusCode = entryResponse.getAt(\"status\")\n                        }\n\n                    }\n\n                    // Write out the flowfile content\n                    outputFlowFile = session.write(outputFlowFile, new FlowFileWriter(content))\n\n                    // Update the attributes for the output flowfile\n                    if (!fhirResults.isRetry()) {\n                        if (statusCode) {\n                            outputFlowFile = session.putAttribute(outputFlowFile, \"invokehttp.status.code\", statusCode)\n                        }\n                    } else {\n                        // remove attributes that may cause conflict for retry\n                        outputFlowFile = session.removeAttribute(outputFlowFile, \"invokehttp.status.code\")\n                        outputFlowFile = session.removeAttribute(outputFlowFile, \"invokehttp.status.message\")\n                    }\n\n                    // Cleanup any unwanted attributes\n                    Set<String> setOfAttributesToRemove = [\"copy.index\", \"copyId\", \"fragment.count\", \"fragment.identifier\", \"fragment.index\", \"segment.original.filename\", \"merge.bin.age\", \"merge.count\"]\n\n                    outputFlowFile = session.removeAllAttributes(outputFlowFile, setOfAttributesToRemove)\n\n                    // add the preserved attributes to the flowfile\n                    Map preservedAttributes = fhirResults.getEntryAttributes().getAt(i)\n                    for (String key : preservedAttributes.keySet()) {\n                        outputFlowFile = session.putAttribute(outputFlowFile, key, preservedAttributes.getAt(key) )\n                    }\n\n                    // Update the size of the content\n                    outputFlowFile = session.putAttribute(outputFlowFile, \"Content-Length\", \"\" + outputFlowFile.getSize())\n\n                    // Send flowfile to relationship\n                    if (fhirResults.isRetry()) {\n                        session.transfer(outputFlowFile, REL_RETRY)\n                    } else {\n                        session.transfer(outputFlowFile, REL_SUCCESS)\n                    }\n                }\n\n            } catch (Exception e) {\n                getLogger().error('{} generate output flowfile from autobundle process results due to {}', [this, e] as Object[])\n                throw new ProcessException(e)\n            }\n\n            // Delete the source flowfile\n            session.remove(sourceFlowFile)\n\t\t}\n    }\n}\n\nprocessor = new ProcessAutoBundleResults()\n",
                  "Number of flowfiles to pull" : "100"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Number of flowfiles to pull" : {
                    "displayName" : "Number of flowfiles to pull",
                    "identifiesControllerService" : false,
                    "name" : "Number of flowfiles to pull",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                  "name" : "Log Error Message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "d52824fe-ad22-37d9-96b8-ee874615c15f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                  "name" : "Log Error Message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "position" : {
                  "x" : 576.0,
                  "y" : 224.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Clear Flow File Contents",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                "name" : "output",
                "position" : {
                  "x" : 576.0,
                  "y" : 1048.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 3024.0,
                "y" : -712.0
              },
              "processGroups" : [ ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "NONE",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                "name" : "Log Error Message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 992.0,
                  "y" : 752.0
                },
                "properties" : {
                  "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                  "log-level" : "warn",
                  "log-prefix" : "Interop FHIR Adapter - "
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                "name" : "Set content type to Text",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 744.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "mime.type" : "text/plain",
                  "Content-Type" : "text/plain"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "mime.type" : {
                    "displayName" : "mime.type",
                    "identifiesControllerService" : false,
                    "name" : "mime.type",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                "name" : "Clear Flow File Contents",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 480.0
                },
                "properties" : {
                  "Regular Expression" : ".",
                  "Replacement Value" : "",
                  "Evaluation Mode" : "Entire text",
                  "Line-by-Line Evaluation Mode" : "All",
                  "Character Set" : "UTF-8",
                  "Maximum Buffer Size" : "1 MB",
                  "Replacement Strategy" : "Always Replace"
                },
                "propertyDescriptors" : {
                  "Regular Expression" : {
                    "displayName" : "Search Value",
                    "identifiesControllerService" : false,
                    "name" : "Regular Expression",
                    "sensitive" : false
                  },
                  "Replacement Value" : {
                    "displayName" : "Replacement Value",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Value",
                    "sensitive" : false
                  },
                  "Evaluation Mode" : {
                    "displayName" : "Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Evaluation Mode",
                    "sensitive" : false
                  },
                  "Line-by-Line Evaluation Mode" : {
                    "displayName" : "Line-by-Line Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Line-by-Line Evaluation Mode",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  },
                  "Maximum Buffer Size" : {
                    "displayName" : "Maximum Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Buffer Size",
                    "sensitive" : false
                  },
                  "Replacement Strategy" : {
                    "displayName" : "Replacement Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.ReplaceText",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
              "name" : "Set HTTP Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2296.0,
                "y" : 616.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2021\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Set HTTP Message\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\"\n *\n * Sets the invokehttp.status.message attribute to a default message for a code if the message is not set.\n */\n\nstatusMessageAttributeName = \"invokehttp.status.message\"\ncodeMap = [\n        '200': \"OK\",\n        '201': \"Created\",\n        '400': \"Bad Request\",\n        '401': \"Not Authorized\",\n        '404': \"Not Found\",\n        '422': \"Unprocessable Entity\"\n]\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n\n    def originalStatusMessage = flowFile.getAttribute( statusMessageAttributeName)\n\n    if ( originalStatusMessage == null || originalStatusMessage == \"\" )\n    {\n        def httpStatusCode = flowFile.getAttribute(\"invokehttp.status.code\")\n\n        def codeMessage = codeMap.get(httpStatusCode)\n        if ( codeMessage != null )\n        {\n            session.putAttribute(flowFile, statusMessageAttributeName, codeMessage )\n        }\n    }\n\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "2701b540-30f3-364d-836a-30bca6daccb7",
              "name" : "Turn Off AutoBundle",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1352.0,
                "y" : -256.0
              },
              "properties" : {
                "autoBuildBundles" : "False",
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "autoBuildBundles" : {
                  "displayName" : "autoBuildBundles",
                  "identifiesControllerService" : false,
                  "name" : "autoBuildBundles",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "d1916780-8f19-3032-958c-2fd5937fb550",
              "name" : "Log Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3480.0,
                "y" : -208.0
              },
              "properties" : {
                "log-message" : "${errorType}: ${errorMessage}",
                "log-level" : "error",
                "log-prefix" : "Interop FHIR Adapter - "
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "ac56f897-3fcd-347a-8e5e-4dbf92e352f2",
              "name" : "autobundle enabled?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1984.0,
                "y" : -40.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "autoBundle" : "${autoBuildBundles:notNull():and(\n\t${autoBuildBundles:toLower():equals(\"yes\"):or(\n        ${autoBuildBundles:toLower():equals(\"true\")}\n\t)}\n)}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "autoBundle" : {
                  "displayName" : "autoBundle",
                  "identifiesControllerService" : false,
                  "name" : "autoBundle",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
              "name" : "Has Warnings?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3168.0,
                "y" : 904.0
              },
              "properties" : {
                "Content Buffer Size" : "1 MB",
                "hasWarnings" : "\"severity\":\\s*\"warning\"",
                "Match Requirement" : "content must contain match",
                "Character Set" : "UTF-8"
              },
              "propertyDescriptors" : {
                "Content Buffer Size" : {
                  "displayName" : "Content Buffer Size",
                  "identifiesControllerService" : false,
                  "name" : "Content Buffer Size",
                  "sensitive" : false
                },
                "hasWarnings" : {
                  "displayName" : "hasWarnings",
                  "identifiesControllerService" : false,
                  "name" : "hasWarnings",
                  "sensitive" : false
                },
                "Match Requirement" : {
                  "displayName" : "Match Requirement",
                  "identifiesControllerService" : false,
                  "name" : "Match Requirement",
                  "sensitive" : false
                },
                "Character Set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "Character Set",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnContent",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
              "name" : "FHIR Store Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3176.0,
                "y" : 8.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "FHIR Storage Failed",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\", \"${invokehttp.status.code}\": \"${invokehttp.status.message}\""
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
              "name" : "Bundle or other resource type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -272.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "bundle" : "${resourceType:equals('Bundle')}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "bundle" : {
                  "displayName" : "bundle",
                  "identifiesControllerService" : false,
                  "name" : "bundle",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
              "name" : "Error getting type or id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2416.0,
                "y" : -592.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Resource id or type not set",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                "invokehttp.status.message" : "Resource id or type not set"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
              "name" : "Set Integrator Id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -904.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "integratorId" : "${kafka.topic:getDelimitedField(3,'.')}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "integratorId" : {
                  "displayName" : "integratorId",
                  "identifiesControllerService" : false,
                  "name" : "integratorId",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "bf7f7587-11cc-36af-818c-34dd51477815",
              "name" : "Route on api success code",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3168.0,
                "y" : 616.0
              },
              "properties" : {
                "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                "Routing Strategy" : "Route to Property name"
              },
              "propertyDescriptors" : {
                "api_success" : {
                  "displayName" : "api_success",
                  "identifiesControllerService" : false,
                  "name" : "api_success",
                  "sensitive" : false
                },
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
              "name" : "Invalid Json Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2416.0,
                "y" : -792.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Invalid JSON",
                "errorMessage" : "File: \"${filename}\"",
                "invokehttp.status.message" : "Invalid JSON"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 2,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
              "name" : "Null check for Resource Type or Id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -480.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "isNull" : "${resourceType:isEmpty():or(${resourceId:isEmpty()})}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "isNull" : {
                  "displayName" : "isNull",
                  "identifiesControllerService" : false,
                  "name" : "isNull",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "unmatched" ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 3,
              "executionNode" : "ALL",
              "groupIdentifier" : "1ac96b20-cb2a-330b-9fa5-d48182b6fc95",
              "identifier" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
              "name" : "Retrieve Resource Id and Type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -696.0
              },
              "properties" : {
                "Destination" : "flowfile-attribute",
                "resourceId" : "$.id",
                "Return Type" : "auto-detect",
                "Null Value Representation" : "empty string",
                "Path Not Found Behavior" : "warn",
                "resourceType" : "$.resourceType"
              },
              "propertyDescriptors" : {
                "Destination" : {
                  "displayName" : "Destination",
                  "identifiesControllerService" : false,
                  "name" : "Destination",
                  "sensitive" : false
                },
                "resourceId" : {
                  "displayName" : "resourceId",
                  "identifiesControllerService" : false,
                  "name" : "resourceId",
                  "sensitive" : false
                },
                "Return Type" : {
                  "displayName" : "Return Type",
                  "identifiesControllerService" : false,
                  "name" : "Return Type",
                  "sensitive" : false
                },
                "Null Value Representation" : {
                  "displayName" : "Null Value Representation",
                  "identifiesControllerService" : false,
                  "name" : "Null Value Representation",
                  "sensitive" : false
                },
                "Path Not Found Behavior" : {
                  "displayName" : "Path Not Found Behavior",
                  "identifiesControllerService" : false,
                  "name" : "Path Not Found Behavior",
                  "sensitive" : false
                },
                "resourceType" : {
                  "displayName" : "resourceType",
                  "identifiesControllerService" : false,
                  "name" : "resourceType",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "05d99778-1a39-3516-884f-bae4247643b1",
            "name" : "Is Successful",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1256.0,
              "y" : 2496.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "failure" : "${resourceSavedStatus:equals(\"failure\")}",
              "success" : "${resourceSavedStatus:equals(\"success\")}",
              "aborted" : "${resourceSavedStatus:equals(\"aborted\")}",
              "warning" : "${resourceSavedStatus:equals(\"warning\")}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "failure" : {
                "displayName" : "failure",
                "identifiesControllerService" : false,
                "name" : "failure",
                "sensitive" : false
              },
              "success" : {
                "displayName" : "success",
                "identifiesControllerService" : false,
                "name" : "success",
                "sensitive" : false
              },
              "aborted" : {
                "displayName" : "aborted",
                "identifiesControllerService" : false,
                "name" : "aborted",
                "sensitive" : false
              },
              "warning" : {
                "displayName" : "warning",
                "identifiesControllerService" : false,
                "name" : "warning",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "a152f702-9ee3-3de9-822d-990e4a59e6ee",
            "name" : "Set To Aborted",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 688.0,
              "y" : 1520.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "aborted"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "e46bf1b6-161a-300f-a500-b8caa63e0c88",
            "name" : "Set To Warning",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1560.0,
              "y" : 1520.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "warning"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "3aae5c00-8a11-33a4-9a60-78f2e5f797b7",
            "name" : "Set To Success",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1136.0,
              "y" : 1520.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "success"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "ef03eb12-0baf-3d11-969b-862f8f933276",
            "name" : "Set To Failure",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2016.0,
              "y" : 1520.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "failure"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 2,
            "executionNode" : "ALL",
            "groupIdentifier" : "ff50ded2-346a-3d14-92c9-b8e05ede5c51",
            "identifier" : "1a436a0f-0515-3701-944b-18a90ba44180",
            "name" : "Check For Abort",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1264.0,
              "y" : 968.0
            },
            "properties" : {
              "Cache Entry Identifier" : "abort-${batchId}",
              "Put Cache Value In Attribute" : "abortedReason",
              "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
              "Max Length To Put In Attribute" : "256",
              "Character Set" : "UTF-8"
            },
            "propertyDescriptors" : {
              "Cache Entry Identifier" : {
                "displayName" : "Cache Entry Identifier",
                "identifiesControllerService" : false,
                "name" : "Cache Entry Identifier",
                "sensitive" : false
              },
              "Put Cache Value In Attribute" : {
                "displayName" : "Put Cache Value In Attribute",
                "identifiesControllerService" : false,
                "name" : "Put Cache Value In Attribute",
                "sensitive" : false
              },
              "Distributed Cache Service" : {
                "displayName" : "Distributed Cache Service",
                "identifiesControllerService" : true,
                "name" : "Distributed Cache Service",
                "sensitive" : false
              },
              "Max Length To Put In Attribute" : {
                "displayName" : "Max Length To Put In Attribute",
                "identifiesControllerService" : false,
                "name" : "Max Length To Put In Attribute",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3736.0,
              "y" : 3192.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "20ee2d61-3aaa-379e-9018-87dfa0cde0e5",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "83279e98-ed71-3d96-a386-b1e55cc2b788",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "8e29beb3-a70b-3338-a695-f1f313e7c6d1",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3616.0,
              "y" : 3696.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "9f3496c4-bb41-3b2a-ab3c-79503a7c3eaa",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3752.0,
              "y" : 3096.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "2199c341-775b-31aa-bd08-c607b3d94e28",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c653b104-41af-36c2-a583-56bdacb80c47",
              "name" : "Valid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "74447c8c-5f03-3001-9599-8e9e31fbb88b",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
              "name" : "Remove validationResponse attribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "02d1dd3e-dce7-3b1e-a872-d8f98e525478",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Timeout" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "60b0f927-8e96-3e93-b4c2-bdfebce0a8f9",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Response", "Original" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
              "name" : "Remove validationResponse attribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "b5aa1561-9fc8-38ee-8d49-f6421b669ca6",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Valid FHIR Data" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 4128.0,
              "y" : 3608.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "f50c1ee0-def7-3726-a303-98c05bff6ad6",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "retries_exceeded", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "1a4a4888-45c6-3771-872f-20107455b5bd",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3696.0,
              "y" : 3608.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "2c413d85-fa00-3c31-a280-356a2c1ad7c2",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "No Retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
            "name" : "FHIR Resource",
            "position" : {
              "x" : 3288.0,
              "y" : 3032.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Validate FHIR Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "c653b104-41af-36c2-a583-56bdacb80c47",
            "name" : "Valid FHIR Data",
            "position" : {
              "x" : 3144.0,
              "y" : 3776.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
            "name" : "Invalid FHIR Data",
            "position" : {
              "x" : 3800.0,
              "y" : 3888.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "cms_adapter_parameters",
          "position" : {
            "x" : 2384.0,
            "y" : 2792.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
            "name" : "RetryFlowFile",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3952.0,
              "y" : 3080.0
            },
            "properties" : {
              "penalize-retries" : "true",
              "maximum-retries" : "3",
              "Fail on Non-numerical Overwrite" : "false",
              "reuse-mode" : "fail",
              "retry-attribute" : "flowfile.retries"
            },
            "propertyDescriptors" : {
              "penalize-retries" : {
                "displayName" : "Penalize Retries",
                "identifiesControllerService" : false,
                "name" : "penalize-retries",
                "sensitive" : false
              },
              "maximum-retries" : {
                "displayName" : "Maximum Retries",
                "identifiesControllerService" : false,
                "name" : "maximum-retries",
                "sensitive" : false
              },
              "Fail on Non-numerical Overwrite" : {
                "displayName" : "Fail on Non-numerical Overwrite",
                "identifiesControllerService" : false,
                "name" : "Fail on Non-numerical Overwrite",
                "sensitive" : false
              },
              "reuse-mode" : {
                "displayName" : "Reuse Mode",
                "identifiesControllerService" : false,
                "name" : "reuse-mode",
                "sensitive" : false
              },
              "retry-attribute" : {
                "displayName" : "Retry Attribute",
                "identifiesControllerService" : false,
                "name" : "retry-attribute",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 5,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
            "name" : "Validate FHIR resource using REST API",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3232.0,
              "y" : 3152.0
            },
            "properties" : {
              "use-etag" : "false",
              "Proxy Type" : "http",
              "Basic Authentication Password" : "#{FHIR_UserPwd_PatientAccess}",
              "Connection Timeout" : "15 mins",
              "send-message-body" : "true",
              "set-form-filename" : "true",
              "Always Output Response" : "false",
              "etag-max-cache-size" : "10MB",
              "idle-timeout" : "5 mins",
              "Put Response Body In Attribute" : "validationResponse",
              "Use Chunked Encoding" : "false",
              "Follow Redirects" : "True",
              "Remote URL" : "#{FHIR_URL_PatientAccess}/Bundle/$validate",
              "Content-Type" : "application/json",
              "max-idle-connections" : "5",
              "Read Timeout" : "15 mins",
              "Max Length To Put In Attribute" : "256",
              "ignore-response-content" : "false",
              "Digest Authentication" : "false",
              "HTTP Method" : "POST",
              "Add Response Headers to Request" : "false",
              "Basic Authentication Username" : "#{FHIR_User_PatientAccess}",
              "Include Date Header" : "True",
              "Penalize on \"No Retry\"" : "false"
            },
            "propertyDescriptors" : {
              "Proxy Host" : {
                "displayName" : "Proxy Host",
                "identifiesControllerService" : false,
                "name" : "Proxy Host",
                "sensitive" : false
              },
              "Attributes to Send" : {
                "displayName" : "Attributes to Send",
                "identifiesControllerService" : false,
                "name" : "Attributes to Send",
                "sensitive" : false
              },
              "use-etag" : {
                "displayName" : "Use HTTP ETag",
                "identifiesControllerService" : false,
                "name" : "use-etag",
                "sensitive" : false
              },
              "proxy-configuration-service" : {
                "displayName" : "Proxy Configuration Service",
                "identifiesControllerService" : true,
                "name" : "proxy-configuration-service",
                "sensitive" : false
              },
              "Proxy Type" : {
                "displayName" : "Proxy Type",
                "identifiesControllerService" : false,
                "name" : "Proxy Type",
                "sensitive" : false
              },
              "Basic Authentication Password" : {
                "displayName" : "Basic Authentication Password",
                "identifiesControllerService" : false,
                "name" : "Basic Authentication Password",
                "sensitive" : true
              },
              "Connection Timeout" : {
                "displayName" : "Connection Timeout",
                "identifiesControllerService" : false,
                "name" : "Connection Timeout",
                "sensitive" : false
              },
              "send-message-body" : {
                "displayName" : "Send Message Body",
                "identifiesControllerService" : false,
                "name" : "send-message-body",
                "sensitive" : false
              },
              "set-form-filename" : {
                "displayName" : "Set Flowfile Form Data File Name",
                "identifiesControllerService" : false,
                "name" : "set-form-filename",
                "sensitive" : false
              },
              "Always Output Response" : {
                "displayName" : "Always Output Response",
                "identifiesControllerService" : false,
                "name" : "Always Output Response",
                "sensitive" : false
              },
              "etag-max-cache-size" : {
                "displayName" : "Maximum ETag Cache Size",
                "identifiesControllerService" : false,
                "name" : "etag-max-cache-size",
                "sensitive" : false
              },
              "idle-timeout" : {
                "displayName" : "Idle Timeout",
                "identifiesControllerService" : false,
                "name" : "idle-timeout",
                "sensitive" : false
              },
              "Put Response Body In Attribute" : {
                "displayName" : "Put Response Body In Attribute",
                "identifiesControllerService" : false,
                "name" : "Put Response Body In Attribute",
                "sensitive" : false
              },
              "Use Chunked Encoding" : {
                "displayName" : "Use Chunked Encoding",
                "identifiesControllerService" : false,
                "name" : "Use Chunked Encoding",
                "sensitive" : false
              },
              "Follow Redirects" : {
                "displayName" : "Follow Redirects",
                "identifiesControllerService" : false,
                "name" : "Follow Redirects",
                "sensitive" : false
              },
              "Remote URL" : {
                "displayName" : "Remote URL",
                "identifiesControllerService" : false,
                "name" : "Remote URL",
                "sensitive" : false
              },
              "Content-Type" : {
                "displayName" : "Content-Type",
                "identifiesControllerService" : false,
                "name" : "Content-Type",
                "sensitive" : false
              },
              "form-body-form-name" : {
                "displayName" : "Flowfile Form Data Name",
                "identifiesControllerService" : false,
                "name" : "form-body-form-name",
                "sensitive" : false
              },
              "max-idle-connections" : {
                "displayName" : "Max Idle Connections",
                "identifiesControllerService" : false,
                "name" : "max-idle-connections",
                "sensitive" : false
              },
              "invokehttp-proxy-user" : {
                "displayName" : "Proxy Username",
                "identifiesControllerService" : false,
                "name" : "invokehttp-proxy-user",
                "sensitive" : false
              },
              "Read Timeout" : {
                "displayName" : "Read Timeout",
                "identifiesControllerService" : false,
                "name" : "Read Timeout",
                "sensitive" : false
              },
              "Max Length To Put In Attribute" : {
                "displayName" : "Max Length To Put In Attribute",
                "identifiesControllerService" : false,
                "name" : "Max Length To Put In Attribute",
                "sensitive" : false
              },
              "invokehttp-proxy-password" : {
                "displayName" : "Proxy Password",
                "identifiesControllerService" : false,
                "name" : "invokehttp-proxy-password",
                "sensitive" : true
              },
              "ignore-response-content" : {
                "displayName" : "Ignore response's content",
                "identifiesControllerService" : false,
                "name" : "ignore-response-content",
                "sensitive" : false
              },
              "Proxy Port" : {
                "displayName" : "Proxy Port",
                "identifiesControllerService" : false,
                "name" : "Proxy Port",
                "sensitive" : false
              },
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "Digest Authentication" : {
                "displayName" : "Use Digest Authentication",
                "identifiesControllerService" : false,
                "name" : "Digest Authentication",
                "sensitive" : false
              },
              "HTTP Method" : {
                "displayName" : "HTTP Method",
                "identifiesControllerService" : false,
                "name" : "HTTP Method",
                "sensitive" : false
              },
              "Add Response Headers to Request" : {
                "displayName" : "Add Response Headers to Request",
                "identifiesControllerService" : false,
                "name" : "Add Response Headers to Request",
                "sensitive" : false
              },
              "Basic Authentication Username" : {
                "displayName" : "Basic Authentication Username",
                "identifiesControllerService" : false,
                "name" : "Basic Authentication Username",
                "sensitive" : false
              },
              "Include Date Header" : {
                "displayName" : "Include Date Header",
                "identifiesControllerService" : false,
                "name" : "Include Date Header",
                "sensitive" : false
              },
              "Penalize on \"No Retry\"" : {
                "displayName" : "Penalize on \"No Retry\"",
                "identifiesControllerService" : false,
                "name" : "Penalize on \"No Retry\"",
                "sensitive" : false
              },
              "Useragent" : {
                "displayName" : "Useragent",
                "identifiesControllerService" : false,
                "name" : "Useragent",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
            "name" : "Remove validationResponse attribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3088.0,
              "y" : 3568.0
            },
            "properties" : {
              "Delete Attributes Expression" : "validationResponse",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
            "name" : "Route On Timeout",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3696.0,
              "y" : 3344.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "Timeout" : "${invokehttp.status.exception.message:toLower():contains('timeout'):or(${invokehttp.java.exception.message:toLower():contains('timeout')})}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "Timeout" : {
                "displayName" : "Timeout",
                "identifiesControllerService" : false,
                "name" : "Timeout",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
            "name" : "Route On Validity",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3088.0,
              "y" : 3368.0
            },
            "properties" : {
              "Valid FHIR Data" : "${invokehttp.status.code:equals('200')}",
              "Routing Strategy" : "Route to Property name"
            },
            "propertyDescriptors" : {
              "Valid FHIR Data" : {
                "displayName" : "Valid FHIR Data",
                "identifiesControllerService" : false,
                "name" : "Valid FHIR Data",
                "sensitive" : false
              },
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "22182f75-4fb7-34be-afeb-62c56ec96f8f",
              "name" : "DeID FHIR Response",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "749a788d-56c3-3c56-bbfe-6ab2964bceb2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "id" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
              "name" : "FHIR Response",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "id" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "808a9197-6e88-3f0f-9355-cac82e6fdebc",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "DeidentifyData" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "59f220e8-5232-3976-b5df-2816ea6da8a2",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "156e4dbc-7ac2-3fc5-affe-f781be850af9",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "id" : "36a7aa41-7b61-36f3-b1b2-5708f8e82f3e",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
              "name" : "Enriched FHIR resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "afed848e-3a1d-324a-8f3b-db9a38a98218",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "id" : "1f5f5055-9e5c-3256-8918-b354c885135a",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "59f220e8-5232-3976-b5df-2816ea6da8a2",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "ab112e4c-b75c-3487-b9fd-601b0907b5be",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "id" : "b6ece790-754c-3ce3-9792-8c8c7b038ab2",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "519fb1ad-adc7-310d-921d-ea273ef35367",
              "name" : "DeID FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "86c939a4-5c3e-39a8-8afc-0e60ee30fe62",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "id" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
              "name" : "De-Identified FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
              "name" : "Enriched FHIR resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "d4205ad2-9e50-3d19-938b-c9c716626d75",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "id" : "d257175c-4548-311a-9003-56f9305285a9",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "b49281af-d615-3672-88d5-d3aace8acb7b",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "ResolveTerminology" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "2ed273bc-736c-3eff-abe9-70604cdea319",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "DeidentifyData", "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "66efc5d7-fdcc-3543-9ceb-8285b11a3f6e",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
              "name" : "FHIR resource",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
            "name" : "FHIR resource",
            "position" : {
              "x" : 352.0,
              "y" : 616.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ {
            "componentType" : "LABEL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "height" : 208.0,
            "identifier" : "a6282a9f-de32-344e-b71f-c69e42c244f7",
            "label" : "Run through Terminology Service",
            "position" : {
              "x" : 272.0,
              "y" : 1040.0
            },
            "style" : {
              "background-color" : "#eb8931",
              "font-size" : "18px"
            },
            "width" : 1040.0
          }, {
            "componentType" : "LABEL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "height" : 208.0,
            "identifier" : "991f820b-5f2f-33c5-ae31-b9cb62b95e5d",
            "label" : "De-identify data",
            "position" : {
              "x" : 272.0,
              "y" : 752.0
            },
            "style" : {
              "background-color" : "#be2633",
              "font-size" : "18px"
            },
            "width" : 1040.0
          } ],
          "name" : "Enrich FHIR Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "519fb1ad-adc7-310d-921d-ea273ef35367",
            "name" : "DeID FHIR Resource",
            "position" : {
              "x" : 1520.0,
              "y" : 744.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "22182f75-4fb7-34be-afeb-62c56ec96f8f",
            "name" : "DeID FHIR Response",
            "position" : {
              "x" : 1528.0,
              "y" : 856.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "c9cb8abf-b552-3031-9e88-8956e555541e",
            "name" : "Enriched FHIR resource",
            "position" : {
              "x" : 656.0,
              "y" : 1376.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "59f220e8-5232-3976-b5df-2816ea6da8a2",
            "name" : "Failure",
            "position" : {
              "x" : 1536.0,
              "y" : 1112.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "position" : {
            "x" : 2384.0,
            "y" : 3072.0
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "1f5f5055-9e5c-3256-8918-b354c885135a",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "7961bef9-b9c6-3fde-b57e-a41c3391fc05",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "baab324d-68e1-3c0c-b40e-f98f8fb4b22b",
                "name" : "FHIRTranslation",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "b6ece790-754c-3ce3-9792-8c8c7b038ab2",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "5a4d41ab-8f55-35c4-abd8-95b4c9e9a439",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "baab324d-68e1-3c0c-b40e-f98f8fb4b22b",
                "name" : "FHIRTranslation",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "baab324d-68e1-3c0c-b40e-f98f8fb4b22b",
                "name" : "FHIRTranslation",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "a763f96b-03ef-3a22-b432-49c281b9a46c",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
                "id" : "d257175c-4548-311a-9003-56f9305285a9",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "d257175c-4548-311a-9003-56f9305285a9",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 368.0,
                "y" : 152.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Resolve Terminology",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "1f5f5055-9e5c-3256-8918-b354c885135a",
              "name" : "Output",
              "position" : {
                "x" : 1344.0,
                "y" : 80.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "b6ece790-754c-3ce3-9792-8c8c7b038ab2",
              "name" : "Failure",
              "position" : {
                "x" : 1352.0,
                "y" : 240.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "cms_adapter_parameters",
            "position" : {
              "x" : 904.0,
              "y" : 1056.0
            },
            "processGroups" : [ ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-health-patterns-nar",
                "group" : "com.ibm.healthpatterns",
                "version" : "0.0.2-SNAPSHOT"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "244b5a82-d615-3e00-aaa0-1dccc7326857",
              "identifier" : "baab324d-68e1-3c0c-b40e-f98f8fb4b22b",
              "name" : "FHIRTranslation",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 744.0,
                "y" : 112.0
              },
              "properties" : {
                "FHIR Server Username" : "#{FHIR_User_PatientAccess}",
                "FHIR Server URL" : "#{FHIR_URL_PatientAccess}",
                "FHIR Server Password" : "#{FHIR_UserPwd_PatientAccess}"
              },
              "propertyDescriptors" : {
                "FHIR Server Username" : {
                  "displayName" : "FHIR Server Username",
                  "identifiesControllerService" : false,
                  "name" : "FHIR Server Username",
                  "sensitive" : false
                },
                "FHIR Server URL" : {
                  "displayName" : "FHIR Server URL",
                  "identifiesControllerService" : false,
                  "name" : "FHIR Server URL",
                  "sensitive" : false
                },
                "FHIR Server Password" : {
                  "displayName" : "FHIR Server Password",
                  "identifiesControllerService" : false,
                  "name" : "FHIR Server Password",
                  "sensitive" : true
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "com.ibm.healthpatterns.processors.terminology.FHIRTranslation",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
                "name" : "De-Identified FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "ebd7596a-6e32-3f81-8511-732aa02c694c",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "deidentified" ],
              "source" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "89529bea-7d1f-3834-9743-be565aa47417",
                "name" : "DeIdentify",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
                "name" : "FHIR Response",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "29cd5f93-4faa-373b-a14a-5352bb0155d0",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "89529bea-7d1f-3834-9743-be565aa47417",
                "name" : "DeIdentify",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "36a7aa41-7b61-36f3-b1b2-5708f8e82f3e",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "920c5855-3313-3232-8b29-9da3f88f3173",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "89529bea-7d1f-3834-9743-be565aa47417",
                "name" : "DeIdentify",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "89529bea-7d1f-3834-9743-be565aa47417",
                "name" : "DeIdentify",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "e0140fea-2232-3e72-a241-1fc95d3cdf5b",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
                "id" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
              "name" : "FHIR Resource",
              "position" : {
                "x" : -304.0,
                "y" : -80.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "De-identify Patient Data",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
              "name" : "De-Identified FHIR Resource",
              "position" : {
                "x" : 808.0,
                "y" : 48.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "36a7aa41-7b61-36f3-b1b2-5708f8e82f3e",
              "name" : "Failure",
              "position" : {
                "x" : 240.0,
                "y" : 176.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
              "name" : "FHIR Response",
              "position" : {
                "x" : 800.0,
                "y" : -152.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
            "position" : {
              "x" : 896.0,
              "y" : 768.0
            },
            "processGroups" : [ ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ "original" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-health-patterns-nar",
                "group" : "com.ibm.healthpatterns",
                "version" : "0.0.2-SNAPSHOT"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "7d295d3e-de2e-3390-8d18-245eb0ade35e",
              "identifier" : "89529bea-7d1f-3834-9743-be565aa47417",
              "name" : "DeIdentify",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 184.0,
                "y" : -104.0
              },
              "properties" : {
                "De-identification Service URL" : "#{DEID_SERVICE_API_URL}",
                "De-identified FHIR Server Username" : "#{DEID_FHIR_USER}",
                "De-identified FHIR Server Password" : "#{DEID_FHIR_PASSWORD}",
                "De-identified FHIR Server URL" : "#{DEID_FHIR_SERVER}"
              },
              "propertyDescriptors" : {
                "De-identification Service URL" : {
                  "displayName" : "De-identification Service URL",
                  "identifiesControllerService" : false,
                  "name" : "De-identification Service URL",
                  "sensitive" : false
                },
                "De-identified FHIR Server Username" : {
                  "displayName" : "De-identified FHIR Server Username",
                  "identifiesControllerService" : false,
                  "name" : "De-identified FHIR Server Username",
                  "sensitive" : false
                },
                "De-identified FHIR Server Password" : {
                  "displayName" : "De-identified FHIR Server Password",
                  "identifiesControllerService" : false,
                  "name" : "De-identified FHIR Server Password",
                  "sensitive" : true
                },
                "De-identified FHIR Server URL" : {
                  "displayName" : "De-identified FHIR Server URL",
                  "identifiesControllerService" : false,
                  "name" : "De-identified FHIR Server URL",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "com.ibm.healthpatterns.processors.deid.DeIdentify",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
            "name" : "RouteOnAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 296.0,
              "y" : 1088.0
            },
            "properties" : {
              "ResolveTerminology" : "${ResolveTerminology:notNull():and(${ResolveTerminology:isEmpty():not()}):and(${ResolveTerminology:equals(\"true\")})}",
              "Routing Strategy" : "Route to Property name"
            },
            "propertyDescriptors" : {
              "ResolveTerminology" : {
                "displayName" : "ResolveTerminology",
                "identifiesControllerService" : false,
                "name" : "ResolveTerminology",
                "sensitive" : false
              },
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
            "name" : "RouteOnAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 296.0,
              "y" : 792.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "DeidentifyData" : "${DeidentifyData:notNull():and(${DeidentifyData:isEmpty():not()}):and(${DeidentifyData:equals(\"true\")})}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "DeidentifyData" : {
                "displayName" : "DeidentifyData",
                "identifiesControllerService" : false,
                "name" : "DeidentifyData",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        } ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-health-patterns-nar",
            "group" : "com.ibm.healthpatterns",
            "version" : "0.0.2-SNAPSHOT"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
          "name" : "HL7ToFhirProcessor",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2400.0,
            "y" : 2248.0
          },
          "properties" : { },
          "propertyDescriptors" : { },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "com.ibm.healthpatterns.processors.hl7tofhir.HL7ToFhirProcessor",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "success" ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "2be8a00b-07f1-3025-8c0a-42d245f6ac3e",
          "name" : "LogMessage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1744.0,
            "y" : 3104.0
          },
          "properties" : {
            "log-message" : "De-Identified FHIR Bundle returned.",
            "log-level" : "trace"
          },
          "propertyDescriptors" : {
            "log-message" : {
              "displayName" : "Log message",
              "identifiesControllerService" : false,
              "name" : "log-message",
              "sensitive" : false
            },
            "log-level" : {
              "displayName" : "Log Level",
              "identifiesControllerService" : false,
              "name" : "log-level",
              "sensitive" : false
            },
            "log-prefix" : {
              "displayName" : "Log prefix",
              "identifiesControllerService" : false,
              "name" : "log-prefix",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.LogMessage",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-kafka-2-6-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "56dd183e-d24d-317a-9075-37d69bb21be4",
          "name" : "Consume From Kafka Topic",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2152.0,
            "y" : 2000.0
          },
          "properties" : {
            "header-name-regex" : "batchId*",
            "sasl.username" : "#{kafka.auth.user}",
            "max.poll.records" : "10000",
            "group.id" : "#{kafka.consumer.group}",
            "bootstrap.servers" : "#{kafka.brokers}",
            "topic_type" : "pattern",
            "security.protocol" : "PLAINTEXT",
            "max-uncommit-offset-wait" : "1 secs",
            "sasl.mechanism" : "PLAIN",
            "sasl.token.auth" : "false",
            "honor-transactions" : "true",
            "Communications Timeout" : "60 secs",
            "topic" : "#{kafka.topic.in}",
            "message-header-encoding" : "UTF-8",
            "sasl.password" : "#{kafka.auth.password}",
            "key-attribute-encoding" : "utf-8",
            "auto.offset.reset" : "earliest"
          },
          "propertyDescriptors" : {
            "header-name-regex" : {
              "displayName" : "Headers to Add as Attributes (Regex)",
              "identifiesControllerService" : false,
              "name" : "header-name-regex",
              "sensitive" : false
            },
            "sasl.username" : {
              "displayName" : "Username",
              "identifiesControllerService" : false,
              "name" : "sasl.username",
              "sensitive" : false
            },
            "max.poll.records" : {
              "displayName" : "Max Poll Records",
              "identifiesControllerService" : false,
              "name" : "max.poll.records",
              "sensitive" : false
            },
            "group.id" : {
              "displayName" : "Group ID",
              "identifiesControllerService" : false,
              "name" : "group.id",
              "sensitive" : false
            },
            "bootstrap.servers" : {
              "displayName" : "Kafka Brokers",
              "identifiesControllerService" : false,
              "name" : "bootstrap.servers",
              "sensitive" : false
            },
            "topic_type" : {
              "displayName" : "Topic Name Format",
              "identifiesControllerService" : false,
              "name" : "topic_type",
              "sensitive" : false
            },
            "sasl.kerberos.principal" : {
              "displayName" : "Kerberos Principal",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.principal",
              "sensitive" : false
            },
            "sasl.kerberos.service.name" : {
              "displayName" : "Kerberos Service Name",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.service.name",
              "sensitive" : false
            },
            "security.protocol" : {
              "displayName" : "Security Protocol",
              "identifiesControllerService" : false,
              "name" : "security.protocol",
              "sensitive" : false
            },
            "kerberos-credentials-service" : {
              "displayName" : "Kerberos Credentials Service",
              "identifiesControllerService" : true,
              "name" : "kerberos-credentials-service",
              "sensitive" : false
            },
            "ssl.context.service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "ssl.context.service",
              "sensitive" : false
            },
            "max-uncommit-offset-wait" : {
              "displayName" : "Max Uncommitted Time",
              "identifiesControllerService" : false,
              "name" : "max-uncommit-offset-wait",
              "sensitive" : false
            },
            "sasl.mechanism" : {
              "displayName" : "SASL Mechanism",
              "identifiesControllerService" : false,
              "name" : "sasl.mechanism",
              "sensitive" : false
            },
            "sasl.token.auth" : {
              "displayName" : "Token Auth",
              "identifiesControllerService" : false,
              "name" : "sasl.token.auth",
              "sensitive" : false
            },
            "sasl.kerberos.keytab" : {
              "displayName" : "Kerberos Keytab",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.keytab",
              "sensitive" : false
            },
            "honor-transactions" : {
              "displayName" : "Honor Transactions",
              "identifiesControllerService" : false,
              "name" : "honor-transactions",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            },
            "topic" : {
              "displayName" : "Topic Name(s)",
              "identifiesControllerService" : false,
              "name" : "topic",
              "sensitive" : false
            },
            "message-header-encoding" : {
              "displayName" : "Message Header Encoding",
              "identifiesControllerService" : false,
              "name" : "message-header-encoding",
              "sensitive" : false
            },
            "sasl.password" : {
              "displayName" : "Password",
              "identifiesControllerService" : false,
              "name" : "sasl.password",
              "sensitive" : true
            },
            "message-demarcator" : {
              "displayName" : "Message Demarcator",
              "identifiesControllerService" : false,
              "name" : "message-demarcator",
              "sensitive" : false
            },
            "key-attribute-encoding" : {
              "displayName" : "Key Attribute Encoding",
              "identifiesControllerService" : false,
              "name" : "key-attribute-encoding",
              "sensitive" : false
            },
            "auto.offset.reset" : {
              "displayName" : "Offset Reset",
              "identifiesControllerService" : false,
              "name" : "auto.offset.reset",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "7a177e4a-ad06-3994-9a36-b267b9e23f38",
          "identifier" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
          "name" : "ListenHTTP",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2656.0,
            "y" : 2000.0
          },
          "properties" : {
            "Base Path" : "fhirResource",
            "multipart-read-buffer-size" : "512 KB",
            "multipart-request-max-size" : "1 MB",
            "Max Unconfirmed Flowfile Time" : "60 secs",
            "Return Code" : "200",
            "Listening Port" : "#{clinical.ingestion.listen.port}",
            "HTTP Headers to receive as Attributes (Regex)" : "EnrichWithACD|DeidentifyData|ResolveTerminology|RunPatientMatching|RequestId",
            "Authorized DN Pattern" : ".*"
          },
          "propertyDescriptors" : {
            "Base Path" : {
              "displayName" : "Base Path",
              "identifiesControllerService" : false,
              "name" : "Base Path",
              "sensitive" : false
            },
            "multipart-read-buffer-size" : {
              "displayName" : "Multipart Read Buffer Size",
              "identifiesControllerService" : false,
              "name" : "multipart-read-buffer-size",
              "sensitive" : false
            },
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "multipart-request-max-size" : {
              "displayName" : "Multipart Request Max Size",
              "identifiesControllerService" : false,
              "name" : "multipart-request-max-size",
              "sensitive" : false
            },
            "Max Unconfirmed Flowfile Time" : {
              "displayName" : "Max Unconfirmed Flowfile Time",
              "identifiesControllerService" : false,
              "name" : "Max Unconfirmed Flowfile Time",
              "sensitive" : false
            },
            "Max Data to Receive per Second" : {
              "displayName" : "Max Data to Receive per Second",
              "identifiesControllerService" : false,
              "name" : "Max Data to Receive per Second",
              "sensitive" : false
            },
            "Return Code" : {
              "displayName" : "Return Code",
              "identifiesControllerService" : false,
              "name" : "Return Code",
              "sensitive" : false
            },
            "Listening Port" : {
              "displayName" : "Listening Port",
              "identifiesControllerService" : false,
              "name" : "Listening Port",
              "sensitive" : false
            },
            "HTTP Headers to receive as Attributes (Regex)" : {
              "displayName" : "HTTP Headers to receive as Attributes (Regex)",
              "identifiesControllerService" : false,
              "name" : "HTTP Headers to receive as Attributes (Regex)",
              "sensitive" : false
            },
            "Authorized DN Pattern" : {
              "displayName" : "Authorized DN Pattern",
              "identifiesControllerService" : false,
              "name" : "Authorized DN Pattern",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.ListenHTTP",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "variables" : { }
      },
      "flowEncodingVersion" : "1.0",
      "parameterContexts" : {
        "Clinical Ingestion De-Identification Parameter Context" : {
          "name" : "Clinical Ingestion De-Identification Parameter Context",
          "parameters" : [ {
            "description" : "",
            "name" : "DEID_SERVICE_API_URL",
            "sensitive" : false,
            "value" : "http://ingestion-deid:8080/api/v1"
          }, {
            "description" : "",
            "name" : "DEID_FHIR_SERVER",
            "sensitive" : false,
            "value" : "http://ingestion-fhir-deid/fhir-server/api/v4"
          }, {
            "description" : "",
            "name" : "DEID_FHIR_PASSWORD",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "DEID_FHIR_USER",
            "sensitive" : false,
            "value" : "fhiruser"
          } ]
        },
        "cms_adapter_parameters" : {
          "name" : "cms_adapter_parameters",
          "parameters" : [ {
            "description" : "FHIR api for patient access",
            "name" : "FHIR_URL_PatientAccess",
            "sensitive" : false,
            "value" : "http://ingestion-fhir/fhir-server/api/v4"
          }, {
            "description" : "FHIR server user for Patient Access FHIR URL",
            "name" : "FHIR_User_PatientAccess",
            "sensitive" : false,
            "value" : "fhiruser"
          }, {
            "description" : "Filter for notification topic in environment specified",
            "name" : "kafka.topic.notification",
            "sensitive" : false,
            "value" : "ingest.clinical.notification"
          }, {
            "description" : "FHIR server user for Provider Directory FHIR URL",
            "name" : "FHIR_User_ProviderDirectory",
            "sensitive" : false,
            "value" : "fhiruser"
          }, {
            "description" : "CMSIOP Eventstream user id",
            "name" : "kafka.auth.user",
            "sensitive" : false,
            "value" : "token"
          }, {
            "description" : "FHIR server user credentials for Patient Access FHIR URL",
            "name" : "FHIR_UserPwd_PatientAccess",
            "sensitive" : true
          }, {
            "description" : "Time to wait for batch resources to return from processing before terminating the batch.",
            "name" : "batchProcessingTimeout",
            "sensitive" : false,
            "value" : "10 minutes"
          }, {
            "description" : "FHIR api for provider",
            "name" : "FHIR_URL_ProviderDirectory",
            "sensitive" : false,
            "value" : "http://ingestion-fhir/fhir-server/api/v4"
          }, {
            "description" : "Filter for input topic for the environment specified",
            "name" : "kafka.topic.in",
            "sensitive" : false,
            "value" : "ingest.clinical.in"
          }, {
            "description" : "Specifies the timeout that will be used when the expected number of records in a batch have yet to appear on the kafka topic.",
            "name" : "expectedRecordsTimeout",
            "sensitive" : false,
            "value" : "5 minutes"
          }, {
            "description" : "",
            "name" : "hri.ibm.client.key",
            "sensitive" : false,
            "value" : "fdceaa7b-11fe-4d11-9fbf-6af267beeea9"
          }, {
            "description" : "Set to 'True' to send non-bundle FHIR resources as bundles to the FHIR server for improved performance.",
            "name" : "autoBuildBundles",
            "sensitive" : false,
            "value" : "True"
          }, {
            "description" : "The maximum number of resources to add to a bundle for when autobundling is enabled.",
            "name" : "maxResourcesInBundle",
            "sensitive" : false,
            "value" : "20"
          }, {
            "description" : "Default setting for the FHIR Prefer header setting to enable warnings to be returned for resources with no errors.\n\nValues are: OperationOutcome or minimal\n\nOperationOutcome - returns warnings for resources without errors.\nminimal - returns errors and warnings for resources with errors.",
            "name" : "defaultFHIRPreferHeaderSetting",
            "sensitive" : false,
            "value" : "OperationOutcome"
          }, {
            "description" : "Consumer group used by the pipeline adapters in environment specified",
            "name" : "kafka.consumer.group",
            "sensitive" : false,
            "value" : "Clinical_Ingestion_Group"
          }, {
            "description" : "Comma-delimited list of brokers for eventstream instance",
            "name" : "kafka.brokers",
            "sensitive" : false,
            "value" : "ingestion-kafka:9092"
          }, {
            "description" : "Parameter to control orchestration of batches within tenants.  Used internally in the pipeline",
            "name" : "applicationIdCritRegion",
            "sensitive" : false,
            "value" : "CMS_Interop_FHIR_Adapter_dev"
          }, {
            "description" : "",
            "name" : "clinical.ingestion.listen.port",
            "sensitive" : false,
            "value" : "7001"
          }, {
            "description" : "Used for the GetHriIngestRecords processor.  Needs to be unique per environment.",
            "name" : "kafka.ingest.group",
            "sensitive" : false,
            "value" : "Clinical_Ingestion_Ingest_Group"
          }, {
            "description" : "CMSIOP Eventstreams credentials",
            "name" : "kafka.auth.password",
            "sensitive" : true
          }, {
            "description" : "FHIR server user credentials for Provider Directory FHIR URL",
            "name" : "FHIR_UserPwd_ProviderDirectory",
            "sensitive" : true
          }, {
            "description" : "Endpoint for the HRI instance",
            "name" : "hri.api.endpoint",
            "sensitive" : false,
            "value" : "https://6deb5bcd.us-south.apigw.appdomain.cloud/hri"
          }, {
            "description" : "Filter used for error topics",
            "name" : "kafka.topic.failure",
            "sensitive" : false,
            "value" : "ingest.clinical.error"
          }, {
            "description" : "",
            "name" : "applicationIdIndexBatch",
            "sensitive" : false,
            "value" : "CMS_Interop_Index_Batch_dev"
          } ]
        }
      }
    }
  }
}