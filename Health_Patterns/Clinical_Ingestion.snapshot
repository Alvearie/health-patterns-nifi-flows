{
  "header" : {
    "dataModelVersion" : "3"
  },
  "content" : {
    "flowSnapshot" : {
      "externalControllerServices" : { },
      "flowContents" : {
        "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "id" : "fb595b85-e4b2-3165-a418-8797a22c5170",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "5c2f7eef-0105-3303-8f72-b16325e7368c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
            "name" : "Enriched FHIR resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "c92e3975-9d2b-3625-a4ed-555edf548b88",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "id" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
            "name" : "FHIRResource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "d487faa6-2f78-37b9-8698-192cdca889f3",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "56dd183e-d24d-317a-9075-37d69bb21be4",
            "name" : "Consume From Kafka Topic",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "b921d722-5941-31a9-8a23-427a5fbf9090",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
            "name" : "Invalid FHIR Data",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
            "name" : "Add Common Attributes",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "c02a4656-eb6e-321e-9d94-6cfe0b5f84bd",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "c653b104-41af-36c2-a583-56bdacb80c47",
            "name" : "Valid FHIR Data",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2328.0,
            "y" : 3832.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "df2bf961-ba94-3117-880f-b681af37a74d",
            "name" : "Aborted",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "c1c3bd36-a320-39bb-b65d-68c0d2e86d82",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "id" : "67e8863f-6136-32c3-adfb-0c0141b65988",
            "name" : "Aborted",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "2be8a00b-07f1-3025-8c0a-42d245f6ac3e",
            "name" : "LogMessage",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "32156442-80eb-3c02-bcd9-ff7f109dd1c7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "519fb1ad-adc7-310d-921d-ea273ef35367",
            "name" : "De-Identified FHIR Resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2824.0,
            "y" : 3832.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "71a28556-726a-31dd-8f70-c6ec4a225938",
            "name" : "Warning",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "a2ca4660-0105-375d-b8a4-5c3653470718",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "id" : "1818b1d8-e3cb-363b-8ec9-8c247e3e13dc",
            "name" : "Warning",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 3238.3466796875,
            "y" : 2669.37939453125
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "813382a6-2b7f-3d74-8bcf-6d5122e46985",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "failure" ],
          "source" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2432.0,
            "y" : 2712.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
            "name" : "FHIR Resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "0f0d881f-94c5-3c65-82ef-6c0c67ab796f",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 3238.3466796875,
            "y" : 3117.37939453125
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "86ebb15b-edc3-37d5-a2a8-8cfeb36ffa3c",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "id" : "a3d57f65-2f9d-3b78-8c25-d567fbd9a2a8",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ {
            "x" : 2760.0,
            "y" : 2712.0
          } ],
          "componentType" : "CONNECTION",
          "destination" : {
            "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "id" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
            "name" : "FHIR Resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "aaea8778-25bc-30d0-a715-9c3ccf29b54e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "HL7 data not detected" ],
          "source" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
            "name" : "HL7ToFhirProcessor",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "31696a75-2651-3b81-86e7-cd47ee9c2669",
            "name" : "Success",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "90ad68f5-514a-3471-aef8-1cd33b459e01",
          "labelIndex" : 0,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "id" : "f81253bb-a96e-3d4d-b6bc-bfd0aecc8afb",
            "name" : "Success",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "id" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
            "name" : "FHIR resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "1b0731e1-d53e-381f-921d-bcac5505871b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
            "id" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
            "name" : "Add Common Attributes",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          } ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
          "name" : "De-Identification DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          } ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "8c9b3851-1efb-3e9d-af58-b65bdd2abc8b",
          "name" : "Terminology Mapping DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        }, {
          "bundle" : {
            "artifact" : "nifi-lookup-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.lookup.LookupService"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.lookup.StringLookupService"
          } ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "0e42653d-d17f-32f4-ba0a-98e1e1a61825",
          "name" : "StructureDefinition <-> ValueSet SimpleKeyValueLookupService",
          "properties" : {
            "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : "http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth",
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : "http://hl7.org/fhir/us/core/ValueSet/birthsex"
          },
          "propertyDescriptors" : {
            "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : {
              "displayName" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
              "identifiesControllerService" : false,
              "name" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
              "sensitive" : false
            },
            "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : {
              "displayName" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
              "identifiesControllerService" : false,
              "name" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.lookup.SimpleKeyValueLookupService"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
          }, {
            "bundle" : {
              "artifact" : "nifi-standard-services-api-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
          } ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
          "name" : "Send To FHIR DistributedMapCacheClientService",
          "properties" : {
            "Server Port" : "4557",
            "Server Hostname" : "localhost",
            "Communications Timeout" : "30 secs"
          },
          "propertyDescriptors" : {
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Server Port" : {
              "displayName" : "Server Port",
              "identifiesControllerService" : false,
              "name" : "Server Port",
              "sensitive" : false
            },
            "Server Hostname" : {
              "displayName" : "Server Hostname",
              "identifiesControllerService" : false,
              "name" : "Server Hostname",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
        }, {
          "bundle" : {
            "artifact" : "nifi-distributed-cache-services-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "CONTROLLER_SERVICE",
          "controllerServiceApis" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "ce834908-67be-35cb-bec3-adf30c523e54",
          "name" : "Clinical Ingestion DistributedMapCacheServer",
          "properties" : {
            "Eviction Strategy" : "Least Frequently Used",
            "Port" : "4557",
            "Maximum Cache Entries" : "10000"
          },
          "propertyDescriptors" : {
            "Eviction Strategy" : {
              "displayName" : "Eviction Strategy",
              "identifiesControllerService" : false,
              "name" : "Eviction Strategy",
              "sensitive" : false
            },
            "SSL Context Service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "SSL Context Service",
              "sensitive" : false
            },
            "Persistence Directory" : {
              "displayName" : "Persistence Directory",
              "identifiesControllerService" : false,
              "name" : "Persistence Directory",
              "sensitive" : false
            },
            "Port" : {
              "displayName" : "Port",
              "identifiesControllerService" : false,
              "name" : "Port",
              "sensitive" : false
            },
            "Maximum Cache Entries" : {
              "displayName" : "Maximum Cache Entries",
              "identifiesControllerService" : false,
              "name" : "Maximum Cache Entries",
              "sensitive" : false
            }
          },
          "type" : "org.apache.nifi.distributed.cache.server.map.DistributedMapCacheServer"
        } ],
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "identifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
        "inputPorts" : [ ],
        "labels" : [ ],
        "name" : "Clinical Ingestion",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "df2bf961-ba94-3117-880f-b681af37a74d",
          "name" : "Aborted",
          "position" : {
            "x" : 2184.0,
            "y" : 3896.0
          },
          "type" : "OUTPUT_PORT"
        }, {
          "allowRemoteAccess" : false,
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "71a28556-726a-31dd-8f70-c6ec4a225938",
          "name" : "Warning",
          "position" : {
            "x" : 2728.0,
            "y" : 3896.0
          },
          "type" : "OUTPUT_PORT"
        }, {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "31696a75-2651-3b81-86e7-cd47ee9c2669",
          "name" : "Success",
          "position" : {
            "x" : 2456.0,
            "y" : 3896.0
          },
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
        "position" : {
          "x" : -72.0,
          "y" : -368.0
        },
        "processGroups" : [ {
          "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "72c73d1f-2faf-3d20-95a4-60d19bd31d6b",
              "name" : "Set To Warning",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "09a8c074-e1f0-3bfc-92d1-1760b7439477",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
              "id" : "1d4071ea-a41c-3375-8929-492c28c27a31",
              "name" : "Warnings",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "1818b1d8-e3cb-363b-8ec9-8c247e3e13dc",
              "name" : "Warning",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "cf961862-cb30-3065-a576-7b211ccb3fac",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "warning" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "9b6ad773-3baa-370b-8412-fde9c1fb9480",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
              "id" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "34381f9a-500b-3c3f-bbe9-fae86b52f769",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "not-found", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "f7b2a72a-4817-36c9-bf03-187b9b2c0679",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "afe13d02-cecb-343f-8da8-46cfb17f661a",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "0803d22f-60fd-3545-b2c2-44e2095f114f",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "e426a9f5-2cdb-37e7-87ed-2a7ad58c168a",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "b35f95b4-cdde-3ff5-bc3a-84359f213aa4",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "9b6ad773-3baa-370b-8412-fde9c1fb9480",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "08293638-e8a7-3b7c-aab9-2b0beee84971",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 1961.6001121933289,
              "y" : 2498.3416045586573
            }, {
              "x" : 1665.6001121933289,
              "y" : 2498.3416045586573
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "67e8863f-6136-32c3-adfb-0c0141b65988",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "6189ddba-539e-3901-9943-3f5b2c77d1de",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
              "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "f81253bb-a96e-3d4d-b6bc-bfd0aecc8afb",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "7086a155-5c4a-36c2-94a2-45a1e756a2a0",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "9b6ad773-3baa-370b-8412-fde9c1fb9480",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "f7b2a72a-4817-36c9-bf03-187b9b2c0679",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "01d26718-55df-3992-97ff-586e0038dd6f",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "fb595b85-e4b2-3165-a418-8797a22c5170",
              "name" : "input",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "a3d57f65-2f9d-3b78-8c25-d567fbd9a2a8",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "0ea95117-35b1-3308-b9fe-72514ea45fb1",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "9b6ad773-3baa-370b-8412-fde9c1fb9480",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "b35f95b4-cdde-3ff5-bc3a-84359f213aa4",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "2e958ab7-b49a-392b-8670-921acc859f24",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
              "id" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
              "name" : "Failed",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "0803d22f-60fd-3545-b2c2-44e2095f114f",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "9993de54-faa0-37d9-b366-3eece09f794c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
              "id" : "730d3827-f21a-39fd-8173-786eb8de46e6",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 2001.6001121933289,
              "y" : 2234.3416045586573
            }, {
              "x" : 1665.6001121933289,
              "y" : 2234.3416045586573
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "67e8863f-6136-32c3-adfb-0c0141b65988",
              "name" : "Aborted",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "e349ba06-0aa2-3966-8ea5-5b9579782aa2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "f7b2a72a-4817-36c9-bf03-187b9b2c0679",
              "name" : "Check For Abort",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "f96080f1-77eb-3179-8634-65836ee847f9",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
              "id" : "72c73d1f-2faf-3d20-95a4-60d19bd31d6b",
              "name" : "Set To Warning",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "fb595b85-e4b2-3165-a418-8797a22c5170",
            "name" : "input",
            "position" : {
              "x" : 2281.6001121933286,
              "y" : 1986.341604558657
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ {
            "componentType" : "LABEL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "height" : 200.0,
            "identifier" : "af2b9998-2921-30ec-a7c4-53fd9ab9a269",
            "label" : "Expects the following attributes to be set on input:\n- tenant\n- FHIRResourceTag\n- failureTopic\n- sourceBatchId\n- batchName\n- dataType\n- messageBatchId\n- startDate\n- kafka.topic\n",
            "position" : {
              "x" : 2225.6001121933286,
              "y" : 1746.341604558657
            },
            "style" : {
              "font-size" : "12px"
            },
            "width" : 336.0
          } ],
          "name" : "Send to FHIR and Post Errors V23",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "67e8863f-6136-32c3-adfb-0c0141b65988",
            "name" : "Aborted",
            "position" : {
              "x" : 1537.6001121933289,
              "y" : 3602.3416045586573
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "a3d57f65-2f9d-3b78-8c25-d567fbd9a2a8",
            "name" : "Failure",
            "position" : {
              "x" : 2665.6001121933286,
              "y" : 3602.3416045586573
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "f81253bb-a96e-3d4d-b6bc-bfd0aecc8afb",
            "name" : "Success",
            "position" : {
              "x" : 1865.6001121933289,
              "y" : 3602.3416045586573
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "1818b1d8-e3cb-363b-8ec9-8c247e3e13dc",
            "name" : "Warning",
            "position" : {
              "x" : 2273.6001121933286,
              "y" : 3602.3416045586573
            },
            "type" : "OUTPUT_PORT"
          } ],
          "position" : {
            "x" : 2384.0,
            "y" : 3584.0
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "83bd1369-ed26-38d8-9a72-5a3fb90c21f5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
                "name" : "Set Attributes",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "60f246a3-157d-3ae8-9dff-e5ae9b6f688d",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "matched" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
                "name" : "Set Attributes",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "e7a47b68-f929-3e5d-b64a-46c95daec4ba",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "5b752e2d-34be-30fe-b06f-314ebdc02728",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "43022a2d-db9b-336f-a1d6-951b0d6baa38",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "isNull" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "c07e31d2-d7da-3a11-99c8-90ac4e1f4a05",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "209f83c2-9c3c-3d14-8753-d6993f913c1a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "api_success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "02bb3d33-6090-383b-aec1-b3b0245aa113",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "995764b9-0dc1-33ca-bfaf-dc903cc09c77",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
                "name" : "Failed",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "823d60ad-4c08-37ee-96f6-f93af5b63620",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "72ef2169-e42a-3b50-a553-7984654134dd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "6efa4cab-084d-3a26-8f11-b5939f518ce5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                "name" : "Input Bundle",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "ae0910b5-d1c2-3761-ab23-9c9d5f388aa2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "bundle" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1536.0,
                "y" : -632.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "ee1553e8-172a-3d49-9502-e543569c847e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                "name" : "Split",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "6c689930-7c6d-3d9c-8989-b1f3d2e3cc34",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "a56287ba-5c1e-361c-80e5-cdb522d8989a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "b8829046-5ad4-39c2-ab3c-95d153014dfd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                "name" : "Aborted",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1720.0,
                "y" : 416.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "8546d8e6-f017-3182-9e39-839ba5d97256",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "bf7f7587-11cc-36af-818c-34dd51477815",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "fa7cbdff-e17f-3dc4-a3c9-e592f7913e95",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success", "failure" ],
              "source" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "1d4071ea-a41c-3375-8929-492c28c27a31",
                "name" : "Warnings",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "b8d094b4-242c-391f-afca-2d06c46b255c",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "hasWarnings" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "730d3827-f21a-39fd-8173-786eb8de46e6",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "34668857-5cc7-38d2-a59a-d0a8a87afabd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
                "name" : "Has Warnings?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "975b086c-fb32-34ab-afa5-6d6f0e0803e2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "0ed9e4cd-a9c7-386a-aadb-9b7e23573c89",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                "name" : "output",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1528.0,
                "y" : 312.0
              }, {
                "x" : 1528.0,
                "y" : 808.0
              }, {
                "x" : 3216.0,
                "y" : 808.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "d1916780-8f19-3032-958c-2fd5937fb550",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "23f945ca-b6e2-38c6-b052-1475528518d5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1816.0,
                "y" : 352.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
                "groupId" : "e57da404-28e9-3806-89dc-752b5761d177",
                "id" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
                "name" : "Set HTTP Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "38f135c1-5386-3ee7-937c-aff039fcf241",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                "name" : "API Failed",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "e57da404-28e9-3806-89dc-752b5761d177",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "31c5e395-d024-3a33-bf3a-da87e1cf8d24",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 1872.0,
                "y" : -1152.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Save To FHIR",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "730d3827-f21a-39fd-8173-786eb8de46e6",
              "name" : "Success",
              "position" : {
                "x" : 2088.0,
                "y" : 568.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "1d4071ea-a41c-3375-8929-492c28c27a31",
              "name" : "Warnings",
              "position" : {
                "x" : 2088.0,
                "y" : 688.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "250c52ec-13f0-3820-9560-bdcf7a2f79b6",
              "name" : "Failed",
              "position" : {
                "x" : 3752.0,
                "y" : -280.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "060c7afa-913f-3e05-9ad9-fe90177c35a9",
              "name" : "Aborted",
              "position" : {
                "x" : 1792.0,
                "y" : 208.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "position" : {
              "x" : 2209.6001121933286,
              "y" : 2410.3416045586573
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2578812d-0f9b-3672-a52d-e02dee695119",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "bc8e642f-2c39-365d-80b1-02c5c1349245",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "89ce3c16-d5cf-3a60-aa59-f1a9a438f812",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "b0b5d768-4481-32c2-aafc-ad17057a642e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                  "name" : "Set Error Code 400 if Bundle Has Errors",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "57b19826-9d88-3d10-a771-e50eba9a7593",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "hasError" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8f1cfcee-a77e-33a2-94dd-d701c87beeec",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                  "name" : "Set Error Code 400 if Bundle Has Errors",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "id" : "442c33e6-b77a-3636-aa8f-445fade545de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e15d9be0-07cc-38a4-84df-bde406118971",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "3f00f5a9-1443-3615-a75f-c9296723f464",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d2a7be13-cd49-3d38-9515-72a87d0e169e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7911077f-58a9-3863-bb87-8adaf363d65e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "89ce3c16-d5cf-3a60-aa59-f1a9a438f812",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "47d7de21-95d8-351f-8b07-b34a6a65a47e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "split" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "464accd9-9bb2-3a6e-9bae-40b44d15e378",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c25c4053-ca7b-3972-b2c7-04c4f48d98e0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle_batch_error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                  "name" : "Is Error 400/422 on Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8815ca10-5d3b-3612-b1d9-626e0a3dfbb6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                  "name" : "API Failed",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "565fc3ff-a125-3ba9-ab72-86c481bd25f4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "92db51b1-0614-32f7-8608-63970aad0349",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                  "name" : "Bundle set to Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "89ce3c16-d5cf-3a60-aa59-f1a9a438f812",
                  "name" : "Rebuild Bundle",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "635d7fa4-e37f-31dc-9511-d8541be6ba2f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "matched", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7e70f96d-929b-30d6-8d67-95e619591b07",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "69520fff-d017-3d1e-b6cd-8a8377384cb9",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e228ed4b-4276-3f1d-b4ee-8e4079278838",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "580efa05-995c-322b-94ff-327f844b833e",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "324c9bb6-180e-3ae1-b588-7930bc8b451e",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4acb4fac-b0d5-3434-93e4-9a49cfa5a7bc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 260.7893981933594,
                  "y" : 1664.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f39b6158-6e77-3857-91ca-3e4543d1dd8d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "324c9bb6-180e-3ae1-b588-7930bc8b451e",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -811.1295776367188,
                  "y" : 1111.6143798828125
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "580efa05-995c-322b-94ff-327f844b833e",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "53c998d8-faea-3e4d-8017-85d6e493b446",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "ca196e38-050c-3c32-bc66-bed93117f4a3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 120.0,
                  "y" : 480.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c2d59c24-d413-3896-a83d-0beaa5ca8bb1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                  "name" : "Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "757b146a-de80-3315-ae09-896d0ff15361",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                  "name" : "Response",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0c878641-40b3-37c1-82b5-090c608dc0b1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 216.0,
                  "y" : 632.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fa414e13-0415-3c9e-8066-1311dd9b33d1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1328.0,
                  "y" : 360.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "53f06da0-4458-3d4b-bda5-5507dbd20bf5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fd107b9e-634e-3353-9278-0a4d36f63b48",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                  "name" : "Split",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "41d870a4-4321-3b49-a3fe-83a0983af3c8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "fa544a1b-fdd6-3613-9179-b0d36fb8b29c",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f5c8103c-b3d9-30e8-95d3-7f698dcf8019",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                  "name" : "Set Bundle To Batch",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "abff8f40-02ea-3b74-ba8d-c03b860bed8b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "hasDeleteEntries" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                  "name" : "Has Delete entries?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "69520fff-d017-3d1e-b6cd-8a8377384cb9",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a96a7d39-99a1-30c4-b80f-87e6be7ce2e5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "401Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "324c9bb6-180e-3ae1-b588-7930bc8b451e",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                  "name" : "Aborted",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4c3ead9c-7485-39dc-9881-c1edcb5e8dab",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                  "name" : "Has Errors?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "737e2afb-0c63-38c0-8981-92f740b5d937",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundleIsBatch" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                  "name" : "Is Batch?",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "90db25e8-7b81-35fd-8ac5-5ed5096dcde7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                  "name" : "Input Bundle",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8cec79db-464e-3bcd-8b74-27f647ee34a8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "fa544a1b-fdd6-3613-9179-b0d36fb8b29c",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fc5eb044-2502-3e47-b6c8-d97fcf9aeebc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "c586d455-376c-3963-807b-b6258830b7e3",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "adbee507-3939-300c-94fa-7c3724c49cf6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2727ce29-0895-36fa-8600-ffc6a986adf4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "id" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8d1e6be6-e982-3c95-87a5-fc16e059b8cb",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                  "name" : "No Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                  "name" : "Is Error 400/422 on Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e0ada1bc-295a-39da-a9b9-75ad2c5aab90",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "e9f4559d-c3de-383e-8a7e-c0fbab947820",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "30cfc4c1-b7aa-3a24-94a8-16b26d45ae8b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "api_success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                  "name" : "Route on api success 2xx code",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "069c0c11-055a-37b6-b05a-cac0b4cffeae",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                  "name" : "Bundle set to Batch?",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "79523026-27eb-368f-adcd-2bf85162bdfe",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle_error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                  "name" : "Route on Error 400/422",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "bafe39b6-9de5-35d3-ab5f-bda995050b8e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "not-found", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -1248.0,
                  "y" : 1936.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                  "name" : "API Failed",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "9e99008f-429d-3147-919c-9cceed0905ca",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "29471849-930f-3e53-a7b7-305d44813f0d",
                  "id" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "d962ce8e-7a18-3004-829d-7a05ae37808a",
                "name" : "Input Bundle",
                "position" : {
                  "x" : 576.0,
                  "y" : -344.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 32.0,
                "identifier" : "6bad392a-d3c9-3269-99bd-e6d974a79c57",
                "label" : "Bundle was successful",
                "position" : {
                  "x" : -88.0,
                  "y" : -408.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 192.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 48.0,
                "identifier" : "08f9bdf0-9791-3513-88e3-29d39f1df0df",
                "label" : "Attempted bundle with batch transaction failed.  \nReturn all errors from bundle for 400/422.\nOther errors are handled elsewhere in the flow.",
                "position" : {
                  "x" : -728.0,
                  "y" : -104.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 352.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 48.0,
                "identifier" : "7c919332-9d7a-31c7-b918-87d349fe5988",
                "label" : "Since there are delete entries in the bundle, attempt with \nbatch transaction.",
                "position" : {
                  "x" : 952.0,
                  "y" : 976.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 328.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 40.0,
                "identifier" : "0bf2801c-6058-3825-9d27-9033ee50f463",
                "label" : "Old Python script - in case issues with groovy script",
                "position" : {
                  "x" : 1008.0,
                  "y" : -160.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 304.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 40.0,
                "identifier" : "57a5e389-0538-30c0-855c-969cef70510a",
                "label" : "Split up the bundle if there are no delete entries to \nattempt storing individual entries.",
                "position" : {
                  "x" : 888.0,
                  "y" : 1312.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 304.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "height" : 64.0,
                "identifier" : "2ace18eb-aff5-376f-8b1a-db0b72386ee9",
                "label" : "Batch calls will return 200 error codes even if entries have errors.\nSet the error code to 400 if any entries have errors.",
                "position" : {
                  "x" : -760.0,
                  "y" : -848.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 424.0
              } ],
              "name" : "Handle Resource Bundle",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "5a25fc73-7553-3b7c-ac9c-308ec557c159",
                "name" : "Split",
                "position" : {
                  "x" : 576.0,
                  "y" : 1888.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "cf65e2df-ab8e-3eb1-86dd-4c1bd1a9e7c4",
                "name" : "Failure",
                "position" : {
                  "x" : 1656.0,
                  "y" : 1864.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "2b717038-ca6e-3af3-b5f4-f3087a28039a",
                "name" : "Aborted",
                "position" : {
                  "x" : -288.0,
                  "y" : 160.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "63385abb-68ec-3bd9-98dd-4fffb4f9a0ab",
                "name" : "Success",
                "position" : {
                  "x" : -1288.0,
                  "y" : -528.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "6aeed3c0-7742-32b0-b5bf-509338ec9725",
                "name" : "API Failed",
                "position" : {
                  "x" : -576.0,
                  "y" : 1912.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 1344.0,
                "y" : -40.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "d8f89da6-20eb-3955-a417-59df8c025bb6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "9401f751-73c3-3a7b-a1ea-f9488baf787b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "43071c3d-2cf1-37fa-97ac-df21d5524400",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "aab94691-8c50-30fe-9e9f-966fc5898afe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "providerDirectory" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "eb302852-893e-3280-8192-8cfd9b03e420",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "f6e52f05-ff86-3dfd-8f92-695feaca59ad",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "b528fd50-3745-32e3-9256-7a321174a00c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "637548d6-e52b-3bae-ba99-2eb27368129e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                    "name" : "Post Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "23023de5-bc11-33bf-b61d-5b112ae77ffe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "c275bfc3-60a5-3ba9-a8bc-34206982a876",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                    "name" : "Post Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "2335ed46-6329-3cdf-8cb7-d02b93dc9b39",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                    "id" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "a92d14d4-829d-3526-b773-0a547f8659ee",
                  "name" : "input",
                  "position" : {
                    "x" : 1448.0,
                    "y" : -344.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Post Resource Bundle to FHIR server",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "3967d6fa-30e4-3659-a586-f03537b40d57",
                  "name" : "No Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 288.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "4d7ab488-02b9-3385-9694-7c38f676af94",
                  "name" : "Response",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 152.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "904e5f00-7d21-3d21-9714-a9a77d41dada",
                  "name" : "Failure",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 416.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "fee76d5e-3a29-3847-85f5-319bbd4b3c9d",
                  "name" : "Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 536.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                "position" : {
                  "x" : 504.0,
                  "y" : 272.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 4,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "dd0d3b94-e11d-36eb-aae1-5d36639acde7",
                  "name" : "Post Resource to FHIR Patient Access",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 736.0,
                    "y" : 240.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=OperationOutcome",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "9b50fd91-b5c7-3ff1-9cb1-d2cd79821c44",
                  "name" : "Is Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1392.0,
                    "y" : -152.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "providerDirectory" : "${kafka.topic:getDelimitedField(4,'.'):toLower():startsWith('provider_directory')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "providerDirectory" : {
                      "displayName" : "providerDirectory",
                      "identifiesControllerService" : false,
                      "name" : "providerDirectory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 4,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "1b0ca529-896b-3d62-b5c0-bbac2a29fe2f",
                  "identifier" : "36159631-49fa-3201-af94-7c1eb1ba7aad",
                  "name" : "Post Resource to FHIR Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2112.0,
                    "y" : 248.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=OperationOutcome",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "44325a82-2935-3617-8aff-76b97b82d06a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "8362a4c2-c33f-3f14-ae11-09281b314c86",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "945f938b-bab8-3f60-b89d-e9b48f1c98d1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "3c03c1cd-0b21-38d5-97ea-b754502eb9d5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "a269226a-0d82-33b9-a944-2ead976ec147",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                    "name" : "Route on 400/422",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "6019302e-f09a-347e-b3ca-369096dd5c38",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 984.0,
                    "y" : 776.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "7ce27e28-a932-35f8-9aba-aaf48aee34a6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "577578a1-34a6-34ca-981c-5f519fd0cc0c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                    "name" : "Bring response body json to root",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "9b4096fe-2019-3ac0-88c6-a9f1a84eeb78",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                    "id" : "771e8952-f790-325a-bfdf-ce5074466a02",
                    "name" : "Put Response Body in flowfile content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "70ad7289-0f7d-36d9-b873-6311245b254a",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -240.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "74c66d9c-209c-349e-a41f-b5c46edd759d",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -648.0,
                  "y" : 1576.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "08cec303-ea83-3e4f-908a-825c09227387",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "position" : {
                      "x" : 576.0,
                      "y" : 224.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Clear Flow File Contents",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "position" : {
                      "x" : 576.0,
                      "y" : 1048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 792.0,
                    "y" : 336.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "NONE",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "6f1673e3-f94a-3e16-b70b-228ac6e57790",
                    "name" : "Log Error Message",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 992.0,
                      "y" : 752.0
                    },
                    "properties" : {
                      "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                      "log-level" : "warn",
                      "log-prefix" : "Interop FHIR Adapter - "
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 744.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "text/plain",
                      "Content-Type" : "text/plain"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4a85357f-78b5-38ec-b636-bb0ac99f2fc0",
                    "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 480.0
                    },
                    "properties" : {
                      "Regular Expression" : ".",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Always Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "8945b3d3-9f91-31d6-87b0-aa154348183b",
                  "name" : "Bring response body json to root",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "842e1019-3582-38de-890d-bec0b70a1c0c",
                  "name" : "Route on 400/422",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4bd15316-c7f5-35bf-aa0b-24fc1691b5dc",
                  "identifier" : "771e8952-f790-325a-bfdf-ce5074466a02",
                  "name" : "Put Response Body in flowfile content",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "f1e71f71-7272-3241-b185-036d7ddaaddb",
                    "name" : "PutDistributedMapCache",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "5eed997a-9300-3a76-a944-6310608dbd36",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "6e993a26-cf56-3987-bedc-a9b007d0e09c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "46011b61-42e8-3a7e-86a2-e1225aad92cc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "09959561-6b6d-36be-8258-dca352e135dc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "ac9a8b1c-80bb-3910-8811-f69068bcfc08",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "copy" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                    "id" : "34793802-aff1-3c32-ab13-704db1881f0b",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 24.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 736.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -656.0,
                  "y" : 1200.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "31f55471-ab6b-3691-8ae1-167a87b5c190",
                  "name" : "split into flow files for messages",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 224.0
                  },
                  "properties" : {
                    "Number of Copies" : "1"
                  },
                  "propertyDescriptors" : {
                    "Number of Copies" : {
                      "displayName" : "Number of Copies",
                      "identifiesControllerService" : false,
                      "name" : "Number of Copies",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "34793802-aff1-3c32-ab13-704db1881f0b",
                  "name" : "Route Copy for abort indication",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 432.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "original" : "${copy.index:equals(0)}",
                    "copy" : "${copy.index:equals(1)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "original" : {
                      "displayName" : "original",
                      "identifiesControllerService" : false,
                      "name" : "original",
                      "sensitive" : false
                    },
                    "copy" : {
                      "displayName" : "copy",
                      "identifiesControllerService" : false,
                      "name" : "copy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "017fd75a-6fde-3c4c-a68a-f3c0fd93cbb5",
                  "name" : "Set Abort flag",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 424.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${invokehttp.status.code}: ${invokehttp.status.message}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0083c255-69fa-3c90-9739-6f14ecb5bf5c",
                  "identifier" : "f1e71f71-7272-3241-b185-036d7ddaaddb",
                  "name" : "PutDistributedMapCache",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 696.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "abort-${batchId}",
                    "Cache update strategy" : "keeporiginal",
                    "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                    "Max cache entry size" : "1 MB"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Cache update strategy" : {
                      "displayName" : "Cache update strategy",
                      "identifiesControllerService" : false,
                      "name" : "Cache update strategy",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max cache entry size" : {
                      "displayName" : "Max cache entry size",
                      "identifiesControllerService" : false,
                      "name" : "Max cache entry size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "23cc1463-c626-38ac-9584-96f647f719f5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "empty" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "55d9bbf8-0699-3400-81b7-c46b29968fd2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "83a76629-44e2-3d30-b869-d8d617bd6d41",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "b01f788b-ae1b-3c5d-831e-c67a750f92d3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "da00dba3-9bf1-3635-96e1-6da7de2a9462",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                    "id" : "442c33e6-b77a-3636-aa8f-445fade545de",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "442c33e6-b77a-3636-aa8f-445fade545de",
                  "name" : "Input",
                  "position" : {
                    "x" : 608.0,
                    "y" : 768.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Prepend FHIR Server to Message",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "d637cf89-84d4-3701-9401-ee37686c8efc",
                  "name" : "Output",
                  "position" : {
                    "x" : 608.0,
                    "y" : 1920.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -656.0,
                  "y" : 904.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "1183ef1e-20ae-30d2-b64e-6af060928df6",
                  "name" : "invokehttp.status.message empty?",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 554.1134884078572,
                    "y" : 1032.3405373113083
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "empty" : "${invokehttp.status.message:isEmpty()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "empty" : {
                      "displayName" : "empty",
                      "identifiesControllerService" : false,
                      "name" : "empty",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "7053735a-e4ab-39f2-9908-15b519c16ae3",
                  "name" : "Set Message to error code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 224.0,
                    "y" : 1320.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "Error ${invokehttp.status.code}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8d89ff2f-3746-3298-9358-2b13dadd4e0d",
                  "identifier" : "242e642a-db45-3195-b818-3b7741b0fa3b",
                  "name" : "Prepend FHIR Server to message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 552.0,
                    "y" : 1632.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "FHIR Server - ${invokehttp.status.message}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c586d455-376c-3963-807b-b6258830b7e3",
                "name" : "Check 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 88.0,
                  "y" : 776.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "3bae0568-8441-33f9-bb58-d2b764541c72",
                "name" : "Route on Error 400/422",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 568.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle_error" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle_error" : {
                    "displayName" : "bundle_error",
                    "identifiesControllerService" : false,
                    "name" : "bundle_error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "69520fff-d017-3d1e-b6cd-8a8377384cb9",
                "name" : "Set 401 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -168.0,
                  "y" : 1464.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "FHIR Server - Not Authorized"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f60640d2-0811-3801-8a5c-32bde6f2028a",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -1416.0,
                  "y" : -48.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0b05cf8d-89b9-3843-b08b-26fd5ab76b42",
                "name" : "Has Errors?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -536.0
                },
                "properties" : {
                  "Content Buffer Size" : "1 MB",
                  "Match Requirement" : "content must contain match",
                  "hasError" : "\"severity\":\\s*(\"error\")|(\"fatal\")",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Content Buffer Size" : {
                    "displayName" : "Content Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Content Buffer Size",
                    "sensitive" : false
                  },
                  "Match Requirement" : {
                    "displayName" : "Match Requirement",
                    "identifiesControllerService" : false,
                    "name" : "Match Requirement",
                    "sensitive" : false
                  },
                  "hasError" : {
                    "displayName" : "hasError",
                    "identifiesControllerService" : false,
                    "name" : "hasError",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "580efa05-995c-322b-94ff-327f844b833e",
                "name" : "Log Retry Failure",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -1112.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - unable to retry POST to FHIR Server",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "true"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "fa544a1b-fdd6-3613-9179-b0d36fb8b29c",
                "name" : "Set 404 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -232.0,
                  "y" : 968.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "Not Found"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c419a2e8-7bd5-3918-ab81-799ad4f03361",
                "name" : "Set Error Code 400 if Bundle Has Errors",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -768.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.code" : "400",
                  "invokehttp.status.message" : "Bundle has errors"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "invokehttp.status.code" : {
                    "displayName" : "invokehttp.status.code",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.code",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a350af3a-f57e-3ea6-81ec-5b269ac7aa65",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -96.0,
                  "y" : -328.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "4e3ac06b-e4a1-3515-a207-1829e06174d6",
                "name" : "Set Bundle To Batch",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1152.0,
                  "y" : 1040.0
                },
                "properties" : {
                  "Script Engine" : "python",
                  "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2020\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\n'''\n  For \"Set Bundle To Batch\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Handle Resource Bundle\"\n \n  Sets the FHIR bundle to batch mode and sets a flowfile attribute bundleIsBatch indicating batch mode has been set.\n''' \nclass PyStreamCallback(StreamCallback):\n    \n    def __init__(self):\n        pass\n\n    def process(self, inputStream, outputStream):\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        inputFHIRResource = json.loads(inputText, object_pairs_hook=OrderedDict)\n\n        inputFHIRResource[\"type\"] = \"batch\"\n        outputStream.write(bytearray(json.dumps(inputFHIRResource, indent=4).encode(\"utf-8\")))\n\n#Performance Update WHFPA-102\nflowFileList = session.get(100)\nif flowFileList: \n    for flowFile in flowFileList:\n        writer = PyStreamCallback()\n        flowFile = session.write(flowFile, writer)\n        flowFile = session.putAttribute(flowFile, \"bundleIsBatch\", \"true\")\n        session.transfer(flowFile, REL_SUCCESS)\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "f7f44604-8e7c-353f-bee0-460f123ea073",
                "name" : "Has Delete entries?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1032.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "hasDeleteEntries" : "${bundleHasDeleteRequests:notNull():and(\n    ${bundleHasDeleteRequests:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "hasDeleteEntries" : {
                    "displayName" : "hasDeleteEntries",
                    "identifiesControllerService" : false,
                    "name" : "hasDeleteEntries",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a2989017-67f9-30f9-a16b-c3781f8186c1",
                "name" : "Route on api success 2xx code",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -96.0,
                  "y" : -48.0
                },
                "properties" : {
                  "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                  "Routing Strategy" : "Route to Property name"
                },
                "propertyDescriptors" : {
                  "api_success" : {
                    "displayName" : "api_success",
                    "identifiesControllerService" : false,
                    "name" : "api_success",
                    "sensitive" : false
                  },
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "0a18f11a-0de7-326c-8fa2-0bc78ed84912",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -640.0,
                  "y" : 552.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postBundleResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "324c9bb6-180e-3ae1-b588-7930bc8b451e",
                "name" : "Check 401 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 88.0,
                  "y" : 1120.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "401Error" : "${invokehttp.status.code:equals('401')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "401Error" : {
                    "displayName" : "401Error",
                    "identifiesControllerService" : false,
                    "name" : "401Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "54eb3803-c74d-332f-acac-a5604e00b6e3",
                "name" : "Get Bundle Entries",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1272.0
                },
                "properties" : {
                  "Null Value Representation" : "empty string",
                  "JsonPath Expression" : "$.entry"
                },
                "propertyDescriptors" : {
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "JsonPath Expression" : {
                    "displayName" : "JsonPath Expression",
                    "identifiesControllerService" : false,
                    "name" : "JsonPath Expression",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.SplitJson",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "89ce3c16-d5cf-3a60-aa59-f1a9a438f812",
                "name" : "Rebuild Bundle",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 48.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n/**\n * For \"Rebuild Bundle\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Handle Resource Bundle\"\n *\n * Rebuilds the bundle so appropriate calls to post or put are made for FHIR resources in the entry array.\n * If the request is to Delete, then the entry is left as is.\n * If there isn't a FHIR resource in the entry for a non-delete request, an validation error is generated in an Operation Outcome and FAILURE is the result relationship.\n *\n * This class also adds the batch id tag in the FHIR resource's metadata for each entry if the FHIRResourceTag attribute is set.\n */\nclass RebuildResourceBundle extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n    .name(\"success\")\n    .description(\"If the resource was successfully updated it will be routed to this relationship\")\n    .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n    .name(\"failure\")\n    .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n    .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    public class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null\n        private boolean hasValidationErrors = false\n        private boolean hasDeletes = false\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile\n        }\n\n        public boolean isHasValidationErrors() {\n            return hasValidationErrors;\n        }\n\n        public boolean isHasDeletes() {\n            return hasDeletes;\n        }\n\n\n        @Override\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            Map inputFHIRResource = jsonSlurper.parse(instream, \"UTF-8\")\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n\n            Map outputFHIRResource = processJson(inputFHIRResource, fhirResourceTag)\n\n            outstream.write(JsonOutput.toJson(outputFHIRResource).getBytes(StandardCharsets.UTF_8))\n        }\n\n        public Map processJson(Map inputFHIRResource, def fhirResourceTag) {\n            // need to rebuild the resource bundle with type transaction.\n            Map outputFHIRResource = [:]\n\n            if (inputFHIRResource.getAt(\"resourceType\") == \"Bundle\") {\n                // recreate the bundle resource\n                outputFHIRResource.putAt(\"resourceType\", \"Bundle\")\n                outputFHIRResource.putAt(\"type\", \"transaction\")\n\n                // Add the resource id if provided.\n                if (inputFHIRResource.containsKey(\"id\"))\n                    outputFHIRResource.putAt(\"id\", inputFHIRResource.getAt(\"id\"))\n\n                // build the new entry list by grabbing the resource and setting the request\n                def newEntryList = []\n                Map validationErrors = null\n                int entryCount = 0\n\n                for (Map anEntry: inputFHIRResource.getAt(\"entry\")) {\n                    Map newEntry = [:]\n                    boolean isDeleteEntry = false\n\n                    // Flag if this is a delete entry\n                    if (anEntry.containsKey(\"request\")) {\n                        def requestEntry = anEntry.getAt(\"request\")\n                        if (requestEntry.getAt(\"method\") == \"DELETE\") {\n                            newEntry.putAt(\"request\", requestEntry)\n                            isDeleteEntry = true\n                            this.hasDeletes = true\n                            newEntryList.add(newEntry)\n                        }\n                    }\n\n                    // If this isn't a delete entry, grab the resource and set to put/post request and add to the entry array\n                    if (!isDeleteEntry) {\n                        if (anEntry.containsKey(\"resource\")) {\n                            // Only do the work if there are no validation errors\n                            if (validationErrors == null) {\n                                newEntry.putAt(\"resource\", anEntry.getAt(\"resource\"))\n\n                                Map requestEntry = [:]\n                                Map resource = newEntry.getAt(\"resource\")\n                                def resourceType = resource.getAt(\"resourceType\")\n\n                                if (resource.containsKey(\"id\"))\n                                    requestEntry = [\"method\": \"PUT\", \"url\": resourceType + '/' + resource.getAt(\"id\")]\n                                else\n                                    requestEntry = [\"method\": \"POST\", \"url\": resourceType]\n\n                                newEntry.putAt(\"request\", requestEntry)\n\n                                // Add FHIRResourceTag if set\n                                if (fhirResourceTag) {\n                                    resource = addTagToResource(resource, fhirResourceTag)\n                                }\n\n                                newEntry.putAt(\"resource\", resource)\n                                newEntryList.add(newEntry)\n                            } // End of validationErrors == null\n                        } else {\n                            if (validationErrors == null) {\n                                validationErrors = [:]\n                                validationErrors.putAt(\"resourceType\", \"OperationOutcome\")\n                                validationErrors.putAt(\"issue\", [])\n                            }\n\n                            Map newIssue = [:]\n                            newIssue.putAt(\"severity\", \"error\")\n                            newIssue.putAt(\"code\", \"required\")\n                            newIssue.putAt(\"details\", [\"text\" : \"The Interop FHIR Adapter requires each entry in a Bundle to have a resource unless the entry request is DELETE\"])\n                            newIssue.putAt(\"expression\", \"Bundle.entry[\" + entryCount + \"]\")\n                            validationErrors.getAt(\"issue\").add(newIssue)\n                        }\n                    } //  end if ! isDeleteEntry\n\n                    entryCount += 1\n                } // end entry array iteration\n\n                if (validationErrors == null)\n                    outputFHIRResource.putAt(\"entry\", newEntryList)\n                else {\n                    outputFHIRResource = validationErrors\n                    this.hasValidationErrors = true\n                }\n            } else {\n                // not a resource bundle, just pass it along\n                outputFHIRResource = inputFHIRResource\n            }\n\n            return outputFHIRResource\n        }\n\n        /**\n         * Adds the given tag to the FHIR resource.  If the meta or tag fields do not exist, they will be created.\n         * @param fhirResource\n         * @param fhirResourceTag\n         * @return\n         */\n        private Map addTagToResource(Map fhirResource, String fhirResourceTag) {\n            if (fhirResourceTag) {\n                String CODE_SYSTEM=\"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n\n                def fhirTag=[system:CODE_SYSTEM,code:fhirResourceTag]\n\n                // create 'meta' element if is doesn't exist\n                // NOTE: this appends property 'meta' to end of list. (least expensive option)\n                fhirResource.putIfAbsent(\"meta\", [:] )\n\n                // Create empty tag array if it doesn't exist.\n                Map metaMap = fhirResource.getAt(\"meta\")\n                metaMap.putIfAbsent(\"tag\", [] )\n\n                def tagArray = metaMap.get(\"tag\")\n\n                // search for an existing entry with same CODE_SYSTEM\n                def existingEntry = tagArray.find { tagArrayEntry -> tagArrayEntry.getAt(\"system\") == CODE_SYSTEM }\n                if ( ! existingEntry ) {\n                    // NOT FOUND - add a new entry to tagArray\n                    tagArray.add(fhirTag)\n                } else {\n                    // There was an array entry for our code system - set value\n                    existingEntry.putAt(\"code\", fhirResourceTag)\n                }\n\n            }\n\n            return fhirResource\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback(aFlowFile))\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (final Throwable t) {\n                getLogger().error('{} failed to process due to {}', [this, t] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new RebuildResourceBundle()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "bundleIsBatch" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "98eaadce-1aa5-30e7-8ec9-cb2c1ea87653",
                "name" : "Bundle set to Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 808.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundleIsBatch" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundleIsBatch" : {
                    "displayName" : "bundleIsBatch",
                    "identifiesControllerService" : false,
                    "name" : "bundleIsBatch",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "6de32c89-1ffd-3a69-a905-0d9bf6ead7f5",
                "name" : "Failed getting resource from entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1048.0,
                  "y" : 1784.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Failed getting resource from entry",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\""
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7ef392a1-cd45-31e7-b24b-6dc4a2bb2b79",
                "name" : "Update Bundle failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1600.0,
                  "y" : 48.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.code" : "400",
                  "errorType" : "Update Bundle failed",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                  "invokehttp.status.message" : "Update bundle failed"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "invokehttp.status.code" : {
                    "displayName" : "invokehttp.status.code",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.code",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "597cb396-3435-3bd3-a2c0-52ff52a757ac",
                "name" : "Is Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -704.0,
                  "y" : -328.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundleIsBatch" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\")}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundleIsBatch" : {
                    "displayName" : "bundleIsBatch",
                    "identifiesControllerService" : false,
                    "name" : "bundleIsBatch",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "a5095696-e63e-306f-b55f-ade6ff1459c6",
                "name" : "Check For Abort",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -344.0,
                  "y" : 296.0
                },
                "properties" : {
                  "Cache Entry Identifier" : "abort-${batchId}",
                  "Put Cache Value In Attribute" : "abortedReason",
                  "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                  "Max Length To Put In Attribute" : "256",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Cache Entry Identifier" : {
                    "displayName" : "Cache Entry Identifier",
                    "identifiesControllerService" : false,
                    "name" : "Cache Entry Identifier",
                    "sensitive" : false
                  },
                  "Put Cache Value In Attribute" : {
                    "displayName" : "Put Cache Value In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Cache Value In Attribute",
                    "sensitive" : false
                  },
                  "Distributed Cache Service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "Distributed Cache Service",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "7f5a8088-56a1-385b-b474-ac0a586da185",
                "name" : "Is Error 400/422 on Batch?",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -752.0,
                  "y" : -48.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle_batch_error" : "${bundleIsBatch:notNull():and(\n    ${bundleIsBatch:equals(\"true\"):and(\n        ${invokehttp.status.code:equals('400'):or(\n            ${invokehttp.status.code:equals('422')}\n        )}\n\t)}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle_batch_error" : {
                    "displayName" : "bundle_batch_error",
                    "identifiesControllerService" : false,
                    "name" : "bundle_batch_error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "93c8384b-9eb2-3b04-9749-4bdf11a0f1c8",
                "name" : "Get Bundle Id",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : -176.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "Return Type" : "auto-detect",
                  "bundleId" : "$.id",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "warn"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "bundleId" : {
                    "displayName" : "bundleId",
                    "identifiesControllerService" : false,
                    "name" : "bundleId",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "c9c4cb23-e6b7-38b5-861e-5b42d7ff807f",
                "name" : "Rebuild Bundle",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1008.0,
                  "y" : -120.0
                },
                "properties" : {
                  "Script Engine" : "python",
                  "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2020\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\n'''\n  For \"Rebuild Bundle\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Handle Resource Bundle\"\n \n  Rebuilds the bundle so appropriate calls to post or put are made for FHIR resources in the entry array.\n  If the request is to Delete, then the entry is left as is.\n  If there isn't a FHIR resource in the entry for a non-delete request, an validation error is generated in an Operation Outcome and FAILURE is the result relationship. \n  \n  This class also adds the batch id tag in the FHIR resource's metadata for each entry if the FHIRResourceTag attribute is set.\n''' \nclass PyStreamCallback(StreamCallback):\n    __hasValidationErrors = False\n    __hasDeletes = False\n    \n    def __init__(self, flowFile):\n        self.ff = flowFile\n        pass\n\n    def hasValidationErrors(self):\n        return self.__hasValidationErrors\n        \n    def hasDeletes(self):\n        return self.__hasDeletes\n\n    def process(self, inputStream, outputStream):\n        codeSystem = \"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        inputFHIRResource = json.loads(inputText, object_pairs_hook=OrderedDict)\n\n        #FHIR Resource Tag  \n        fhirResourceTag = self.ff.getAttribute(\"FHIRResourceTag\")\n\n        # need to rebuild the resource bundle with type transaction.\n        outputFHIRResource = OrderedDict()\n\n        if inputFHIRResource[\"resourceType\"] == \"Bundle\":\n            # recreate the bundle resource  \n            outputFHIRResource[\"resourceType\"] = \"Bundle\"\n            outputFHIRResource[\"type\"] = \"transaction\"\n    \n            if \"id\" in inputFHIRResource:\n                outputFHIRResource[\"id\"] = inputFHIRResource[\"id\"]\n    \n            # build the new entry list by grabbing the resource and setting the request\n            newEntryList = []\n            validationErrors = None\n            entryCount = 0\n            \n            for anEntry in inputFHIRResource[\"entry\"]:                    \n                newEntry = OrderedDict()\n                isDeleteEntry = False\n                \n                if \"request\" in anEntry:\n                    requestEntry = anEntry[\"request\"]\n                    if requestEntry[\"method\"] == \"DELETE\":\n                        newEntry[\"request\"] = requestEntry\n                        isDeleteEntry = True\n                        self.__hasDeletes = True\n                        newEntryList.append(newEntry)\n                \n                if not isDeleteEntry:  \n                    if \"resource\" in anEntry: \n                        # Only do the work if there are no validation errors\n                        if validationErrors == None:               \n                            newEntry [\"resource\"] = anEntry[\"resource\"]\n                \n                            requestEntry = OrderedDict()\n                            resource = newEntry[\"resource\"]\n                            resourceType = resource [\"resourceType\"]\n                \n                            if \"id\" in newEntry[\"resource\"]:\n                                requestEntry = {\"method\": \"PUT\", \"url\": resourceType + '/' + newEntry[\"resource\"] [\"id\"]}\n                            else:\n                                requestEntry = {\"method\": \"POST\", \"url\": resourceType}\n                    \n                            newEntry[\"request\"] = requestEntry\n                            \n                            # Add FHIRResourceTag if set\n                            if fhirResourceTag:\n                                # add the meta field right after the id\n                                if \"meta\" not in resource:\n                                    updatedResource = OrderedDict()\n                                    if \"resourceType\" in resource:\n                                        updatedResource[\"resourceType\"] = resource[\"resourceType\"]\n                            \n                                    if \"id\" in inputFHIRResource:\n                                        updatedResource[\"id\"] = resource[\"id\"]\n                        \n                                    updatedResource[\"meta\"] = OrderedDict()\n                        \n                                    # add the rest of the fields\n                                    for key in resource:\n                                        if key != \"resourceType\" and key != \"id\":\n                                            updatedResource[key] = resource[key]\n                        \n                                    resource = updatedResource\n                        \n                        \n                                meta = resource[\"meta\"]\n                    \n                                if \"tag\" not in meta:\n                                    meta[\"tag\"] = []\n                        \n                                foundTag = False\n                    \n                                for aTag in meta[\"tag\"]:\n                                    if \"system\" in aTag:\n                                        if aTag[\"system\"] == codeSystem:\n                                            aTag[\"code\"] = fhirResourceTag\n                                            foundTag = True\n                                            break\n                    \n                                if not foundTag:\n                                    newTag = OrderedDict([(\"system\", codeSystem), (\"code\", fhirResourceTag)])\n                                    meta[\"tag\"].append(newTag)\n                                \n                            \n                            newEntry [\"resource\"] = resource\n                            newEntryList.append(newEntry)\n                         # End of validationErrors == None\n                    else:\n                        if validationErrors == None:\n                            validationErrors = OrderedDict()\n                            validationErrors[\"resourceType\"] = \"OperationOutcome\"\n                            validationErrors[\"issue\"] = []\n                        \n                        newIssue = OrderedDict()\n                        newIssue[\"severity\"] = \"error\"\n                        newIssue[\"code\"] = \"required\"\n                        newIssue[\"details\"] = {\"text\" : \"The Interop FHIR Adapter requires each entry in a Bundle to have a resource unless the entry request is DELETE\"}\n                        newIssue[\"expression\"] = [\"Bundle.entry[\" + str(entryCount) + \"]\"]\n                        validationErrors[\"issue\"].append(newIssue)\n                \n                entryCount += 1\n\n            if validationErrors == None:\n                outputFHIRResource[\"entry\"] = newEntryList\n            else:\n                outputFHIRResource = validationErrors\n                self.__hasValidationErrors = True\n        else:\n            # not a resource bundle, just pass it along\n            outputFHIRResource = inputFHIRResource\n\n        outputStream.write(bytearray(json.dumps(outputFHIRResource, indent=4).encode(\"utf-8\")))\n\n#Performance Update WHFPA-102\nflowFileList = session.get(100)\nif flowFileList: \n    for flowFile in flowFileList:\n        writer = PyStreamCallback(flowFile)\n        flowFile = session.write(flowFile, writer)\n        if writer.hasValidationErrors() == True:\n            flowFile = session.putAttribute(flowFile, \"mime.type\", \"application/json\")\n            session.transfer(flowFile, REL_FAILURE)    \n        else:\n            flowFile = session.putAttribute(flowFile, \"filename\", flowFile.getAttribute('filename').split('.')[0] + '_updated.json')\n            if writer.hasDeletes() == True:\n                flowFile = session.putAttribute(flowFile, \"bundleHasDeleteRequests\", \"true\")                \n            session.transfer(flowFile, REL_SUCCESS)\n            \n            \n# NOTE1: flowFiles are not available to be processed by next processor until 'commit'. If this\n#code fails on message 6 of 10 the first 6 will be reprocessed by this processor.\n#\n# NOTE2: Source code for ExecuteScript processor shows ‘session.commit’ is run by parent ExecuteScript processor.\n# It is not recommended to run it here.\n# Once commit is run those flow files transferred may be processed by downstream processor.   \n# NOTE: ExecuteScript will perform a session.commit() at the end of each execution to ensure the operations have\n# been committed. You do not need to (and should not) perform a session.commit() within the script.\n#session.commit()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "DISABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "1b21ae63-604c-3266-97d4-ec0a7f9ce426",
                "name" : "Get Bundle entries failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1072.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Get Bundle entries failed",
                  "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\""
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "29471849-930f-3e53-a7b7-305d44813f0d",
                "identifier" : "90c045b9-99d0-39a8-a75c-d8641d50e707",
                "name" : "Get Resource From Entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1520.0
                },
                "properties" : {
                  "Destination" : "flowfile-content",
                  "resource" : "$.resource",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resource" : {
                    "displayName" : "resource",
                    "identifiesControllerService" : false,
                    "name" : "resource",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "7b53d9f3-1b86-3c08-8b9e-e4711591b991",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                  "name" : "Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2488.0,
                  "y" : 360.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "e4bea0cf-c383-3c63-8d57-d69ba69841f2",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f08df6ca-33f0-39a7-8623-984072b8fd18",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "d157d865-6e10-3be7-9718-ce902685dc89",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "4937d36f-559c-322d-a65b-76b621e39dd3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "401fc18c-f5a2-3f4b-9fa5-747f29d77e9a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                  "name" : "Aborted",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "b9e49ec0-ec76-39b7-855d-ea976ac2eac6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 824.0,
                  "y" : 1120.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "de7f379f-01e9-3171-9293-359e4215fe2b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "de22a56d-0f0c-3f44-8ab7-350ca4b6603c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                  "name" : "Filter 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "id" : "c8357fae-1251-3275-8078-97f8f86225b1",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "5088d191-f180-3c24-a742-2c0095eecaf7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f4045d9f-783c-3eb2-9787-89009db1cee6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "55a710ef-aa61-31a9-9464-99e74125b715",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                  "name" : "Set 404 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3a09201d-f857-3346-bcd6-7ccf35df78bf",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                  "name" : "Handle FHIR + Json Content Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "1f8ebc84-c999-3ebd-8468-ef54d9ac79b5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                  "name" : "Log Retry Failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "fa9af5bf-e73c-3005-b0dc-5bf33e47fba6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                  "name" : "Filter 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "9759474d-1b4d-3600-a988-5cf582dfcfbe",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "f25fcf37-870c-3242-a4f4-ca04b907fd08",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "id" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "4e333d89-2e5e-3f55-a89a-2d556265ae6a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "not-found", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                  "name" : "Check For Abort",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "59818383-04cf-3170-9949-49ff171e76a3",
                  "name" : "Add Tag to Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "1781d685-3803-3954-97b6-632df5546733",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "10a96b24-cb38-3530-a48e-72869095df84",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ecd82d7f-129a-394b-b732-56185ff6f22d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                  "name" : "Response",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2b6d131e-80d3-343e-b29b-7ad152862624",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1440.0,
                  "y" : 576.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2fe78047-e88e-35ea-9493-e72546d6fcf4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                  "name" : "Set 401 message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "a23f1345-6c56-397c-9b61-96e55150afc0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "401Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1672.0,
                  "y" : 480.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "d157d865-6e10-3be7-9718-ce902685dc89",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "8f3f538a-1f27-32a8-aae2-6779c3a949ea",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                  "name" : "No Retry",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1184.0,
                  "y" : 2120.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "2ea47805-d7f3-3ebe-8b49-b36302c16422",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3d229e0e-3ddf-324c-b782-a06cfc1dfc1b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                  "id" : "59818383-04cf-3170-9949-49ff171e76a3",
                  "name" : "Add Tag to Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ef9c7dbc-e05a-3b42-a60b-a7316f06721f",
                "name" : "Input",
                "position" : {
                  "x" : 1080.0,
                  "y" : -176.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Put Resource to FHIR",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "84bb932b-31e1-3b4d-b66f-33992802c9dc",
                "name" : "Aborted",
                "position" : {
                  "x" : 440.0,
                  "y" : 976.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ae812c70-d7cf-3d6e-915c-1cb07aa2b2ca",
                "name" : "Output",
                "position" : {
                  "x" : 2360.0,
                  "y" : 2096.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 2088.0,
                "y" : -48.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                    "name" : "Log Error Message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "c8fdd64e-c077-31a1-b2ba-0b95890fb62e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                    "name" : "Log Error Message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                    "id" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "position" : {
                    "x" : 576.0,
                    "y" : 224.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Clear Flow File Contents",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "position" : {
                    "x" : 576.0,
                    "y" : 1048.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1864.0,
                  "y" : 544.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "NONE",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "bbd398d0-7100-3e20-980b-27e2ba3cfc7e",
                  "name" : "Log Error Message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 992.0,
                    "y" : 752.0
                  },
                  "properties" : {
                    "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                    "log-level" : "warn",
                    "log-prefix" : "Interop FHIR Adapter - "
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 744.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "text/plain",
                    "Content-Type" : "text/plain"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "62fe51de-5897-322b-825f-e8b3f9851ab0",
                  "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 480.0
                  },
                  "properties" : {
                    "Regular Expression" : ".",
                    "Replacement Value" : "",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "15736dda-f7ff-359e-bdfa-1ad1d612a8be",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "dcc0a76f-5eb8-3557-98cb-3b92a30959d8",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "8d7cf019-9ed2-376e-858c-9dac168b7a29",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "2811bdff-36d1-3d51-bb5a-f0489d266ea1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 912.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "05bfe0e9-a1ab-3461-994f-0c3a6dce1e3b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "ea157222-f06e-3c42-bc2c-42381dc2e3bc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                    "name" : "Put Response body attribute to content",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "e0f58358-ff55-3484-a94a-126549e9e518",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "d4cac1df-6996-32f8-9031-e280703ea100",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "85bca62c-6d71-39a1-b1bf-b9d1fb71067f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "4e86f90e-3137-3350-ac36-87f5a0f9fa32",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                    "id" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                    "name" : "Remove Response body to root level",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "5f43c196-0ef7-3157-8f16-3876c0f5a9de",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -240.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "45fb5103-88d2-3e30-a02e-bc234b504610",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1712.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "092edca7-364c-347d-bde4-be08f872e115",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "2ae5b904-2f98-3c95-bf2a-51a1cabcbdbb",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                      "id" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                      "name" : "Log Error Message",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                    "name" : "input",
                    "position" : {
                      "x" : 576.0,
                      "y" : 224.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Clear Flow File Contents",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                    "name" : "output",
                    "position" : {
                      "x" : 576.0,
                      "y" : 1048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 728.0,
                    "y" : 144.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                    "name" : "Set content type to Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 744.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "text/plain",
                      "Content-Type" : "text/plain"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "NONE",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "779689af-d6e9-37b0-a3a6-63ea8c36b474",
                    "name" : "Log Error Message",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 992.0,
                      "y" : 752.0
                    },
                    "properties" : {
                      "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                      "log-level" : "warn",
                      "log-prefix" : "Interop FHIR Adapter - "
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "48357d06-98ec-3bdb-99d4-fc7bf76c1b30",
                    "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                    "name" : "Clear Flow File Contents",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 480.0
                    },
                    "properties" : {
                      "Regular Expression" : ".",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Always Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "69b115bd-cea4-3613-bec5-e0db5f5100e5",
                  "name" : "Put Response body attribute to content",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "d4cac1df-6996-32f8-9031-e280703ea100",
                  "name" : "Route on api failure",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "0fe0a8ac-1ecb-35ff-a2fc-a3298fb6a645",
                  "identifier" : "dc1fa5ea-44ae-3eda-9f6f-ae013d57c708",
                  "name" : "Remove Response body to root level",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "9af47152-8ac7-32d6-b11c-06e08ea5b771",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "6e62490e-64ea-3714-8e56-2efde00037bd",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "copy" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                    "name" : "split into flow files for messages",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "09959561-6b6d-36be-8258-dca352e135dc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "d1cb4a07-3d6e-3b1e-a318-b993c338d625",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                    "name" : "Route Copy for abort indication",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "aa04725b-82fb-34cb-844d-9302068e3737",
                    "name" : "PutDistributedMapCache",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "a012f2c2-10ca-3c1e-aaa6-8e9843c02ab1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                    "id" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                    "name" : "Set Abort flag",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "2d8a4ed1-cdb1-306a-9b65-bdaadbe1aa2c",
                  "name" : "Input",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 24.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "3f9ebf21-d750-332d-b393-53fc0f4a4a48",
                  "name" : "Output",
                  "position" : {
                    "x" : 1008.0,
                    "y" : 736.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1208.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "aa04725b-82fb-34cb-844d-9302068e3737",
                  "name" : "PutDistributedMapCache",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 696.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "abort-${batchId}",
                    "Cache update strategy" : "keeporiginal",
                    "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                    "Max cache entry size" : "1 MB"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Cache update strategy" : {
                      "displayName" : "Cache update strategy",
                      "identifiesControllerService" : false,
                      "name" : "Cache update strategy",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max cache entry size" : {
                      "displayName" : "Max cache entry size",
                      "identifiesControllerService" : false,
                      "name" : "Max cache entry size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "9724d442-6e30-3de3-b4a7-4ed6f1821318",
                  "name" : "Set Abort flag",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1664.0,
                    "y" : 424.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${invokehttp.status.code}: ${invokehttp.status.message}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Duplicates the flow file so that each duplicate (and the original) can become a flow file for a generated and unique FHIR resource.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "54951b5c-4b24-3a91-a585-0106f2a51434",
                  "name" : "split into flow files for messages",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 224.0
                  },
                  "properties" : {
                    "Number of Copies" : "1"
                  },
                  "propertyDescriptors" : {
                    "Number of Copies" : {
                      "displayName" : "Number of Copies",
                      "identifiesControllerService" : false,
                      "name" : "Number of Copies",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Determines the type of FHIR resource to create.\n\nThe logic here looks at the modulus of 'copy.index', which was set by the preceding duplicate flow file processor.  Each type of flow file will be generated in equal amounts.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "a5d78bb0-c3d5-3927-af80-c399a00e2f34",
                  "identifier" : "5c381a17-b906-3965-ac96-e3e7da525b84",
                  "name" : "Route Copy for abort indication",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 952.0,
                    "y" : 432.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "original" : "${copy.index:equals(0)}",
                    "copy" : "${copy.index:equals(1)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "original" : {
                      "displayName" : "original",
                      "identifiesControllerService" : false,
                      "name" : "original",
                      "sensitive" : false
                    },
                    "copy" : {
                      "displayName" : "copy",
                      "identifiesControllerService" : false,
                      "name" : "copy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "bb547ea5-b1bb-3e6b-913c-ebb3d3fa664f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "8cba466d-00a2-3a6f-9e05-e4ec56e95b02",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "6b22f672-8c92-3790-86aa-8b6afbe64038",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "2e5b17f7-efd0-3840-a49d-c9827664451d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "providerDirectory" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                    "name" : "Response",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "f97a323d-e015-3e2f-b388-18ab6117f6d6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                    "name" : "No Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "0ed34676-4694-3ea7-a971-cc32680cade6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "c04e69a2-44ed-3b20-8b78-4d633513bf6b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                    "name" : "Failure",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cd813c78-d41f-31fe-b28b-edfa54cf3001",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a50d4b00-9275-3a79-8bce-9b23fb45ae78",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                    "name" : "Is Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "22619f7a-b61f-39ed-9d20-7baef864fc71",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                    "name" : "PUT Resource to FHIR Provider Directory",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                    "name" : "Retry",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a0acf3a2-558e-38f2-b5e8-fc98b84003e1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                    "id" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                    "name" : "PUT Resource to FHIR Patient Access",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cd4f272d-f19c-3661-827d-15aa5163db8b",
                  "name" : "input",
                  "position" : {
                    "x" : 1448.0,
                    "y" : -344.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Put Resource to FHIR server",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "9615a29a-260d-3ba7-8fe0-86d5180b9287",
                  "name" : "Response",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 152.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "180f8656-80ab-3d74-bd0c-856678d61fab",
                  "name" : "Failure",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 416.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "e7240313-52bf-3750-9e78-0acdfab68bcf",
                  "name" : "Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 536.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "cb7b4b25-9848-3697-822b-eca3e87ce2a0",
                  "name" : "No Retry",
                  "position" : {
                    "x" : 1456.0,
                    "y" : 288.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                "position" : {
                  "x" : 1008.0,
                  "y" : 272.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "f5ee7611-1236-31ff-be13-4e9a97a50b4a",
                  "name" : "Is Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1392.0,
                    "y" : -152.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "providerDirectory" : "${kafka.topic:getDelimitedField(4,'.'):toLower():startsWith('provider_directory')}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "providerDirectory" : {
                      "displayName" : "providerDirectory",
                      "identifiesControllerService" : false,
                      "name" : "providerDirectory",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 12,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "a4f8af16-4e9b-3452-b149-f2ced90d65c1",
                  "name" : "PUT Resource to FHIR Provider Directory",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2112.0,
                    "y" : 248.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=OperationOutcome",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}/${resourceType}/${resourceId}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "PUT",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 12,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "3901418d-7ae2-3dc8-8f2f-75aff5b815b6",
                  "identifier" : "33c0fd7f-c450-3965-a077-bfb34b500e9c",
                  "name" : "PUT Resource to FHIR Patient Access",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 736.0,
                    "y" : 240.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Prefer" : "return=OperationOutcome",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "true",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Put Response Body In Attribute" : "responseBody",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}/${resourceType}/${resourceId}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "2048",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "PUT",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "X-FHIR-TENANT-ID" : "${tenant}"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Prefer" : {
                      "displayName" : "Prefer",
                      "identifiesControllerService" : false,
                      "name" : "Prefer",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "X-FHIR-TENANT-ID" : {
                      "displayName" : "X-FHIR-TENANT-ID",
                      "identifiesControllerService" : false,
                      "name" : "X-FHIR-TENANT-ID",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "904af047-ada3-3c84-8d08-de4f916b6984",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "c8357fae-1251-3275-8078-97f8f86225b1",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "95b8e53b-0390-3a27-983b-ed162e7b1901",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "2838d0f1-d2fa-35ad-95da-407feadda81a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "304df572-c03a-3141-b480-26ad16ca7912",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                    "name" : "Prepend FHIR Server to message",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                    "name" : "Set Message to error code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "8b575915-8f4f-3cfe-8548-3c5cffaf54ad",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "empty" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                    "id" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                    "name" : "invokehttp.status.message empty?",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "c8357fae-1251-3275-8078-97f8f86225b1",
                  "name" : "Input",
                  "position" : {
                    "x" : 608.0,
                    "y" : 768.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Prepend FHIR Server to Message",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "2a8733c6-b848-35a2-bfa0-ea5d6769e34a",
                  "name" : "Output",
                  "position" : {
                    "x" : 608.0,
                    "y" : 1920.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1000.0,
                  "y" : 928.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "f5546607-65b9-397e-a46d-35fc32b3d822",
                  "name" : "Set Message to error code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 224.0,
                    "y" : 1320.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "Error ${invokehttp.status.code}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "47d6379c-8cbc-3f6e-b300-5cd187be28b9",
                  "name" : "invokehttp.status.message empty?",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 554.1134884078572,
                    "y" : 1032.3405373113083
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "empty" : "${invokehttp.status.message:isEmpty()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "empty" : {
                      "displayName" : "empty",
                      "identifiesControllerService" : false,
                      "name" : "empty",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8cd5c66b-71c4-323c-9d30-746eab85b4ce",
                  "identifier" : "9a9a1919-fcae-3e3e-8ea1-f3bf6f538835",
                  "name" : "Prepend FHIR Server to message",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 552.0,
                    "y" : 1632.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "invokehttp.status.message" : "FHIR Server - ${invokehttp.status.message}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "invokehttp.status.message" : {
                      "displayName" : "invokehttp.status.message",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp.status.message",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "ae4c8fe1-0ec3-387e-946f-69956978f42b",
                "name" : "Check 401 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "401Error" : "${invokehttp.status.code:equals('401')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "401Error" : {
                    "displayName" : "401Error",
                    "identifiesControllerService" : false,
                    "name" : "401Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "59818383-04cf-3170-9949-49ff171e76a3",
                "name" : "Add Tag to Resource",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1024.0,
                  "y" : 0.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n/**\n * For \"Add Tag to Resource\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\" >> \"Put Resources to FHIR\"\n *\n * Adds the batchid tag in the FHIR Resource's metadata if the FHIRResourceTag is set.\n */\nclass AddTagToSingleResource extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n        .name(\"success\")\n        .description(\"If the resource was successfully updated it will be routed to this relationship\")\n        .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n            .name(\"failure\")\n            .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n            .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null;\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile;\n        }\n\n        void process(  InputStream instream,  OutputStream outstream ) throws IOException {\n            def jsonSlurper = new JsonSlurper()\n            def inputFHIRResource = jsonSlurper.parse(instream, \"UTF-8\")\n            def CODE_SYSTEM=\"http://ibm.com/fhir/cdm/StructureDefinition/ingestion-batch-id\"\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n\n            // If the fhirResourceTag attribute is set, add it to the metadata of the resource.\n            if (fhirResourceTag != null ) {\n                def fhirTag=[system:CODE_SYSTEM,code:fhirResourceTag]\n\n                // create 'meta' element if is doesn't exist\n                // NOTE: this appends property 'meta' to end of list. (least expensive option)\n                inputFHIRResource.putIfAbsent(\"meta\", [:] )\n\n                // Create empty tag array if it doesn't exist.\n                def metaMap = inputFHIRResource.meta\n                metaMap.putIfAbsent(\"tag\", [] )\n\n                def tagArray = metaMap.get(\"tag\")\n\n                // search for an existing entry with same CODE_SYSTEM\n                def existingEntry = tagArray.find { tagArrayEntry -> tagArrayEntry.system==CODE_SYSTEM }\n                if ( ! existingEntry ) {\n                    // NOT FOUND - add a new entry to tagArray\n                    tagArray.add(fhirTag)\n                } else {\n                    // There was an array entry for our code system - set value\n                    existingEntry.code=fhirResourceTag\n                }\n\n            }\n\n            def output_json_string = JsonOutput.toJson(inputFHIRResource)\n            outstream.write( output_json_string.getBytes(StandardCharsets.UTF_8))\n\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback(aFlowFile))\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (final Throwable t) {\n                getLogger().error('{} failed to process due to {}', [this, t] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new AddTagToSingleResource()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "348f079e-5c0a-343f-b1f6-db941a2a59ab",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1016.0,
                  "y" : 640.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postSingleFhirResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "d157d865-6e10-3be7-9718-ce902685dc89",
                "name" : "Check 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1496.0,
                  "y" : 632.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "404Error" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "37f32657-fd4b-38b4-b2d4-45650fbcbabb",
                "name" : "Filter 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 896.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "10e7e10d-26a6-3e64-9691-3e562929e7a1",
                "name" : "Check For Abort",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 384.0,
                  "y" : 448.0
                },
                "properties" : {
                  "Cache Entry Identifier" : "abort-${batchId}",
                  "Put Cache Value In Attribute" : "abortedReason",
                  "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
                  "Max Length To Put In Attribute" : "256",
                  "Character Set" : "UTF-8"
                },
                "propertyDescriptors" : {
                  "Cache Entry Identifier" : {
                    "displayName" : "Cache Entry Identifier",
                    "identifiesControllerService" : false,
                    "name" : "Cache Entry Identifier",
                    "sensitive" : false
                  },
                  "Put Cache Value In Attribute" : {
                    "displayName" : "Put Cache Value In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Cache Value In Attribute",
                    "sensitive" : false
                  },
                  "Distributed Cache Service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "Distributed Cache Service",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "10a96b24-cb38-3530-a48e-72869095df84",
                "name" : "Route on OO response",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1880.0,
                  "y" : 296.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n    ${invokehttp.status.code:equals('422'):or(\n        ${invokehttp.status.code:startsWith('2'):and(\n            ${invokehttp.status.code:length():equals(3)}\n        )}\n    )}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "codesWithOperationOutcomes" : {
                    "displayName" : "codesWithOperationOutcomes",
                    "identifiesControllerService" : false,
                    "name" : "codesWithOperationOutcomes",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "e8054e4b-caa4-33e3-8e1e-b662bffd22a5",
                "name" : "Set 401 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1536.0,
                  "y" : 1512.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "FHIR Server - Not Authorized"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "fda07689-f3fa-3aef-8e4e-375c0d3ac1c8",
                "name" : "Set 404 message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1496.0,
                  "y" : 872.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "invokehttp.status.message" : "Not Found"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "invokehttp.status.message" : {
                    "displayName" : "invokehttp.status.message",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp.status.message",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "55667068-f0ac-36b9-8efd-61e220b02ad4",
                "name" : "Log Retry Failure",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 1232.0
                },
                "properties" : {
                  "Log prefix" : "Interop FHIR Adapter - unable to retry PUT to FHIR Server",
                  "character-set" : "UTF-8",
                  "Log Level" : "error",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "true"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "0fe7e9a4-ce0b-3099-9939-d2f78ff16353",
                "identifier" : "7948e0f3-1214-364f-baaa-31eb5bedf8b9",
                "name" : "Handle FHIR + Json Content Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 2312.0,
                  "y" : 920.0
                },
                "properties" : {
                  "Script Engine" : "Groovy",
                  "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Handle FHIR + Json Content Type\" processor\n *\n * Utility script that sets the mime and content type attribute to json if it is set to fhir+json.\n * This enables the viewer in NiFi to recognize the type and render the json properly for easy viewing.\n */\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n    def attributeList=['Content-Type','content-type','Mime.Type','mime.type']\n    attributeList.each { attrName ->\n        attr = flowFile.getAttribute(attrName)\n        if ( attr != null ) {\n            session.putAttribute(flowFile, attrName, attr.replace(\"fhir+json\",\"json\"))\n        }\n    }\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                  "name" : "Log Error Message",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "1be660ea-8304-3847-a293-a8fbfb9d19ab",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "e03644d4-1547-390c-8119-c83be4f120d5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                  "name" : "Clear Flow File Contents",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "7078a002-0a7b-3596-8ab0-540fa4605c50",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "83b0767b-00df-37ad-a9f4-5ab6fef46107",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "092edca7-364c-347d-bde4-be08f872e115",
                  "name" : "Set content type to Text",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "d52824fe-ad22-37d9-96b8-ee874615c15f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                  "id" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                  "name" : "Log Error Message",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "2633157d-c82f-31fd-a286-b34f65cd2243",
                "name" : "input",
                "position" : {
                  "x" : 576.0,
                  "y" : 224.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Clear Flow File Contents",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "295a22df-adff-3855-a3e2-f9695614c5b8",
                "name" : "output",
                "position" : {
                  "x" : 576.0,
                  "y" : 1048.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 3024.0,
                "y" : -712.0
              },
              "processGroups" : [ ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "NONE",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "d6dbb588-b0a5-37d7-8602-5ff6d7b7ede2",
                "name" : "Log Error Message",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 992.0,
                  "y" : 752.0
                },
                "properties" : {
                  "log-message" : "Unable to clear flowfile content: ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                  "log-level" : "warn",
                  "log-prefix" : "Interop FHIR Adapter - "
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "092edca7-364c-347d-bde4-be08f872e115",
                "name" : "Set content type to Text",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 744.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "mime.type" : "text/plain",
                  "Content-Type" : "text/plain"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "mime.type" : {
                    "displayName" : "mime.type",
                    "identifiesControllerService" : false,
                    "name" : "mime.type",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "183d0a1a-9e20-3f48-a228-b166fd9fd53e",
                "identifier" : "09f6112c-5675-3241-b2cc-9523e7026a2c",
                "name" : "Clear Flow File Contents",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 480.0
                },
                "properties" : {
                  "Regular Expression" : ".",
                  "Replacement Value" : "",
                  "Evaluation Mode" : "Entire text",
                  "Line-by-Line Evaluation Mode" : "All",
                  "Character Set" : "UTF-8",
                  "Maximum Buffer Size" : "1 MB",
                  "Replacement Strategy" : "Always Replace"
                },
                "propertyDescriptors" : {
                  "Regular Expression" : {
                    "displayName" : "Search Value",
                    "identifiesControllerService" : false,
                    "name" : "Regular Expression",
                    "sensitive" : false
                  },
                  "Replacement Value" : {
                    "displayName" : "Replacement Value",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Value",
                    "sensitive" : false
                  },
                  "Evaluation Mode" : {
                    "displayName" : "Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Evaluation Mode",
                    "sensitive" : false
                  },
                  "Line-by-Line Evaluation Mode" : {
                    "displayName" : "Line-by-Line Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Line-by-Line Evaluation Mode",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  },
                  "Maximum Buffer Size" : {
                    "displayName" : "Maximum Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Buffer Size",
                    "sensitive" : false
                  },
                  "Replacement Strategy" : {
                    "displayName" : "Replacement Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.ReplaceText",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "Groovy script that checks the invokehttp.status.message and set the invokehttp.status.code accordingly.",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "16f4b12f-4311-31ac-95cb-6f2642439f72",
              "name" : "Set HTTP Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2104.0,
                "y" : 312.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport org.apache.nifi.flowfile.FlowFile\n\n/**\n * For \"Set HTTP Message\" processor in \"Send to FHIR and Post Errors\" >> \"Save To FHIR\"\n *\n * Sets the invokehttp.status.message attribute to a default message for a code if the message is not set.\n */\n\nstatusMessageAttributeName = \"invokehttp.status.message\"\ncodeMap = [\n        '200': \"OK\",\n        '201': \"Created\",\n        '400': \"Bad Request\",\n        '401': \"Not Authorized\",\n        '404': \"Not Found\",\n        '422': \"Unprocessable Entity\"\n]\n\ndef flowFiles = session.get(100)\nflowFiles.each { flowFile ->\n\n    def originalStatusMessage = flowFile.getAttribute( statusMessageAttributeName)\n\n    if ( originalStatusMessage == null || originalStatusMessage == \"\" )\n    {\n        def httpStatusCode = flowFile.getAttribute(\"invokehttp.status.code\")\n\n        def codeMessage = codeMap.get(httpStatusCode)\n        if ( codeMessage != null )\n        {\n            session.putAttribute(flowFile, statusMessageAttributeName, codeMessage )\n        }\n    }\n\n    session.transfer(flowFile, REL_SUCCESS)\n}\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "f56270e6-a6e6-37b4-aad1-648d032ee141",
              "name" : "FHIR Store Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2768.0,
                "y" : 8.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "FHIR Storage Failed",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\", \"${invokehttp.status.code}\": \"${invokehttp.status.message}\""
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "d1916780-8f19-3032-958c-2fd5937fb550",
              "name" : "Log Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3040.0,
                "y" : -320.0
              },
              "properties" : {
                "log-message" : "${errorType}: ${errorMessage}",
                "log-level" : "error",
                "log-prefix" : "Interop FHIR Adapter - "
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "d2be86d5-8d3e-3f03-9917-c857abb46d2b",
              "name" : "Bundle or other resource type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -272.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "bundle" : "${resourceType:equals('Bundle')}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "bundle" : {
                  "displayName" : "bundle",
                  "identifiesControllerService" : false,
                  "name" : "bundle",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "a90036ed-91ce-3b63-8b3f-e15e9d3f6ff1",
              "name" : "Error getting type or id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2424.0,
                "y" : -520.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Resource id or type not set",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\"",
                "invokehttp.status.message" : "Resource id or type not set"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "41528cfe-8d15-30db-9d20-661a6500bdd2",
              "name" : "Set Attributes",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -904.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "integratorId" : "${kafka.topic:getDelimitedField(3,'.')}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "integratorId" : {
                  "displayName" : "integratorId",
                  "identifiesControllerService" : false,
                  "name" : "integratorId",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "bf7f7587-11cc-36af-818c-34dd51477815",
              "name" : "Route on api success code",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2760.0,
                "y" : 312.0
              },
              "properties" : {
                "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                "Routing Strategy" : "Route to Property name"
              },
              "propertyDescriptors" : {
                "api_success" : {
                  "displayName" : "api_success",
                  "identifiesControllerService" : false,
                  "name" : "api_success",
                  "sensitive" : false
                },
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "8b06af10-80a3-3365-a440-bfdb96bd9774",
              "name" : "Invalid Json Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2416.0,
                "y" : -792.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Invalid JSON",
                "errorMessage" : "File: \"${filename}\"",
                "invokehttp.status.message" : "Invalid JSON"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "a3a6c9c8-c0c3-3f31-b686-e68ab7ebe2cc",
              "name" : "Null check for Resource Type or Id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -480.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "isNull" : "${resourceType:isEmpty():or(${resourceId:isEmpty()})}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "isNull" : {
                  "displayName" : "isNull",
                  "identifiesControllerService" : false,
                  "name" : "isNull",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "19c8d629-a66d-39cf-afcc-5b4d96591acc",
              "name" : "Has Warnings?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2760.0,
                "y" : 600.0
              },
              "properties" : {
                "Content Buffer Size" : "1 MB",
                "hasWarnings" : "\"severity\":\\s*\"warning\"",
                "Match Requirement" : "content must contain match",
                "Character Set" : "UTF-8"
              },
              "propertyDescriptors" : {
                "Content Buffer Size" : {
                  "displayName" : "Content Buffer Size",
                  "identifiesControllerService" : false,
                  "name" : "Content Buffer Size",
                  "sensitive" : false
                },
                "hasWarnings" : {
                  "displayName" : "hasWarnings",
                  "identifiesControllerService" : false,
                  "name" : "hasWarnings",
                  "sensitive" : false
                },
                "Match Requirement" : {
                  "displayName" : "Match Requirement",
                  "identifiesControllerService" : false,
                  "name" : "Match Requirement",
                  "sensitive" : false
                },
                "Character Set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "Character Set",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnContent",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "unmatched" ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "e57da404-28e9-3806-89dc-752b5761d177",
              "identifier" : "b0172fa5-2d60-34da-add2-53c7a2e69daa",
              "name" : "Retrieve Resource Id and Type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -696.0
              },
              "properties" : {
                "Destination" : "flowfile-attribute",
                "resourceId" : "$.id",
                "Return Type" : "auto-detect",
                "Null Value Representation" : "empty string",
                "Path Not Found Behavior" : "warn",
                "resourceType" : "$.resourceType"
              },
              "propertyDescriptors" : {
                "Destination" : {
                  "displayName" : "Destination",
                  "identifiesControllerService" : false,
                  "name" : "Destination",
                  "sensitive" : false
                },
                "resourceId" : {
                  "displayName" : "resourceId",
                  "identifiesControllerService" : false,
                  "name" : "resourceId",
                  "sensitive" : false
                },
                "Return Type" : {
                  "displayName" : "Return Type",
                  "identifiesControllerService" : false,
                  "name" : "Return Type",
                  "sensitive" : false
                },
                "Null Value Representation" : {
                  "displayName" : "Null Value Representation",
                  "identifiesControllerService" : false,
                  "name" : "Null Value Representation",
                  "sensitive" : false
                },
                "Path Not Found Behavior" : {
                  "displayName" : "Path Not Found Behavior",
                  "identifiesControllerService" : false,
                  "name" : "Path Not Found Behavior",
                  "sensitive" : false
                },
                "resourceType" : {
                  "displayName" : "resourceType",
                  "identifiesControllerService" : false,
                  "name" : "resourceType",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "d2fd16e8-b1eb-3e24-9c7d-5620e7a5b623",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "6b3b7769-8f5b-3d0a-86f8-d04931b5cddd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "34d7bd75-3041-304f-bb35-d2f32f3c07d6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success", "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "ffb04659-ded7-34b7-b059-28a666eb9126",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "d2fd16e8-b1eb-3e24-9c7d-5620e7a5b623",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "def4fee1-64db-3003-bbbc-33ca23ad3ea6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "748ee720-12cc-3032-961d-e593029984d8",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "ca385b5e-dd30-3353-947c-bf7b5569db91",
                "name" : "Kafka Post Failure",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "87a6d7b5-5035-3203-8d85-745f25fd26ab",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "291a187b-6fe5-3ddd-a980-3efba46f7b43",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "6db22765-83bc-356e-82c0-b7cc27db71be",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "7702df04-9c8b-3537-96b2-6e4e762a1c06",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "d2fd16e8-b1eb-3e24-9c7d-5620e7a5b623",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "f5b29472-3792-3a49-b00d-8357c1b49ea8",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "291a187b-6fe5-3ddd-a980-3efba46f7b43",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "748ee720-12cc-3032-961d-e593029984d8",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "82febb12-4a77-3d29-856d-2cad471f896b",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "ca385b5e-dd30-3353-947c-bf7b5569db91",
                "name" : "Kafka Post Failure",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "748ee720-12cc-3032-961d-e593029984d8",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "348a0ea3-8659-322b-933c-8878cccec5df",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 91.90096124963486,
                "y" : 1913.144754828182
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "d80d2d19-8a17-3c90-b2b5-a215f20cc914",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "contentEmpty" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
                "name" : "ContentEmpty and not Failure?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "bd77f8c5-667d-31ef-9d00-ea3cbf6f60e9",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "291a187b-6fe5-3ddd-a980-3efba46f7b43",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "76885439-dab7-3706-9846-ef26b13db0ec",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
                "id" : "6db22765-83bc-356e-82c0-b7cc27db71be",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "d8caca6b-f49d-3e14-ac87-33007a69b2db",
              "name" : "Input",
              "position" : {
                "x" : -24.0,
                "y" : 1032.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ {
              "componentType" : "LABEL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "height" : 32.0,
              "identifier" : "a509139a-59a0-3042-b2a7-cd4a55734db0",
              "label" : "Strip Information Groovy Class - caused issues during deploy.",
              "position" : {
                "x" : -568.0,
                "y" : 1216.0
              },
              "style" : {
                "font-size" : "12px"
              },
              "width" : 344.0
            }, {
              "componentType" : "LABEL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "height" : 72.0,
              "identifier" : "e2597023-a0d5-3402-ab2e-4dea306df7e6",
              "label" : "Expects the attribute resourceSavedStatus to be set to any of:\n- failure\n- success\n- warning",
              "position" : {
                "x" : 256.0,
                "y" : 1016.0
              },
              "style" : {
                "font-size" : "12px"
              },
              "width" : 400.0
            } ],
            "name" : "Build and Post Error Messages",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "0646899c-6749-3333-b6b1-11a3d43a1ad1",
              "name" : "Output",
              "position" : {
                "x" : 595.9009612496349,
                "y" : 2353.144754828182
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
            "position" : {
              "x" : 2200.0,
              "y" : 3016.0
            },
            "processGroups" : [ ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "2a420eec-49c4-339c-b29d-46e1980f10a7",
              "name" : "Strip Information Messages",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -80.0,
                "y" : 1240.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n/**\n * For \"Strip Information Messages\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Removes any informational messages that are returned from the FHIR server for this FHIR resource.\n * If there are no other messages remaining, the flow file is cleared out so no message is posted on the error topic.\n */\nList<FlowFile> flowFiles = session.get(100)\nif (flowFiles == null)\n    return\n\nfor (FlowFile aFlowFile : flowFiles) {\n    try {\n        aFlowFile = session.write(aFlowFile, new StreamCallback() {\n            @Override\n            void process(InputStream instream,  OutputStream outstream) throws IOException {\n                def inputText = instream.getText()\n\n                if (inputText != null && !inputText.isEmpty()) {\n                    def jsonSlurper = new JsonSlurper()\n                    def inputJson = null\n                    try {\n                        inputJson = jsonSlurper.parseText(inputText)\n                    } catch (Exception e) {\n                        // Not json, just return\n                        return\n                    }\n\n                    def clear = false\n\n                    def resourceType = inputJson.getAt(\"resourceType\")\n\n                    if (resourceType != null) {\n                        if (resourceType.equals(\"OperationOutcome\")) {\n                            // OO resource handling\n                            // Keep only issues that are not informational\n                            def issues = inputJson.getAt(\"issue\")\n                            if (issues != null) {\n                                def newIssues = []\n                                for (def anIssue : issues) {\n                                    def severity = anIssue.getAt(\"severity\")\n                                    if (severity != null && !severity.equals(\"information\")) {\n                                        newIssues.add(anIssue)\n                                    }\n                                }\n\n                                // If there are no messages left, set to flag to clear everything.\n                                if (newIssues.isEmpty())\n                                    clear = true\n                                else\n                                    inputJson.putAt(\"issue\", newIssues)\n                            } // If it is an OO, we will always expect an issues array (required in FHIR)\n                        } else if (resourceType.equals(\"Bundle\")) {\n                            // Bundle handling\n                            def entries = inputJson.getAt(\"entry\")\n\n                            if (entries != null) {\n                                def newEntries = []\n                                for (def anEntry : entries) {\n                                    def keepEntry = true\n                                    def resource = anEntry.getAt(\"resource\")\n\n                                    if (resource != null) {\n                                        def entryResourceType = resource.getAt(\"resourceType\")\n                                        if (entryResourceType != null && entryResourceType.equals(\"OperationOutcome\")) {\n                                            def issues = resource.getAt(\"issue\")\n\n                                            if (issues != null) {\n                                                def newIssues = []\n                                                for (def anIssue : issues) {\n                                                    def severity = anIssue.getAt(\"severity\")\n                                                    if (severity != null && !severity.equals(\"information\"))\n                                                        newIssues.add(anIssue)\n                                                }\n\n                                                // If there are no issues left, set to flag to remove entry.\n                                                if (newIssues.isEmpty())\n                                                    keepEntry = false\n                                                else\n                                                    resource.putAt(\"issue\", newIssues)\n                                            } // If it is an OO, we will always expect an issues array (required in FHIR)\n                                        }\n\n                                    } else\n                                        keepEntry = false\n\n                                    if (keepEntry)\n                                        newEntries.add(anEntry)\n                                } // end loop of entries\n\n                                if (newEntries.isEmpty())\n                                    clear = true\n                                else\n                                    inputJson.putAt(\"entry\", newEntries)\n                            } // end if entries != null\n                        } // end if bundle\n                    } // end if resource type != null\n\n                    // Write out the flowfile contents.\n                    if (clear) {\n                        outstream.write(\"\".getBytes(StandardCharsets.UTF_8))\n                    } else {\n                        outstream.write( JsonOutput.toJson(inputJson).getBytes(StandardCharsets.UTF_8))\n                    }\n                }\n            }\n        })\n\n        aFlowFile = session.putAttribute(aFlowFile, \"Content-Length\", \"\" + aFlowFile.getSize())\n        session.transfer(aFlowFile, REL_SUCCESS)\n    } catch (final Throwable t) {\n        getLogger().error('{} failed to process due to {}', [this, t] as Object[])\n        session.transfer(aFlowFile, REL_FAILURE)\n    }\n}\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-kafka-2-6-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "291a187b-6fe5-3ddd-a980-3efba46f7b43",
              "name" : "Publish Error/Warning to Kafka",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 536.0,
                "y" : 1912.0
              },
              "properties" : {
                "compression.type" : "none",
                "attribute-name-regex" : "batchId",
                "bootstrap.servers" : "#{kafka.brokers}",
                "kafka-key" : "${messageBatchId}",
                "sasl.mechanism" : "PLAIN",
                "max.block.ms" : "5 sec",
                "message-header-encoding" : "UTF-8",
                "ack.wait.time" : "5 secs",
                "sasl.username" : "#{kafka.auth.user}",
                "use-transactions" : "true",
                "acks" : "all",
                "security.protocol" : "PLAINTEXT",
                "max.request.size" : "1 MB",
                "sasl.token.auth" : "false",
                "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                "topic" : "${failureTopic}",
                "sasl.password" : "#{kafka.auth.password}",
                "key-attribute-encoding" : "utf-8"
              },
              "propertyDescriptors" : {
                "compression.type" : {
                  "displayName" : "Compression Type",
                  "identifiesControllerService" : false,
                  "name" : "compression.type",
                  "sensitive" : false
                },
                "attribute-name-regex" : {
                  "displayName" : "Attributes to Send as Headers (Regex)",
                  "identifiesControllerService" : false,
                  "name" : "attribute-name-regex",
                  "sensitive" : false
                },
                "bootstrap.servers" : {
                  "displayName" : "Kafka Brokers",
                  "identifiesControllerService" : false,
                  "name" : "bootstrap.servers",
                  "sensitive" : false
                },
                "sasl.kerberos.principal" : {
                  "displayName" : "Kerberos Principal",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.principal",
                  "sensitive" : false
                },
                "sasl.kerberos.service.name" : {
                  "displayName" : "Kerberos Service Name",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.service.name",
                  "sensitive" : false
                },
                "kerberos-credentials-service" : {
                  "displayName" : "Kerberos Credentials Service",
                  "identifiesControllerService" : true,
                  "name" : "kerberos-credentials-service",
                  "sensitive" : false
                },
                "kafka-key" : {
                  "displayName" : "Kafka Key",
                  "identifiesControllerService" : false,
                  "name" : "kafka-key",
                  "sensitive" : false
                },
                "partition" : {
                  "displayName" : "Partition",
                  "identifiesControllerService" : false,
                  "name" : "partition",
                  "sensitive" : false
                },
                "sasl.mechanism" : {
                  "displayName" : "SASL Mechanism",
                  "identifiesControllerService" : false,
                  "name" : "sasl.mechanism",
                  "sensitive" : false
                },
                "max.block.ms" : {
                  "displayName" : "Max Metadata Wait Time",
                  "identifiesControllerService" : false,
                  "name" : "max.block.ms",
                  "sensitive" : false
                },
                "message-header-encoding" : {
                  "displayName" : "Message Header Encoding",
                  "identifiesControllerService" : false,
                  "name" : "message-header-encoding",
                  "sensitive" : false
                },
                "message-demarcator" : {
                  "displayName" : "Message Demarcator",
                  "identifiesControllerService" : false,
                  "name" : "message-demarcator",
                  "sensitive" : false
                },
                "transactional-id-prefix" : {
                  "displayName" : "Transactional Id Prefix",
                  "identifiesControllerService" : false,
                  "name" : "transactional-id-prefix",
                  "sensitive" : false
                },
                "ack.wait.time" : {
                  "displayName" : "Acknowledgment Wait Time",
                  "identifiesControllerService" : false,
                  "name" : "ack.wait.time",
                  "sensitive" : false
                },
                "sasl.username" : {
                  "displayName" : "Username",
                  "identifiesControllerService" : false,
                  "name" : "sasl.username",
                  "sensitive" : false
                },
                "use-transactions" : {
                  "displayName" : "Use Transactions",
                  "identifiesControllerService" : false,
                  "name" : "use-transactions",
                  "sensitive" : false
                },
                "acks" : {
                  "displayName" : "Delivery Guarantee",
                  "identifiesControllerService" : false,
                  "name" : "acks",
                  "sensitive" : false
                },
                "security.protocol" : {
                  "displayName" : "Security Protocol",
                  "identifiesControllerService" : false,
                  "name" : "security.protocol",
                  "sensitive" : false
                },
                "ssl.context.service" : {
                  "displayName" : "SSL Context Service",
                  "identifiesControllerService" : true,
                  "name" : "ssl.context.service",
                  "sensitive" : false
                },
                "max.request.size" : {
                  "displayName" : "Max Request Size",
                  "identifiesControllerService" : false,
                  "name" : "max.request.size",
                  "sensitive" : false
                },
                "sasl.token.auth" : {
                  "displayName" : "Token Auth",
                  "identifiesControllerService" : false,
                  "name" : "sasl.token.auth",
                  "sensitive" : false
                },
                "partitioner.class" : {
                  "displayName" : "Partitioner class",
                  "identifiesControllerService" : false,
                  "name" : "partitioner.class",
                  "sensitive" : false
                },
                "sasl.kerberos.keytab" : {
                  "displayName" : "Kerberos Keytab",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.keytab",
                  "sensitive" : false
                },
                "topic" : {
                  "displayName" : "Topic Name",
                  "identifiesControllerService" : false,
                  "name" : "topic",
                  "sensitive" : false
                },
                "sasl.password" : {
                  "displayName" : "Password",
                  "identifiesControllerService" : false,
                  "name" : "sasl.password",
                  "sensitive" : true
                },
                "key-attribute-encoding" : {
                  "displayName" : "Key Attribute Encoding",
                  "identifiesControllerService" : false,
                  "name" : "key-attribute-encoding",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "227660fd-6d3d-3d95-ad93-ef75ec4a71b1",
              "name" : "ContentEmpty and not Failure?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -84.09903875036514,
                "y" : 1473.144754828182
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "contentEmpty" : "${Content-Length:equals(0):and(\n    ${resourceSavedStatus:equals(\"failure\"):not()}\n)}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "contentEmpty" : {
                  "displayName" : "contentEmpty",
                  "identifiesControllerService" : false,
                  "name" : "contentEmpty",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "983e8b05-c41b-3012-9ceb-06a7c1ae4fc4",
              "name" : "Error Message Build Failure",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1304.0,
                "y" : 1480.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "Error Message Build Failure",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\", ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "d2fd16e8-b1eb-3e24-9c7d-5620e7a5b623",
              "name" : "Build Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 536.0,
                "y" : 1488.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n/**\n * For \"Build Error Message\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Generates the json to post to the HRI error topic that includes details of the batch resource and error/warning messages.\n */\nclass BuildErrorMessage extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n            .name(\"success\")\n            .description(\"If the resource was successfully updated it will be routed to this relationship\")\n            .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n            .name(\"failure\")\n            .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n            .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n        private FlowFile theFlowFile = null;\n\n        public GroovyStreamCallback(FlowFile theFlowFile) {\n            super();\n            this.theFlowFile = theFlowFile;\n        }\n\n        void process(InputStream instream, OutputStream outstream) throws IOException {\n            def outputErrorMessage = [:]\n\n            // Source Batch Id\n            def sourceBatchId = this.theFlowFile.getAttribute(\"batchId\")\n            if (sourceBatchId)\n                outputErrorMessage.putAt(\"sourceBatchId\", sourceBatchId)\n\n            // Notification Batch Id\n            def notificationBatchId = this.theFlowFile.getAttribute(\"messageBatchId\")\n            if (notificationBatchId)\n                outputErrorMessage.putAt(\"notificationBatchId\", notificationBatchId)\n\n            // Batch Name\n            def batchName = this.theFlowFile.getAttribute(\"batchName\")\n            if (batchName)\n                outputErrorMessage.putAt(\"name\", batchName)\n\n            // DataType\n            def dataType = this.theFlowFile.getAttribute(\"dataType\")\n            if (dataType)\n                outputErrorMessage.putAt(\"dataType\", dataType)\n\n            // FHIR Resource id\n            def fhirResourceId = this.theFlowFile.getAttribute(\"resourceId\")\n            if (fhirResourceId)\n                outputErrorMessage.putAt(\"fhirResourceId\", fhirResourceId)\n\n            // FHIR Resource Type\n            def fhirResourceType = this.theFlowFile.getAttribute(\"resourceType\")\n            if (fhirResourceType)\n                outputErrorMessage.putAt(\"fhirResourceType\", fhirResourceType)\n\n            // Bundle Resource id\n            def bundleResourceId = this.theFlowFile.getAttribute(\"bundleId\")\n            if (bundleResourceId)\n                outputErrorMessage.putAt(\"bundleResourceId\", bundleResourceId)\n\n            // Bundle Entry Index\n            def bundleEntryIndex = this.theFlowFile.getAttribute(\"fragment.index\")\n            if (bundleEntryIndex)\n                outputErrorMessage.putAt(\"bundleEntryIndex\", bundleEntryIndex)\n\n            // Adapter name\n            outputErrorMessage.putAt(\"adapterName\", \"Interop FHIR Adapter\")\n\n            // FHIR Resource Tag\n            def fhirResourceTag = this.theFlowFile.getAttribute(\"FHIRResourceTag\")\n            if (fhirResourceTag)\n                outputErrorMessage.putAt(\"fhirResourceTag\", fhirResourceTag)\n\n            // Status Code\n            def statusCode = this.theFlowFile.getAttribute(\"invokehttp.status.code\")\n            if (statusCode)\n                outputErrorMessage.putAt(\"statusCode\", statusCode)\n\n            // Status Message\n            def statusMessage = this.theFlowFile.getAttribute(\"invokehttp.status.message\")\n            if (statusMessage)\n                outputErrorMessage.putAt(\"statusMessage\", statusMessage)\n\n            // Add the Error details if any\n            def inputText = instream.getText()\n            if (inputText) {\n                def jsonSlurper = new JsonSlurper()\n                def inputJson = jsonSlurper.parseText(inputText)\n\n                outputErrorMessage.putAt(\"errorDetails\", inputJson)\n            }\n\n            outstream.write( JsonOutput.toJson(outputErrorMessage).getBytes(StandardCharsets.UTF_8))\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback(aFlowFile))\n                aFlowFile = session.putAttribute(aFlowFile, \"mime.type\", \"application/json\")\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (final Throwable t) {\n                getLogger().error('{} failed to process due to {}', [this, t] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new BuildErrorMessage()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "5dbf4665-b39c-31b9-b2c3-0028c1f11225",
              "name" : "Strip Information Messages",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -576.0,
                "y" : 1264.0
              },
              "properties" : {
                "Script Engine" : "Groovy",
                "Script Body" : "/*\n * IBM Confidential\n * OCO Source Materials\n *\n * (c) Copyright IBM Corp. 2020\n *\n * The source code for this program is not published or otherwise divested\n * of its trade secrets, irrespective of what has been deposited with the\n * U.S. Copyright Office.\n *\n */\n\nimport groovy.json.JsonOutput\nimport groovy.json.JsonSlurper\nimport org.apache.nifi.flowfile.FlowFile\nimport org.apache.nifi.processor.AbstractProcessor\nimport org.apache.nifi.processor.ProcessContext\nimport org.apache.nifi.processor.ProcessSession\nimport org.apache.nifi.processor.Relationship\nimport org.apache.nifi.processor.exception.ProcessException\nimport org.apache.nifi.processor.io.StreamCallback\nimport java.nio.charset.StandardCharsets\n\n/**\n * For \"Strip Information Messages\" processor in \"Send to FHIR and Post Errors\" >> \"Build and Post Error Messages\"\n *\n * Removes any informational messages that are returned from the FHIR server for this FHIR resource.\n * If there are no other messages remaining, the flow file is cleared out so no message is posted on the error topic.\n */\nclass StripInformationalMessages extends AbstractProcessor {\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n        .name(\"success\")\n        .description(\"If the resource was successfully updated it will be routed to this relationship\")\n        .build()\n\n    public static final Relationship REL_FAILURE = new Relationship.Builder()\n            .name(\"failure\")\n            .description(\"If the resource was not able to be updated, the FlowFile will be penalized and routed to this relationship\")\n            .build()\n\n    @Override\n    Set<Relationship> getRelationships() {\n        [REL_SUCCESS, REL_FAILURE] as Set\n    }\n\n    /**\n     * Class that handles adding the resource tag\n     */\n    class GroovyStreamCallback extends StreamCallback {\n\n        @Override\n        void process(InputStream instream,  OutputStream outstream) throws IOException {\n            def inputText = instream.getText()\n\n            if (inputText != null && !inputText.isEmpty()) {\n                def jsonSlurper = new JsonSlurper()\n                def inputJson = null\n                try {\n                    inputJson = jsonSlurper.parseText(inputText)\n                } catch (Exception e) {\n                    // Not json, just return\n                    return\n                }\n\n                def clear = false\n\n                def resourceType = inputJson.getAt(\"resourceType\")\n\n                if (resourceType != null) {\n                    if (resourceType.equals(\"OperationOutcome\")) {\n                        // OO resource handling\n                        // Keep only issues that are not informational\n                        def issues = inputJson.getAt(\"issue\")\n                        if (issues != null) {\n                            def newIssues = []\n                            for (def anIssue : issues) {\n                                def severity = anIssue.getAt(\"severity\")\n                                if (severity != null && !severity.equals(\"information\")) {\n                                    newIssues.add(anIssue)\n                                }\n                            }\n\n                            // If there are no messages left, set to flag to clear everything.\n                            if (newIssues.isEmpty())\n                                clear = true\n                            else\n                                inputJson.putAt(\"issue\", newIssues)\n                        } // If it is an OO, we will always expect an issues array (required in FHIR)\n                    } else if (resourceType.equals(\"Bundle\")) {\n                        // Bundle handling\n                        def entries = inputJson.getAt(\"entry\")\n\n                        if (entries != null) {\n                            def newEntries = []\n                            for (def anEntry : entries) {\n                                def keepEntry = true\n                                def resource = anEntry.getAt(\"resource\")\n\n                                if (resource != null) {\n                                    def entryResourceType = resource.getAt(\"resourceType\")\n                                    if (entryResourceType != null && entryResourceType.equals(\"OperationOutcome\")) {\n                                        def issues = resource.getAt(\"issue\")\n\n                                        if (issues != null) {\n                                            def newIssues = []\n                                            for (def anIssue : issues) {\n                                                def severity = anIssue.getAt(\"severity\")\n                                                if (severity != null && !severity.equals(\"information\")) {\n                                                    newIssues.add(anIssue)\n                                                }\n                                            }\n\n                                            // If there are no issues left, set to flag to remove entry.\n                                            if (newIssues.isEmpty())\n                                                keepEntry = false\n                                            else\n                                                resource.putAt(\"issue\", newIssues)\n                                        } // If it is an OO, we will always expect an issues array (required in FHIR)\n                                    }\n\n                                } else {\n                                    keepEntry = false\n                                }\n\n                                if (keepEntry) {\n                                    newEntries.add(anEntry)\n                                }\n\n                            } // end loop of entries\n\n                            if (newEntries.isEmpty()) {\n                                clear = true\n                            } else {\n                                inputJson.putAt(\"entry\", newEntries)\n                            }\n                        } // end if entries != null\n                    } // end if bundle\n                } // end if resource type != null\n\n                // Write out the flowfile contents.\n                if (clear) {\n                    outstream.write(\"\".getBytes(StandardCharsets.UTF_8))\n                } else {\n                    def output_json_string = JsonOutput.toJson(inputJson)\n                    outstream.write( output_json_string.getBytes(StandardCharsets.UTF_8))\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onTrigger(ProcessContext context, ProcessSession session) throws ProcessException {\n        List<FlowFile> flowFiles = session.get(100)\n        if (flowFiles == null) {\n            return\n        }\n\n        for (FlowFile aFlowFile : flowFiles) {\n            try {\n                aFlowFile = session.write(aFlowFile, new GroovyStreamCallback())\n                aFlowFile = session.putAttribute(aFlowFile, \"Content-Length\", \"\" + aFlowFile.getSize())\n                session.transfer(aFlowFile, REL_SUCCESS)\n            } catch (final Throwable t) {\n                getLogger().error('{} failed to process due to {}', [this, t] as Object[])\n                session.transfer(aFlowFile, REL_FAILURE)\n            }\n        }\n    }\n}\n\nprocessor = new StripInformationalMessages()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "DISABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.InvokeScriptedProcessor",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "ca385b5e-dd30-3353-947c-bf7b5569db91",
              "name" : "Kafka Post Failure",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1011.9009612496349,
                "y" : 2097.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "Kafka Post Failure of Error/Warning",
                "errorMessage" : "ResourceType: \"${resourceType}\", ResourceId: \"${resourceId}\", File: \"${filename}\", ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "748ee720-12cc-3032-961d-e593029984d8",
              "name" : "Log Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1304.0,
                "y" : 2312.0
              },
              "properties" : {
                "log-message" : "${errorType}: ${errorMessage}",
                "log-level" : "error",
                "log-prefix" : "Interop FHIR Adapter - "
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "575ab8a1-7934-3faf-9f74-73af85fc5578",
              "identifier" : "6db22765-83bc-356e-82c0-b7cc27db71be",
              "name" : "Set Batch Id to Outgoing message batch",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 539.9009612496349,
                "y" : 1697.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "batchId" : "${messageBatchId}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "batchId" : {
                  "displayName" : "batchId",
                  "identifiesControllerService" : false,
                  "name" : "batchId",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "b35f95b4-cdde-3ff5-bc3a-84359f213aa4",
            "name" : "Set To Failure",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2689.6001121933286,
              "y" : 2730.3416045586573
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "failure"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "72c73d1f-2faf-3d20-95a4-60d19bd31d6b",
            "name" : "Set To Warning",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2225.6001121933286,
              "y" : 2730.3416045586573
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "warning"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "unmatched" ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "9b6ad773-3baa-370b-8412-fde9c1fb9480",
            "name" : "Is Successful",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2217.6001121933286,
              "y" : 3322.3416045586573
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "failure" : "${resourceSavedStatus:equals(\"failure\")}",
              "success" : "${resourceSavedStatus:equals(\"success\")}",
              "warning" : "${resourceSavedStatus:equals(\"warning\")}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "failure" : {
                "displayName" : "failure",
                "identifiesControllerService" : false,
                "name" : "failure",
                "sensitive" : false
              },
              "success" : {
                "displayName" : "success",
                "identifiesControllerService" : false,
                "name" : "success",
                "sensitive" : false
              },
              "warning" : {
                "displayName" : "warning",
                "identifiesControllerService" : false,
                "name" : "warning",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 2,
            "executionNode" : "ALL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "f7b2a72a-4817-36c9-bf03-187b9b2c0679",
            "name" : "Check For Abort",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 2225.6001121933286,
              "y" : 2170.3416045586573
            },
            "properties" : {
              "Cache Entry Identifier" : "abort-${batchId}",
              "Put Cache Value In Attribute" : "abortedReason",
              "Distributed Cache Service" : "c9ce338e-9976-376b-a24d-4bb8acad6473",
              "Max Length To Put In Attribute" : "256",
              "Character Set" : "UTF-8"
            },
            "propertyDescriptors" : {
              "Cache Entry Identifier" : {
                "displayName" : "Cache Entry Identifier",
                "identifiesControllerService" : false,
                "name" : "Cache Entry Identifier",
                "sensitive" : false
              },
              "Put Cache Value In Attribute" : {
                "displayName" : "Put Cache Value In Attribute",
                "identifiesControllerService" : false,
                "name" : "Put Cache Value In Attribute",
                "sensitive" : false
              },
              "Distributed Cache Service" : {
                "displayName" : "Distributed Cache Service",
                "identifiesControllerService" : true,
                "name" : "Distributed Cache Service",
                "sensitive" : false
              },
              "Max Length To Put In Attribute" : {
                "displayName" : "Max Length To Put In Attribute",
                "identifiesControllerService" : false,
                "name" : "Max Length To Put In Attribute",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "043f6e32-1bf9-33fb-adb8-11d1e781dab9",
            "identifier" : "0803d22f-60fd-3545-b2c2-44e2095f114f",
            "name" : "Set To Success",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1785.6001121933289,
              "y" : 2730.3416045586573
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedStatus" : "success"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "resourceSavedStatus" : {
                "displayName" : "resourceSavedStatus",
                "identifiesControllerService" : false,
                "name" : "resourceSavedStatus",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
              "name" : "Post to Kafka",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "5d60c98c-8694-3643-81ea-322fe00a15ab",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "0b8deabf-021b-3136-835e-7679462b0ba5",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "0b8deabf-021b-3136-835e-7679462b0ba5",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "e9eb43f0-314f-3aea-bb8d-1c816d5acde2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "21aaa78b-95f5-3797-92be-c581087cfe72",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
              "name" : "AttributesToJSON",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "283eea3b-d8a3-38ed-974d-dfd043020ad2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
              "name" : "Log and Post",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "21aaa78b-95f5-3797-92be-c581087cfe72",
              "name" : "LogMessage",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "cdd54001-3d37-3460-8eff-27dd51016c2c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
              "name" : "AttributesToJSON",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "759a2102-9d8f-3e34-b408-833a28a14e9c",
              "name" : "ReplaceText",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "149c5c38-a7b6-3355-86c7-5c37efcf6002",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "29d24ce1-1c00-3817-995c-450ddff3567b",
              "id" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
              "name" : "Post to Kafka",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "45e0de23-88aa-3bea-8a39-7f6946a7b729",
            "name" : "Log and Post",
            "position" : {
              "x" : 1432.0,
              "y" : 1832.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Log and Post Failure",
          "outputPorts" : [ ],
          "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
          "position" : {
            "x" : 3048.0,
            "y" : 2792.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "0b8deabf-021b-3136-835e-7679462b0ba5",
            "name" : "ReplaceText",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2464.0
            },
            "properties" : {
              "Regular Expression" : "(?s)(^.*$)",
              "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Append"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ "success", "failure" ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "759a2102-9d8f-3e34-b408-833a28a14e9c",
            "name" : "ReplaceText",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2984.0
            },
            "properties" : {
              "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
              "Replacement Value" : "",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "62c3438b-4756-3ea6-a3b6-6d69619fb513",
            "name" : "AttributesToJSON",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1375.1956507673563,
              "y" : 1972.860155574584
            },
            "properties" : {
              "Destination" : "flowfile-attribute",
              "Null Value" : "false",
              "Include Core Attributes" : "false"
            },
            "propertyDescriptors" : {
              "attributes-to-json-regex" : {
                "displayName" : "Attributes Regular Expression",
                "identifiesControllerService" : false,
                "name" : "attributes-to-json-regex",
                "sensitive" : false
              },
              "Destination" : {
                "displayName" : "Destination",
                "identifiesControllerService" : false,
                "name" : "Destination",
                "sensitive" : false
              },
              "Null Value" : {
                "displayName" : "Null Value",
                "identifiesControllerService" : false,
                "name" : "Null Value",
                "sensitive" : false
              },
              "Attributes List" : {
                "displayName" : "Attributes List",
                "identifiesControllerService" : false,
                "name" : "Attributes List",
                "sensitive" : false
              },
              "Include Core Attributes" : {
                "displayName" : "Include Core Attributes",
                "identifiesControllerService" : false,
                "name" : "Include Core Attributes",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "ERROR",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "21aaa78b-95f5-3797-92be-c581087cfe72",
            "name" : "LogMessage",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2240.0
            },
            "properties" : {
              "log-message" : "${JSONAttributes}",
              "log-level" : "error",
              "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
            },
            "propertyDescriptors" : {
              "log-message" : {
                "displayName" : "Log message",
                "identifiesControllerService" : false,
                "name" : "log-message",
                "sensitive" : false
              },
              "log-level" : {
                "displayName" : "Log Level",
                "identifiesControllerService" : false,
                "name" : "log-level",
                "sensitive" : false
              },
              "log-prefix" : {
                "displayName" : "Log prefix",
                "identifiesControllerService" : false,
                "name" : "log-prefix",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.LogMessage",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-kafka-2-6-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "29d24ce1-1c00-3817-995c-450ddff3567b",
            "identifier" : "40232414-9e39-3ff3-96ac-b88d567ddca4",
            "name" : "Post to Kafka",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1376.0,
              "y" : 2720.0
            },
            "properties" : {
              "compression.type" : "none",
              "attribute-name-regex" : "batchId",
              "bootstrap.servers" : "#{kafka.brokers}",
              "kafka-key" : "CONTENT",
              "sasl.mechanism" : "PLAIN",
              "max.block.ms" : "5 sec",
              "message-header-encoding" : "UTF-8",
              "ack.wait.time" : "5 secs",
              "sasl.username" : "token",
              "use-transactions" : "true",
              "acks" : "all",
              "security.protocol" : "PLAINTEXT",
              "max.request.size" : "1 MB",
              "sasl.token.auth" : "false",
              "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
              "topic" : "failure.topic.in",
              "sasl.password" : "#{kafka.auth.password}",
              "key-attribute-encoding" : "utf-8"
            },
            "propertyDescriptors" : {
              "compression.type" : {
                "displayName" : "Compression Type",
                "identifiesControllerService" : false,
                "name" : "compression.type",
                "sensitive" : false
              },
              "attribute-name-regex" : {
                "displayName" : "Attributes to Send as Headers (Regex)",
                "identifiesControllerService" : false,
                "name" : "attribute-name-regex",
                "sensitive" : false
              },
              "bootstrap.servers" : {
                "displayName" : "Kafka Brokers",
                "identifiesControllerService" : false,
                "name" : "bootstrap.servers",
                "sensitive" : false
              },
              "sasl.kerberos.principal" : {
                "displayName" : "Kerberos Principal",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.principal",
                "sensitive" : false
              },
              "sasl.kerberos.service.name" : {
                "displayName" : "Kerberos Service Name",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.service.name",
                "sensitive" : false
              },
              "kerberos-credentials-service" : {
                "displayName" : "Kerberos Credentials Service",
                "identifiesControllerService" : true,
                "name" : "kerberos-credentials-service",
                "sensitive" : false
              },
              "kafka-key" : {
                "displayName" : "Kafka Key",
                "identifiesControllerService" : false,
                "name" : "kafka-key",
                "sensitive" : false
              },
              "partition" : {
                "displayName" : "Partition",
                "identifiesControllerService" : false,
                "name" : "partition",
                "sensitive" : false
              },
              "sasl.mechanism" : {
                "displayName" : "SASL Mechanism",
                "identifiesControllerService" : false,
                "name" : "sasl.mechanism",
                "sensitive" : false
              },
              "max.block.ms" : {
                "displayName" : "Max Metadata Wait Time",
                "identifiesControllerService" : false,
                "name" : "max.block.ms",
                "sensitive" : false
              },
              "message-header-encoding" : {
                "displayName" : "Message Header Encoding",
                "identifiesControllerService" : false,
                "name" : "message-header-encoding",
                "sensitive" : false
              },
              "message-demarcator" : {
                "displayName" : "Message Demarcator",
                "identifiesControllerService" : false,
                "name" : "message-demarcator",
                "sensitive" : false
              },
              "transactional-id-prefix" : {
                "displayName" : "Transactional Id Prefix",
                "identifiesControllerService" : false,
                "name" : "transactional-id-prefix",
                "sensitive" : false
              },
              "ack.wait.time" : {
                "displayName" : "Acknowledgment Wait Time",
                "identifiesControllerService" : false,
                "name" : "ack.wait.time",
                "sensitive" : false
              },
              "sasl.username" : {
                "displayName" : "Username",
                "identifiesControllerService" : false,
                "name" : "sasl.username",
                "sensitive" : false
              },
              "use-transactions" : {
                "displayName" : "Use Transactions",
                "identifiesControllerService" : false,
                "name" : "use-transactions",
                "sensitive" : false
              },
              "acks" : {
                "displayName" : "Delivery Guarantee",
                "identifiesControllerService" : false,
                "name" : "acks",
                "sensitive" : false
              },
              "security.protocol" : {
                "displayName" : "Security Protocol",
                "identifiesControllerService" : false,
                "name" : "security.protocol",
                "sensitive" : false
              },
              "ssl.context.service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "ssl.context.service",
                "sensitive" : false
              },
              "max.request.size" : {
                "displayName" : "Max Request Size",
                "identifiesControllerService" : false,
                "name" : "max.request.size",
                "sensitive" : false
              },
              "sasl.token.auth" : {
                "displayName" : "Token Auth",
                "identifiesControllerService" : false,
                "name" : "sasl.token.auth",
                "sensitive" : false
              },
              "partitioner.class" : {
                "displayName" : "Partitioner class",
                "identifiesControllerService" : false,
                "name" : "partitioner.class",
                "sensitive" : false
              },
              "sasl.kerberos.keytab" : {
                "displayName" : "Kerberos Keytab",
                "identifiesControllerService" : false,
                "name" : "sasl.kerberos.keytab",
                "sensitive" : false
              },
              "topic" : {
                "displayName" : "Topic Name",
                "identifiesControllerService" : false,
                "name" : "topic",
                "sensitive" : false
              },
              "sasl.password" : {
                "displayName" : "Password",
                "identifiesControllerService" : false,
                "name" : "sasl.password",
                "sensitive" : true
              },
              "key-attribute-encoding" : {
                "displayName" : "Key Attribute Encoding",
                "identifiesControllerService" : false,
                "name" : "key-attribute-encoding",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "44e8019f-242b-3bf9-bd69-77f803f52264",
              "id" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
              "name" : "FHIRResource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "identifier" : "342e77b8-f4a9-38c5-a7f3-e2dce343728c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "44e8019f-242b-3bf9-bd69-77f803f52264",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "44e8019f-242b-3bf9-bd69-77f803f52264",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "identifier" : "7c12a68d-aa68-3e8a-978f-d3d6e94d6a0d",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "44e8019f-242b-3bf9-bd69-77f803f52264",
              "id" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
              "name" : "ListenHTTP",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
          "inputPorts" : [ ],
          "labels" : [ ],
          "name" : "Get FHIR From HTTP",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "identifier" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
            "name" : "FHIRResource",
            "position" : {
              "x" : 1064.0,
              "y" : 344.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
          "position" : {
            "x" : 2632.0,
            "y" : 2200.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ "failure" ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "identifier" : "57ca9a14-8121-3252-96ae-1c11533485f6",
            "name" : "Generate UUID",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1008.0,
              "y" : 72.0
            },
            "properties" : {
              "Regular Expression" : "\\$\\{UUID\\(\\)\\}",
              "Replacement Value" : "${UUID()}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "44e8019f-242b-3bf9-bd69-77f803f52264",
            "identifier" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
            "name" : "ListenHTTP",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1008.0,
              "y" : -208.0
            },
            "properties" : {
              "Base Path" : "fhirResource",
              "multipart-read-buffer-size" : "512 KB",
              "multipart-request-max-size" : "1 MB",
              "Max Unconfirmed Flowfile Time" : "60 secs",
              "Return Code" : "200",
              "Listening Port" : "7001",
              "HTTP Headers to receive as Attributes (Regex)" : "EnrichWithACD|DeidentifyData|ResolveTerminology|RunPatientMatching",
              "Authorized DN Pattern" : ".*"
            },
            "propertyDescriptors" : {
              "Base Path" : {
                "displayName" : "Base Path",
                "identifiesControllerService" : false,
                "name" : "Base Path",
                "sensitive" : false
              },
              "multipart-read-buffer-size" : {
                "displayName" : "Multipart Read Buffer Size",
                "identifiesControllerService" : false,
                "name" : "multipart-read-buffer-size",
                "sensitive" : false
              },
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "multipart-request-max-size" : {
                "displayName" : "Multipart Request Max Size",
                "identifiesControllerService" : false,
                "name" : "multipart-request-max-size",
                "sensitive" : false
              },
              "Max Unconfirmed Flowfile Time" : {
                "displayName" : "Max Unconfirmed Flowfile Time",
                "identifiesControllerService" : false,
                "name" : "Max Unconfirmed Flowfile Time",
                "sensitive" : false
              },
              "Max Data to Receive per Second" : {
                "displayName" : "Max Data to Receive per Second",
                "identifiesControllerService" : false,
                "name" : "Max Data to Receive per Second",
                "sensitive" : false
              },
              "Return Code" : {
                "displayName" : "Return Code",
                "identifiesControllerService" : false,
                "name" : "Return Code",
                "sensitive" : false
              },
              "Listening Port" : {
                "displayName" : "Listening Port",
                "identifiesControllerService" : false,
                "name" : "Listening Port",
                "sensitive" : false
              },
              "HTTP Headers to receive as Attributes (Regex)" : {
                "displayName" : "HTTP Headers to receive as Attributes (Regex)",
                "identifiesControllerService" : false,
                "name" : "HTTP Headers to receive as Attributes (Regex)",
                "sensitive" : false
              },
              "Authorized DN Pattern" : {
                "displayName" : "Authorized DN Pattern",
                "identifiesControllerService" : false,
                "name" : "Authorized DN Pattern",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ListenHTTP",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3736.0,
              "y" : 3192.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "20ee2d61-3aaa-379e-9018-87dfa0cde0e5",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "83279e98-ed71-3d96-a386-b1e55cc2b788",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "8e29beb3-a70b-3338-a695-f1f313e7c6d1",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3616.0,
              "y" : 3696.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "9f3496c4-bb41-3b2a-ab3c-79503a7c3eaa",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3752.0,
              "y" : 3096.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "2199c341-775b-31aa-bd08-c607b3d94e28",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c653b104-41af-36c2-a583-56bdacb80c47",
              "name" : "Valid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "74447c8c-5f03-3001-9599-8e9e31fbb88b",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
              "name" : "Remove validationResponse attribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "02d1dd3e-dce7-3b1e-a872-d8f98e525478",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Timeout" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "60b0f927-8e96-3e93-b4c2-bdfebce0a8f9",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Response", "Original" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
              "name" : "Remove validationResponse attribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "b5aa1561-9fc8-38ee-8d49-f6421b669ca6",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "Valid FHIR Data" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
              "name" : "Route On Validity",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 4128.0,
              "y" : 3608.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "f50c1ee0-def7-3726-a303-98c05bff6ad6",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "retries_exceeded", "failure" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
              "name" : "RetryFlowFile",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "1a4a4888-45c6-3771-872f-20107455b5bd",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
              "name" : "Route On Timeout",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ {
              "x" : 3696.0,
              "y" : 3608.0
            } ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
              "name" : "Invalid FHIR Data",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "2c413d85-fa00-3c31-a280-356a2c1ad7c2",
            "labelIndex" : 0,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "No Retry" ],
            "source" : {
              "comments" : "",
              "groupId" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
              "id" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
              "name" : "Validate FHIR resource using REST API",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "8e799afc-f30f-37c2-8d60-b2a3b347e410",
            "name" : "FHIR Resource",
            "position" : {
              "x" : 3288.0,
              "y" : 3032.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Validate FHIR Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "c653b104-41af-36c2-a583-56bdacb80c47",
            "name" : "Valid FHIR Data",
            "position" : {
              "x" : 3144.0,
              "y" : 3776.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "004bd802-a7d1-3df4-9123-8ee3038a4fb9",
            "name" : "Invalid FHIR Data",
            "position" : {
              "x" : 3800.0,
              "y" : 3888.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
          "position" : {
            "x" : 2384.0,
            "y" : 2792.0
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 5,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "23fb7e04-3259-381d-804b-5bd0c1a4e41a",
            "name" : "Validate FHIR resource using REST API",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3232.0,
              "y" : 3152.0
            },
            "properties" : {
              "use-etag" : "false",
              "Proxy Type" : "http",
              "Basic Authentication Password" : "#{FHIR_PASSWORD}",
              "Connection Timeout" : "15 mins",
              "send-message-body" : "true",
              "set-form-filename" : "true",
              "Always Output Response" : "false",
              "etag-max-cache-size" : "10MB",
              "idle-timeout" : "5 mins",
              "Put Response Body In Attribute" : "validationResponse",
              "Use Chunked Encoding" : "false",
              "Follow Redirects" : "True",
              "Remote URL" : "#{FHIR_URL}/Bundle/$validate",
              "Content-Type" : "application/json",
              "max-idle-connections" : "5",
              "Read Timeout" : "15 mins",
              "Max Length To Put In Attribute" : "256",
              "ignore-response-content" : "false",
              "Digest Authentication" : "false",
              "HTTP Method" : "POST",
              "Add Response Headers to Request" : "false",
              "Basic Authentication Username" : "#{FHIR_USER}",
              "Include Date Header" : "True",
              "Penalize on \"No Retry\"" : "false"
            },
            "propertyDescriptors" : {
              "Proxy Host" : {
                "displayName" : "Proxy Host",
                "identifiesControllerService" : false,
                "name" : "Proxy Host",
                "sensitive" : false
              },
              "Attributes to Send" : {
                "displayName" : "Attributes to Send",
                "identifiesControllerService" : false,
                "name" : "Attributes to Send",
                "sensitive" : false
              },
              "use-etag" : {
                "displayName" : "Use HTTP ETag",
                "identifiesControllerService" : false,
                "name" : "use-etag",
                "sensitive" : false
              },
              "proxy-configuration-service" : {
                "displayName" : "Proxy Configuration Service",
                "identifiesControllerService" : true,
                "name" : "proxy-configuration-service",
                "sensitive" : false
              },
              "Proxy Type" : {
                "displayName" : "Proxy Type",
                "identifiesControllerService" : false,
                "name" : "Proxy Type",
                "sensitive" : false
              },
              "Basic Authentication Password" : {
                "displayName" : "Basic Authentication Password",
                "identifiesControllerService" : false,
                "name" : "Basic Authentication Password",
                "sensitive" : true
              },
              "Connection Timeout" : {
                "displayName" : "Connection Timeout",
                "identifiesControllerService" : false,
                "name" : "Connection Timeout",
                "sensitive" : false
              },
              "send-message-body" : {
                "displayName" : "Send Message Body",
                "identifiesControllerService" : false,
                "name" : "send-message-body",
                "sensitive" : false
              },
              "set-form-filename" : {
                "displayName" : "Set Flowfile Form Data File Name",
                "identifiesControllerService" : false,
                "name" : "set-form-filename",
                "sensitive" : false
              },
              "Always Output Response" : {
                "displayName" : "Always Output Response",
                "identifiesControllerService" : false,
                "name" : "Always Output Response",
                "sensitive" : false
              },
              "etag-max-cache-size" : {
                "displayName" : "Maximum ETag Cache Size",
                "identifiesControllerService" : false,
                "name" : "etag-max-cache-size",
                "sensitive" : false
              },
              "idle-timeout" : {
                "displayName" : "Idle Timeout",
                "identifiesControllerService" : false,
                "name" : "idle-timeout",
                "sensitive" : false
              },
              "Put Response Body In Attribute" : {
                "displayName" : "Put Response Body In Attribute",
                "identifiesControllerService" : false,
                "name" : "Put Response Body In Attribute",
                "sensitive" : false
              },
              "Use Chunked Encoding" : {
                "displayName" : "Use Chunked Encoding",
                "identifiesControllerService" : false,
                "name" : "Use Chunked Encoding",
                "sensitive" : false
              },
              "Follow Redirects" : {
                "displayName" : "Follow Redirects",
                "identifiesControllerService" : false,
                "name" : "Follow Redirects",
                "sensitive" : false
              },
              "Remote URL" : {
                "displayName" : "Remote URL",
                "identifiesControllerService" : false,
                "name" : "Remote URL",
                "sensitive" : false
              },
              "Content-Type" : {
                "displayName" : "Content-Type",
                "identifiesControllerService" : false,
                "name" : "Content-Type",
                "sensitive" : false
              },
              "form-body-form-name" : {
                "displayName" : "Flowfile Form Data Name",
                "identifiesControllerService" : false,
                "name" : "form-body-form-name",
                "sensitive" : false
              },
              "max-idle-connections" : {
                "displayName" : "Max Idle Connections",
                "identifiesControllerService" : false,
                "name" : "max-idle-connections",
                "sensitive" : false
              },
              "invokehttp-proxy-user" : {
                "displayName" : "Proxy Username",
                "identifiesControllerService" : false,
                "name" : "invokehttp-proxy-user",
                "sensitive" : false
              },
              "Read Timeout" : {
                "displayName" : "Read Timeout",
                "identifiesControllerService" : false,
                "name" : "Read Timeout",
                "sensitive" : false
              },
              "Max Length To Put In Attribute" : {
                "displayName" : "Max Length To Put In Attribute",
                "identifiesControllerService" : false,
                "name" : "Max Length To Put In Attribute",
                "sensitive" : false
              },
              "invokehttp-proxy-password" : {
                "displayName" : "Proxy Password",
                "identifiesControllerService" : false,
                "name" : "invokehttp-proxy-password",
                "sensitive" : true
              },
              "ignore-response-content" : {
                "displayName" : "Ignore response's content",
                "identifiesControllerService" : false,
                "name" : "ignore-response-content",
                "sensitive" : false
              },
              "Proxy Port" : {
                "displayName" : "Proxy Port",
                "identifiesControllerService" : false,
                "name" : "Proxy Port",
                "sensitive" : false
              },
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "Digest Authentication" : {
                "displayName" : "Use Digest Authentication",
                "identifiesControllerService" : false,
                "name" : "Digest Authentication",
                "sensitive" : false
              },
              "HTTP Method" : {
                "displayName" : "HTTP Method",
                "identifiesControllerService" : false,
                "name" : "HTTP Method",
                "sensitive" : false
              },
              "Add Response Headers to Request" : {
                "displayName" : "Add Response Headers to Request",
                "identifiesControllerService" : false,
                "name" : "Add Response Headers to Request",
                "sensitive" : false
              },
              "Basic Authentication Username" : {
                "displayName" : "Basic Authentication Username",
                "identifiesControllerService" : false,
                "name" : "Basic Authentication Username",
                "sensitive" : false
              },
              "Include Date Header" : {
                "displayName" : "Include Date Header",
                "identifiesControllerService" : false,
                "name" : "Include Date Header",
                "sensitive" : false
              },
              "Penalize on \"No Retry\"" : {
                "displayName" : "Penalize on \"No Retry\"",
                "identifiesControllerService" : false,
                "name" : "Penalize on \"No Retry\"",
                "sensitive" : false
              },
              "Useragent" : {
                "displayName" : "Useragent",
                "identifiesControllerService" : false,
                "name" : "Useragent",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "01009f7a-2dad-3f71-a8a6-2d9218adc485",
            "name" : "RetryFlowFile",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3952.0,
              "y" : 3080.0
            },
            "properties" : {
              "penalize-retries" : "true",
              "maximum-retries" : "3",
              "Fail on Non-numerical Overwrite" : "false",
              "reuse-mode" : "fail",
              "retry-attribute" : "flowfile.retries"
            },
            "propertyDescriptors" : {
              "penalize-retries" : {
                "displayName" : "Penalize Retries",
                "identifiesControllerService" : false,
                "name" : "penalize-retries",
                "sensitive" : false
              },
              "maximum-retries" : {
                "displayName" : "Maximum Retries",
                "identifiesControllerService" : false,
                "name" : "maximum-retries",
                "sensitive" : false
              },
              "Fail on Non-numerical Overwrite" : {
                "displayName" : "Fail on Non-numerical Overwrite",
                "identifiesControllerService" : false,
                "name" : "Fail on Non-numerical Overwrite",
                "sensitive" : false
              },
              "reuse-mode" : {
                "displayName" : "Reuse Mode",
                "identifiesControllerService" : false,
                "name" : "reuse-mode",
                "sensitive" : false
              },
              "retry-attribute" : {
                "displayName" : "Retry Attribute",
                "identifiesControllerService" : false,
                "name" : "retry-attribute",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "16bdb6d4-609b-39c1-abe8-ae10cd568554",
            "name" : "Remove validationResponse attribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3088.0,
              "y" : 3568.0
            },
            "properties" : {
              "Delete Attributes Expression" : "validationResponse",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "c1c4a729-88da-3ba8-bbaf-05a07c78c462",
            "name" : "Route On Timeout",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3696.0,
              "y" : 3344.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "Timeout" : "${invokehttp.status.exception.message:toLower():contains('timeout'):or(${invokehttp.java.exception.message:toLower():contains('timeout')})}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "Timeout" : {
                "displayName" : "Timeout",
                "identifiesControllerService" : false,
                "name" : "Timeout",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "9bfb47b7-06d8-36ec-80c0-42c967c5c158",
            "identifier" : "377980b6-c3d5-3d38-b2db-ea1a68344674",
            "name" : "Route On Validity",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 3088.0,
              "y" : 3368.0
            },
            "properties" : {
              "Valid FHIR Data" : "${invokehttp.status.code:equals('200')}",
              "Routing Strategy" : "Route to Property name"
            },
            "propertyDescriptors" : {
              "Valid FHIR Data" : {
                "displayName" : "Valid FHIR Data",
                "identifiesControllerService" : false,
                "name" : "Valid FHIR Data",
                "sensitive" : false
              },
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
              "name" : "Enriched FHIR resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "7c333688-0b96-3d71-9db8-bc9df19e7080",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "id" : "1f5f5055-9e5c-3256-8918-b354c885135a",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "6f865d2c-fd57-3585-ad41-58c832770b0d",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "id" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
              "name" : "FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "id" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "808a9197-6e88-3f0f-9355-cac82e6fdebc",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "DeidentifyData" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "e671df57-48b5-379f-8667-5e68d452c405",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "519fb1ad-adc7-310d-921d-ea273ef35367",
              "name" : "De-Identified FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "0d9882c4-343c-32e4-8574-ed96f1fe7534",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "id" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
              "name" : "De-Identified FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "c9cb8abf-b552-3031-9e88-8956e555541e",
              "name" : "Enriched FHIR resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "d4205ad2-9e50-3d19-938b-c9c716626d75",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "id" : "d257175c-4548-311a-9003-56f9305285a9",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "b49281af-d615-3672-88d5-d3aace8acb7b",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "ResolveTerminology" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
              "name" : "RouteOnAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "66efc5d7-fdcc-3543-9ceb-8285b11a3f6e",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
              "id" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
              "name" : "FHIR resource",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "fef3ad4b-53db-3879-b4e8-c32a75c336c3",
            "name" : "FHIR resource",
            "position" : {
              "x" : 352.0,
              "y" : 616.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ {
            "componentType" : "LABEL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "height" : 208.0,
            "identifier" : "991f820b-5f2f-33c5-ae31-b9cb62b95e5d",
            "label" : "De-identify data",
            "position" : {
              "x" : 272.0,
              "y" : 752.0
            },
            "style" : {
              "background-color" : "#be2633",
              "font-size" : "18px"
            },
            "width" : 1040.0
          }, {
            "componentType" : "LABEL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "height" : 208.0,
            "identifier" : "a6282a9f-de32-344e-b71f-c69e42c244f7",
            "label" : "Run through Terminology Service",
            "position" : {
              "x" : 272.0,
              "y" : 1040.0
            },
            "style" : {
              "background-color" : "#eb8931",
              "font-size" : "18px"
            },
            "width" : 1040.0
          } ],
          "name" : "Enrich FHIR Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "519fb1ad-adc7-310d-921d-ea273ef35367",
            "name" : "De-Identified FHIR Resource",
            "position" : {
              "x" : 1624.0,
              "y" : 832.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "c9cb8abf-b552-3031-9e88-8956e555541e",
            "name" : "Enriched FHIR resource",
            "position" : {
              "x" : 656.0,
              "y" : 1376.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "position" : {
            "x" : 2384.0,
            "y" : 3312.0
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "id" : "840b79e5-4393-3c58-a4ee-9bd811228308",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "f48d09a4-3061-3b8e-9852-bdf26dccb916",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
                "id" : "d257175c-4548-311a-9003-56f9305285a9",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
                "id" : "1f5f5055-9e5c-3256-8918-b354c885135a",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "93e3881e-e2cf-3ff8-8d8b-33913b905ae9",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
                "id" : "84fe8238-a43c-32a4-af44-27f28c1fb3f0",
                "name" : "UpdateAttribute",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
                "id" : "84fe8238-a43c-32a4-af44-27f28c1fb3f0",
                "name" : "UpdateAttribute",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "0cb6afa0-27ec-3225-8b5c-325f5d82b6f5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "id" : "0d5a9d51-1420-3dd0-96db-4935b7e434a5",
                "name" : "Translated FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "d257175c-4548-311a-9003-56f9305285a9",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 296.0,
                "y" : 544.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Resolve Terminology",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "1f5f5055-9e5c-3256-8918-b354c885135a",
              "name" : "Output",
              "position" : {
                "x" : 2152.0,
                "y" : 520.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
            "position" : {
              "x" : 912.0,
              "y" : 1056.0
            },
            "processGroups" : [ {
              "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "id" : "7fb49536-866b-368d-ade4-3b980aecdaea",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "27f39591-c619-3aca-9e82-5fb4b96fda27",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                  "id" : "840b79e5-4393-3c58-a4ee-9bd811228308",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                  "id" : "0d5a9d51-1420-3dd0-96db-4935b7e434a5",
                  "name" : "Translated FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "ae311ee4-f1a2-3365-bac8-b1399b32887c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "id" : "721d4d4a-9b78-36f7-955f-10fe4c211387",
                  "name" : "Translated FHIR Resources",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "840b79e5-4393-3c58-a4ee-9bd811228308",
                "name" : "FHIR Resource",
                "position" : {
                  "x" : -488.0,
                  "y" : -216.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "FHIR Terminology Mapping",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "0d5a9d51-1420-3dd0-96db-4935b7e434a5",
                "name" : "Translated FHIR Resource",
                "position" : {
                  "x" : 728.0,
                  "y" : -200.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
              "position" : {
                "x" : 824.0,
                "y" : 472.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                    "name" : "Create Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "09942936-1232-32d7-bb82-8a6faf95ce57",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "22f35101-c714-3261-b719-6c480e5653e6",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "0dc37739-811b-3aae-b684-9f2ef5d18973",
                    "name" : "Prepare Create Request Body",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "02b7b183-0e80-3877-889a-37c889ba8270",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "resourceDoesNotExist" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "2bd8819e-fcde-3c50-b1f2-1c97c9c04565",
                    "name" : "If (Resource exists) then/else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "4beb985d-a2bd-3dd4-ba69-7fcd46c1e7e1",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "4ff81da3-51dc-3b3f-a190-bd0178870007",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                    "name" : "Create Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "2bd8819e-fcde-3c50-b1f2-1c97c9c04565",
                    "name" : "If (Resource exists) then/else",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "f31af799-40be-3691-86d9-3f9126a64f02",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "80f0c0cb-925d-3474-9a8c-fb22b3f5331b",
                    "name" : "Extract Resource Exists Attribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "5a5ddd3a-0479-3c1a-8506-e4cf542493d9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "ea85f832-2675-3a69-9a84-87dda945d981",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                    "name" : "Find Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "4beb985d-a2bd-3dd4-ba69-7fcd46c1e7e1",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "a878a554-546c-3e78-be1c-98db32861645",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "0dc37739-811b-3aae-b684-9f2ef5d18973",
                    "name" : "Prepare Create Request Body",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "80f0c0cb-925d-3474-9a8c-fb22b3f5331b",
                    "name" : "Extract Resource Exists Attribute",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "d2fa19f8-3c72-3525-9a4a-8831d02aa182",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                    "name" : "Find Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "22f35101-c714-3261-b719-6c480e5653e6",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "238be793-ea8e-3735-87fd-b37a20c4b27b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "0dc37739-811b-3aae-b684-9f2ef5d18973",
                    "name" : "Prepare Create Request Body",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "32297db3-c3a7-3366-a44f-883285afb960",
                    "name" : "Extract Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "f2ec018a-155d-349d-90ab-f472b8d7757d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "06d06223-f792-36f5-94ce-889f6b96f601",
                    "name" : "Extract Resource Properties",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1332.3072509765625,
                    "y" : 610.3463134765625
                  }, {
                    "x" : 1332.3072509765625,
                    "y" : 660.3463134765625
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                    "name" : "Create Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "e3500ae4-1321-3bc8-8d52-b6cd72f9f97e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                    "name" : "Create Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "4db4bc57-e85e-338d-a606-181c0569371c",
                    "name" : "Log Resource Created",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "7848c559-eedd-3e3a-b84b-3c91bac059d7",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                    "name" : "Create Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "5a5ddd3a-0479-3c1a-8506-e4cf542493d9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "b5847b8e-ae46-3a6c-9bac-72da1b463d1b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "32297db3-c3a7-3366-a44f-883285afb960",
                    "name" : "Extract Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 765.0,
                    "y" : 239.0
                  }, {
                    "x" : 765.0,
                    "y" : 289.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                    "name" : "Find Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "0bb93c3b-b278-3497-8f06-8b06f03b9e24",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                    "name" : "Find Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "9706e504-b532-385f-a384-b5803079e3c1",
                    "name" : "Log Resource Exists",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "2678817b-08ba-3007-9ba5-549f63513b78",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "resourceExists" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "2bd8819e-fcde-3c50-b1f2-1c97c9c04565",
                    "name" : "If (Resource exists) then/else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "06d06223-f792-36f5-94ce-889f6b96f601",
                    "name" : "Extract Resource Properties",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "0b19374b-275f-321f-8a14-2a445e437842",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "id" : "ec3ee764-4663-3b3d-8e88-1bdf41b8e753",
                    "name" : "resources",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                    "name" : "Find Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "8a8239b1-a77b-3069-967c-e22f434ab62b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "32297db3-c3a7-3366-a44f-883285afb960",
                    "name" : "Extract Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "5a5ddd3a-0479-3c1a-8506-e4cf542493d9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "2e80c98a-442a-3019-a879-0615755a82ef",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure", "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "80f0c0cb-925d-3474-9a8c-fb22b3f5331b",
                    "name" : "Extract Resource Exists Attribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "5a5ddd3a-0479-3c1a-8506-e4cf542493d9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "d4114151-662d-3dab-a876-9c87ae400ec1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure", "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                    "id" : "06d06223-f792-36f5-94ce-889f6b96f601",
                    "name" : "Extract Resource Properties",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                "inputPorts" : [ ],
                "labels" : [ {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "height" : 144.0,
                  "identifier" : "f74e9e4a-c0a8-3f25-94a2-f358f20ef0d3",
                  "label" : "The purpose of this flow is to install the necessary ValueSets, and \nConceptMaps in the FHIR server that will be used for Terminology Matching.\n\nInstructions:\n- Go into the Get Resources Process Group \n- Copy/paste any of the existing GenerateFlowFile Processors in there\n- Set the text to the FHIR resource that needs to be installed",
                  "position" : {
                    "x" : 728.0,
                    "y" : -88.0
                  },
                  "style" : {
                    "font-size" : "14px"
                  },
                  "width" : 544.0
                } ],
                "name" : "Install Prerequisite Resources",
                "outputPorts" : [ ],
                "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                "position" : {
                  "x" : 16.0,
                  "y" : -512.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "ec3ee764-4663-3b3d-8e88-1bdf41b8e753",
                      "name" : "resources",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "fc34df8c-6511-3c91-86b7-0f4750885abc",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "04419af5-f91a-374e-b412-59d88b9aa050",
                      "name" : "ConceptMap (US-Core sex to CDM)",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "ec3ee764-4663-3b3d-8e88-1bdf41b8e753",
                      "name" : "resources",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "1350eb9e-5a0d-34c3-aab1-ddbf17159857",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "4e57bcf4-e7fc-383a-9407-d2f831d6e8ee",
                      "name" : "ValueSet (CDM sex-assigned-at-birth)",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "ec3ee764-4663-3b3d-8e88-1bdf41b8e753",
                      "name" : "resources",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "2b17676e-f227-36f9-9583-ef3abe6b6ccd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "07226405-8711-32d7-bfaf-9240d7947054",
                      "id" : "cf5e23b1-45fd-32ec-8bf0-18f9dd547521",
                      "name" : "ValueSet (US-core birthsex)",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                  "inputPorts" : [ ],
                  "labels" : [ ],
                  "name" : "Get Resources",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "ec3ee764-4663-3b3d-8e88-1bdf41b8e753",
                    "name" : "resources",
                    "position" : {
                      "x" : 368.0,
                      "y" : 48.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : -456.0,
                    "y" : -168.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "04419af5-f91a-374e-b412-59d88b9aa050",
                    "name" : "ConceptMap (US-Core sex to CDM)",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 320.0,
                      "y" : -408.0
                    },
                    "properties" : {
                      "character-set" : "UTF-8",
                      "File Size" : "0B",
                      "mime-type" : "application/json",
                      "generate-ff-custom-text" : "{\n\t\"resourceType\": \"ConceptMap\",\n\t\"id\": \"100\",\n\t\"url\": \"http://ibm.com/fhir/integration-squad/ConceptMap/100\",\n\t\"identifier\": {\n\t\t\"system\": \"urn:ietf:rfc:3986\",\n\t\t\"value\": \"urn:uuid:53cd62ee-033e-414c-9f58-3ca97b5ffc3b\"\n\t},\n\t\"version\": \"4.0.1\",\n\t\"name\": \"FHIR-v4-To-IBM-CDM-Birth-Sex\",\n\t\"title\": \"FHIR/v4 to IBM CDM Birth Sex Mapping\",\n\t\"status\": \"draft\",\n\t\"experimental\": true,\n\t\"date\": \"2020-10-29\",\n\t\"publisher\": \"IBM Watson Health\",\n\t\"contact\": [\n\t\t{\n\t\t\t\"name\": \"Integration Squad\",\n\t\t\t\"telecom\": [\n\t\t\t\t{\n\t\t\t\t\t\"system\": \"url\",\n\t\t\t\t\t\"value\": \"http://ibm.com\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"description\": \"A mapping between the FHIR v4 birhtsex and IBM CDM's sex-assigned-at-birth-vs\",\n\t\"useContext\": [\n\t\t{\n\t\t\t\"code\": {\n\t\t\t\t\"system\": \"http://terminology.hl7.org/CodeSystem/usage-context-type\",\n\t\t\t\t\"code\": \"venue\"\n\t\t\t},\n\t\t\t\"valueCodeableConcept\": {\n\t\t\t\t\"text\": \"for CCDA Usage\"\n\t\t\t}\n\t\t}\n\t],\n\t\"jurisdiction\": [\n\t\t{\n\t\t\t\"coding\": [\n\t\t\t\t{\n\t\t\t\t\t\"system\": \"urn:iso:std:iso:3166\",\n\t\t\t\t\t\"code\": \"US\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"purpose\": \"To automatically map incoming generic FHIR resources to CDM\",\n\t\"copyright\": \"Creative Commons 0\",\n\t\"sourceUri\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n\t\"targetUri\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\"group\": [\n\t\t{\n\t\t\t\"source\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n\t\t\t\"target\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\"element\": [\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"F\",\n\t\t\t\t\t\"display\": \"Female\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\t\"display\": \"Female\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"M\",\n\t\t\t\t\t\"display\": \"Male\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"male\",\n\t\t\t\t\t\t\t\"display\": \"Male\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"UNK\",\n\t\t\t\t\t\"display\": \"Unknown\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"unknown\",\n\t\t\t\t\t\t\t\"display\": \"Unknown\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                      "Batch Size" : "1",
                      "Unique FlowFiles" : "false",
                      "Data Format" : "Text"
                    },
                    "propertyDescriptors" : {
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "File Size" : {
                        "displayName" : "File Size",
                        "identifiesControllerService" : false,
                        "name" : "File Size",
                        "sensitive" : false
                      },
                      "mime-type" : {
                        "displayName" : "Mime Type",
                        "identifiesControllerService" : false,
                        "name" : "mime-type",
                        "sensitive" : false
                      },
                      "generate-ff-custom-text" : {
                        "displayName" : "Custom Text",
                        "identifiesControllerService" : false,
                        "name" : "generate-ff-custom-text",
                        "sensitive" : false
                      },
                      "Batch Size" : {
                        "displayName" : "Batch Size",
                        "identifiesControllerService" : false,
                        "name" : "Batch Size",
                        "sensitive" : false
                      },
                      "Unique FlowFiles" : {
                        "displayName" : "Unique FlowFiles",
                        "identifiesControllerService" : false,
                        "name" : "Unique FlowFiles",
                        "sensitive" : false
                      },
                      "Data Format" : {
                        "displayName" : "Data Format",
                        "identifiesControllerService" : false,
                        "name" : "Data Format",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "3600 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "cf5e23b1-45fd-32ec-8bf0-18f9dd547521",
                    "name" : "ValueSet (US-core birthsex)",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 712.0,
                      "y" : -408.0
                    },
                    "properties" : {
                      "character-set" : "UTF-8",
                      "File Size" : "0B",
                      "mime-type" : "application/json",
                      "generate-ff-custom-text" : "{\n  \"resourceType\": \"ValueSet\",\n  \"id\": \"birthsex\",\n  \"url\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n  \"identifier\": [\n    {\n      \"system\": \"urn:ietf:rfc:3986\",\n      \"value\": \"urn:oid:2.16.840.1.113762.1.4.1021.24\"\n    }\n  ],\n  \"version\": \"3.1.0\",\n  \"name\": \"BirthSex\",\n  \"title\": \"Birth Sex\",\n  \"status\": \"active\",\n  \"date\": \"2019-05-21T00:00:00+10:00\",\n  \"publisher\": \"HL7 US Realm Steering Committee\",\n  \"contact\": [\n    {\n      \"telecom\": [\n        {\n          \"system\": \"other\",\n          \"value\": \"http://hl7.org/fhir\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"Codes for assigning sex at birth as specified by the [Office of the National Coordinator for Health IT (ONC)](https://www.healthit.gov/newsroom/about-onc)\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"urn:iso:std:iso:3166\",\n          \"code\": \"US\",\n          \"display\": \"United States of America\"\n        }\n      ]\n    }\n  ],\n  \"compose\": {\n    \"include\": [\n      {\n        \"system\": \"http://terminology.hl7.org/CodeSystem/v3-AdministrativeGender\",\n        \"concept\": [\n          {\n            \"code\": \"F\",\n            \"display\": \"Female\"\n          },\n          {\n            \"code\": \"M\",\n            \"display\": \"Male\"\n          }\n        ]\n      },\n      {\n        \"system\": \"http://terminology.hl7.org/CodeSystem/v3-NullFlavor\",\n        \"concept\": [\n          {\n            \"code\": \"UNK\",\n            \"display\": \"Unknown\"\n          }\n        ]\n      }\n    ]\n  }\n}",
                      "Batch Size" : "1",
                      "Unique FlowFiles" : "false",
                      "Data Format" : "Text"
                    },
                    "propertyDescriptors" : {
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "File Size" : {
                        "displayName" : "File Size",
                        "identifiesControllerService" : false,
                        "name" : "File Size",
                        "sensitive" : false
                      },
                      "mime-type" : {
                        "displayName" : "Mime Type",
                        "identifiesControllerService" : false,
                        "name" : "mime-type",
                        "sensitive" : false
                      },
                      "generate-ff-custom-text" : {
                        "displayName" : "Custom Text",
                        "identifiesControllerService" : false,
                        "name" : "generate-ff-custom-text",
                        "sensitive" : false
                      },
                      "Batch Size" : {
                        "displayName" : "Batch Size",
                        "identifiesControllerService" : false,
                        "name" : "Batch Size",
                        "sensitive" : false
                      },
                      "Unique FlowFiles" : {
                        "displayName" : "Unique FlowFiles",
                        "identifiesControllerService" : false,
                        "name" : "Unique FlowFiles",
                        "sensitive" : false
                      },
                      "Data Format" : {
                        "displayName" : "Data Format",
                        "identifiesControllerService" : false,
                        "name" : "Data Format",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "3600 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "07226405-8711-32d7-bfaf-9240d7947054",
                    "identifier" : "4e57bcf4-e7fc-383a-9407-d2f831d6e8ee",
                    "name" : "ValueSet (CDM sex-assigned-at-birth)",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -72.0,
                      "y" : -408.0
                    },
                    "properties" : {
                      "character-set" : "UTF-8",
                      "File Size" : "0B",
                      "mime-type" : "application/json",
                      "generate-ff-custom-text" : "{\n  \"resourceType\": \"ValueSet\",\n  \"id\": \"sex-assigned-at-birth-vs\",\n  \"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n  \"version\": \"0.1.0\",\n  \"name\": \"SexAssignedAtBirthValueSet\",\n  \"title\": \"Sex Assigned At Birth Value Set\",\n  \"status\": \"active\",\n  \"date\": \"2020-10-21T18:53:02+00:00\",\n  \"contact\": [\n    {\n      \"name\": \"Kim Kenna\",\n      \"telecom\": [\n        {\n          \"system\": \"email\",\n          \"value\": \"sloand@us.ibm.com\"\n        }\n      ]\n    },\n    {\n      \"name\": \"Jill Doty\",\n      \"telecom\": [\n        {\n          \"system\": \"email\",\n          \"value\": \"jdoty@us.ibm.com\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"Sex assigned at birth based on observation by a physician.  Also called phenotype, or how the genes were expressed, based on the observation of the doctor. This assignment may not match the gender Identity of the person, which will not be known until the newborn is older.\",\n  \"compose\": {\n    \"include\": [\n      {\n        \"system\": \"http://ibm.com/fhir/cdm/CodeSystem/sex-assigned-at-birth-code-system\"\n      }\n    ]\n  }\n}",
                      "Batch Size" : "1",
                      "Unique FlowFiles" : "false",
                      "Data Format" : "Text"
                    },
                    "propertyDescriptors" : {
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "File Size" : {
                        "displayName" : "File Size",
                        "identifiesControllerService" : false,
                        "name" : "File Size",
                        "sensitive" : false
                      },
                      "mime-type" : {
                        "displayName" : "Mime Type",
                        "identifiesControllerService" : false,
                        "name" : "mime-type",
                        "sensitive" : false
                      },
                      "generate-ff-custom-text" : {
                        "displayName" : "Custom Text",
                        "identifiesControllerService" : false,
                        "name" : "generate-ff-custom-text",
                        "sensitive" : false
                      },
                      "Batch Size" : {
                        "displayName" : "Batch Size",
                        "identifiesControllerService" : false,
                        "name" : "Batch Size",
                        "sensitive" : false
                      },
                      "Unique FlowFiles" : {
                        "displayName" : "Unique FlowFiles",
                        "identifiesControllerService" : false,
                        "name" : "Unique FlowFiles",
                        "sensitive" : false
                      },
                      "Data Format" : {
                        "displayName" : "Data Format",
                        "identifiesControllerService" : false,
                        "name" : "Data Format",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "3600 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "22f35101-c714-3261-b719-6c480e5653e6",
                  "name" : "Adjust MIME Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 848.0,
                    "y" : 392.0
                  },
                  "properties" : {
                    "filename" : "patient.json",
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "application/json"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "filename" : {
                      "displayName" : "filename",
                      "identifiesControllerService" : false,
                      "name" : "filename",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "INFO",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "9706e504-b532-385f-a384-b5803079e3c1",
                  "name" : "Log Resource Exists",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : 792.0
                  },
                  "properties" : {
                    "log-message" : "${resourceType} '${resourceName}' exists",
                    "log-level" : "debug"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#2de05a"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "2bd8819e-fcde-3c50-b1f2-1c97c9c04565",
                  "name" : "If (Resource exists) then/else",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : 568.0
                  },
                  "properties" : {
                    "resourceExists" : "${resourceCount:ge(1)}",
                    "Routing Strategy" : "Route to Property name",
                    "resourceDoesNotExist" : "${resourceCount:ge(1):not()}"
                  },
                  "propertyDescriptors" : {
                    "resourceExists" : {
                      "displayName" : "resourceExists",
                      "identifiesControllerService" : false,
                      "name" : "resourceExists",
                      "sensitive" : false
                    },
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "resourceDoesNotExist" : {
                      "displayName" : "resourceDoesNotExist",
                      "identifiesControllerService" : false,
                      "name" : "resourceDoesNotExist",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "0dc37739-811b-3aae-b684-9f2ef5d18973",
                  "name" : "Prepare Create Request Body",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 848.0,
                    "y" : 200.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${resource}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "80f0c0cb-925d-3474-9a8c-fb22b3f5331b",
                  "name" : "Extract Resource Exists Attribute",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : 384.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "Return Type" : "auto-detect",
                    "resourceCount" : "total",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "warn"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "resourceCount" : {
                      "displayName" : "resourceCount",
                      "identifiesControllerService" : false,
                      "name" : "resourceCount",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "d482bff6-3e7f-3953-8500-a2b2409a323d",
                  "name" : "Find Resource",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : 200.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}/${resourceType}?url=${resourceURL}",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "GET",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "42f287c3-c70b-3659-a5b9-e0632ed90a17",
                  "name" : "Create Resource",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 848.0,
                    "y" : 576.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}/${resourceType}",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "ERROR",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "4beb985d-a2bd-3dd4-ba69-7fcd46c1e7e1",
                  "name" : "Error Log",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1440.0,
                    "y" : 200.0
                  },
                  "properties" : {
                    "character-set" : "windows-1252",
                    "Log Level" : "info",
                    "attributes-to-log-regex" : ".*",
                    "Log Payload" : "false"
                  },
                  "propertyDescriptors" : {
                    "Log prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "Log prefix",
                      "sensitive" : false
                    },
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "Log Level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "Log Level",
                      "sensitive" : false
                    },
                    "attributes-to-ignore-regex" : {
                      "displayName" : "Attributes to Ignore by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-ignore-regex",
                      "sensitive" : false
                    },
                    "Attributes to Ignore" : {
                      "displayName" : "Attributes to Ignore",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Ignore",
                      "sensitive" : false
                    },
                    "Attributes to Log" : {
                      "displayName" : "Attributes to Log",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Log",
                      "sensitive" : false
                    },
                    "attributes-to-log-regex" : {
                      "displayName" : "Attributes to Log by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-log-regex",
                      "sensitive" : false
                    },
                    "Log Payload" : {
                      "displayName" : "Log Payload",
                      "identifiesControllerService" : false,
                      "name" : "Log Payload",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#f53d00"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "32297db3-c3a7-3366-a44f-883285afb960",
                  "name" : "Extract Resource",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : 32.0
                  },
                  "properties" : {
                    "Enable Unicode Predefined Character Classes" : "false",
                    "Permit Whitespace and Comments in Pattern" : "false",
                    "Enable Unicode-aware Case Folding" : "false",
                    "resource" : "(.*)",
                    "Enable DOTALL Mode" : "true",
                    "Enable Unix Lines Mode" : "false",
                    "Maximum Buffer Size" : "1 MB",
                    "Enable Canonical Equivalence" : "false",
                    "Enable Case-insensitive Matching" : "false",
                    "Enable Multiline Mode" : "true",
                    "Maximum Capture Group Length" : "1000000",
                    "Enable Literal Parsing of the Pattern" : "false",
                    "Character Set" : "UTF-8",
                    "Include Capture Group 0" : "true",
                    "extract-text-enable-repeating-capture-group" : "false"
                  },
                  "propertyDescriptors" : {
                    "Enable Unicode Predefined Character Classes" : {
                      "displayName" : "Enable Unicode Predefined Character Classes",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unicode Predefined Character Classes",
                      "sensitive" : false
                    },
                    "Permit Whitespace and Comments in Pattern" : {
                      "displayName" : "Permit Whitespace and Comments in Pattern",
                      "identifiesControllerService" : false,
                      "name" : "Permit Whitespace and Comments in Pattern",
                      "sensitive" : false
                    },
                    "Enable Unicode-aware Case Folding" : {
                      "displayName" : "Enable Unicode-aware Case Folding",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unicode-aware Case Folding",
                      "sensitive" : false
                    },
                    "resource" : {
                      "displayName" : "resource",
                      "identifiesControllerService" : false,
                      "name" : "resource",
                      "sensitive" : false
                    },
                    "Enable DOTALL Mode" : {
                      "displayName" : "Enable DOTALL Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable DOTALL Mode",
                      "sensitive" : false
                    },
                    "Enable Unix Lines Mode" : {
                      "displayName" : "Enable Unix Lines Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unix Lines Mode",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Enable Canonical Equivalence" : {
                      "displayName" : "Enable Canonical Equivalence",
                      "identifiesControllerService" : false,
                      "name" : "Enable Canonical Equivalence",
                      "sensitive" : false
                    },
                    "Enable Case-insensitive Matching" : {
                      "displayName" : "Enable Case-insensitive Matching",
                      "identifiesControllerService" : false,
                      "name" : "Enable Case-insensitive Matching",
                      "sensitive" : false
                    },
                    "Enable Multiline Mode" : {
                      "displayName" : "Enable Multiline Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable Multiline Mode",
                      "sensitive" : false
                    },
                    "Maximum Capture Group Length" : {
                      "displayName" : "Maximum Capture Group Length",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Capture Group Length",
                      "sensitive" : false
                    },
                    "Enable Literal Parsing of the Pattern" : {
                      "displayName" : "Enable Literal Parsing of the Pattern",
                      "identifiesControllerService" : false,
                      "name" : "Enable Literal Parsing of the Pattern",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Include Capture Group 0" : {
                      "displayName" : "Include Capture Group 0",
                      "identifiesControllerService" : false,
                      "name" : "Include Capture Group 0",
                      "sensitive" : false
                    },
                    "extract-text-enable-repeating-capture-group" : {
                      "displayName" : "Enable repeating capture group",
                      "identifiesControllerService" : false,
                      "name" : "extract-text-enable-repeating-capture-group",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ExtractText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "06d06223-f792-36f5-94ce-889f6b96f601",
                  "name" : "Extract Resource Properties",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 296.0,
                    "y" : -144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "resourceURL" : "url",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "resourceName" : "name",
                    "Path Not Found Behavior" : "warn",
                    "resourceType" : "resourceType"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "resourceURL" : {
                      "displayName" : "resourceURL",
                      "identifiesControllerService" : false,
                      "name" : "resourceURL",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "resourceName" : {
                      "displayName" : "resourceName",
                      "identifiesControllerService" : false,
                      "name" : "resourceName",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    },
                    "resourceType" : {
                      "displayName" : "resourceType",
                      "identifiesControllerService" : false,
                      "name" : "resourceType",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "ERROR",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "5a5ddd3a-0479-3c1a-8506-e4cf542493d9",
                  "name" : "Error Log",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -320.0,
                    "y" : 232.0
                  },
                  "properties" : {
                    "character-set" : "windows-1252",
                    "Log Level" : "info",
                    "attributes-to-log-regex" : ".*",
                    "Log Payload" : "false"
                  },
                  "propertyDescriptors" : {
                    "Log prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "Log prefix",
                      "sensitive" : false
                    },
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "Log Level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "Log Level",
                      "sensitive" : false
                    },
                    "attributes-to-ignore-regex" : {
                      "displayName" : "Attributes to Ignore by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-ignore-regex",
                      "sensitive" : false
                    },
                    "Attributes to Ignore" : {
                      "displayName" : "Attributes to Ignore",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Ignore",
                      "sensitive" : false
                    },
                    "Attributes to Log" : {
                      "displayName" : "Attributes to Log",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Log",
                      "sensitive" : false
                    },
                    "attributes-to-log-regex" : {
                      "displayName" : "Attributes to Log by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-log-regex",
                      "sensitive" : false
                    },
                    "Log Payload" : {
                      "displayName" : "Log Payload",
                      "identifiesControllerService" : false,
                      "name" : "Log Payload",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#f53d00"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "INFO",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "7ef0e0eb-5402-3a71-959a-f00afc7be5f6",
                  "identifier" : "4db4bc57-e85e-338d-a606-181c0569371c",
                  "name" : "Log Resource Created",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 848.0,
                    "y" : 768.0
                  },
                  "properties" : {
                    "log-message" : "${resourceType} '${resourceName}' was created",
                    "log-level" : "info"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#2de05a"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 408.0,
                    "y" : -824.0
                  }, {
                    "x" : 496.0,
                    "y" : -840.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                    "name" : "Wait For All Extensions Processing",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "5e667733-3fee-3a38-9dd3-8009fa1258d6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "wait" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                    "name" : "Wait For All Extensions Processing",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The ID of the ConceptMap that will be used to $translate.",
                    "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "id" : "6a70800d-5cb6-3164-97f5-8891da0be564",
                    "name" : "ConceptMap ID",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "04ce1461-d0d9-3d09-81ae-f92217b22acf",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "id" : "bacc2f6c-f1f6-3312-aeeb-007cf759fcf9",
                    "name" : "concept-map-id",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "id" : "e54e3eae-c63f-3a8c-add6-61d422905d7c",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "6ae00fd7-414b-3f9e-90e1-b9420a368c69",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "7fb49536-866b-368d-ade4-3b980aecdaea",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 352.0,
                    "y" : -552.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "id" : "9b2c9c3d-2c2b-3b3b-aaf4-e6a5b01550ec",
                    "name" : "Error or Expired FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "ddf4696c-363d-3d1a-87bd-e48ff646aa97",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "expired", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                    "name" : "Wait For All Extensions Processing",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "id" : "bd640fe0-3c28-3701-9c7c-dc8b2565fcc1",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "76279427-b9d2-3d74-8485-ec572e748a1f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "id" : "ba8f2ab1-403d-3879-86c2-7f4eae190a5e",
                    "name" : "success",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "31d94c3f-036f-3f8f-b554-9beda0e8d4a3",
                    "name" : "Notify Extension Processed (T9N)",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "38c59091-1d7d-3427-b50c-b574a0b28b07",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ "org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer" ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                    "id" : "5ce2d4a8-44f8-3e5c-90af-89cee87a625b",
                    "name" : "Updated FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                    "name" : "Wait For All Extensions Processing",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "5e435911-8a47-3b33-be8a-da925ecf03a7",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "id" : "526b2f5c-d193-3c19-a847-f3967d5fda24",
                    "name" : "Original FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "721d4d4a-9b78-36f7-955f-10fe4c211387",
                    "name" : "Translated FHIR Resources",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "6939d033-b5cd-37d1-8b7e-9981a38829ae",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "id" : "e8723092-72e8-30b5-bf5d-eaf68e390acd",
                    "name" : "Translated FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                    "id" : "84d3c6ae-9de2-3deb-8cda-e19d84fb5da6",
                    "name" : "translated-system-and-code",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "a244051e-3558-3d12-acbc-c63267375c52",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                    "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "id" : "ee308d24-ca4b-345c-aa72-27c03cff2530",
                    "name" : "translated system and code",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "20128265-627c-3441-a0e6-2833e3968099",
                    "name" : "If \"code\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "590407da-31d8-34f9-a577-49f7f227da95",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "id" : "6a637bff-e556-34dd-b1d6-625576427eaa",
                    "name" : "FHIR Resource Extensions",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 584.0,
                    "y" : -552.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "id" : "5832c5ae-7d8d-3186-8bce-86f28a6e96ac",
                    "name" : "Processed FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "d406865e-e2cf-38a6-a176-00bb2fde1079",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                    "name" : "Wait For All Extensions Processing",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "99efd099-7646-3ea8-8078-3debd50b8835",
                    "name" : "Notify Extension Processed (No T9N)",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "16a5e8fc-6be8-3794-860c-80673de9c73e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "extension-without-code" ],
                  "source" : {
                    "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "20128265-627c-3441-a0e6-2833e3968099",
                    "name" : "If \"code\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "id" : "bf8dcc5c-6843-33bf-b966-8c634339e3e9",
                    "name" : "Extensions",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "bee42cbb-0318-3a0f-8f4d-366b845d00b0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "extension-with-code" ],
                  "source" : {
                    "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                    "groupId" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                    "id" : "20128265-627c-3441-a0e6-2833e3968099",
                    "name" : "If \"code\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "eae13b9c-e7b4-3972-b912-5a1cb4b4a8e1",
                "identifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "7fb49536-866b-368d-ade4-3b980aecdaea",
                  "name" : "FHIR Resource",
                  "position" : {
                    "x" : 232.0,
                    "y" : -1192.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Translate Codes",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "721d4d4a-9b78-36f7-955f-10fe4c211387",
                  "name" : "Translated FHIR Resources",
                  "position" : {
                    "x" : 336.0,
                    "y" : -224.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 16.0,
                  "y" : -288.0
                },
                "processGroups" : [ {
                  "comments" : "Input:\n- Attribute: conceptMapID, which will be used to invoke the $translate method on that ConceptMap\n- Attribute: code, which is the code to be translated\n\nOutput:\n- Attribute: translatedCode and translatedCodeSystem, with the translated code and the translated URL that will go in the extension object.\n",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "7c742792-155d-30a8-8941-858595b32757",
                      "name" : "Adjust MIME Type",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "3b87414c-c78e-3197-ad59-4a375d01bf6a",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 1144.0,
                      "y" : -615.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "eb68fb9d-c62c-3f6c-b0fd-3dc64ba93788",
                      "name" : "Log Didn't Find Code Translation",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "3b45ba18-280c-3fc7-8c33-60ce7aeadbe7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 1160.0,
                      "y" : -192.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "id" : "c75df4cc-e88a-3f11-ba8f-c83aa75fdd24",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "902ba21b-2b8a-377f-b822-01b7cca895a2",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "2bdc7d8e-597a-3013-8fb9-dfd090d6ff1b",
                      "name" : "Extract New System & Code Array",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "a4dd8737-381d-3eca-a654-dea5a81e3309",
                      "name" : "Get StructureDefinition from ValueSet ",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "8610e358-2ebb-34f9-904c-9d3d83d0bd9b",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "3e19863f-da1a-3ce4-900c-11c6f0bd5c53",
                      "name" : "Extract New System & Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "8891e01f-7162-3c1a-ac0e-3d2beda72602",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "concept-map-id",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "The ID of the ConceptMap that will be used to $translate.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "6a70800d-5cb6-3164-97f5-8891da0be564",
                      "name" : "ConceptMap ID",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 1144.0,
                      "y" : -512.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "id" : "c75df4cc-e88a-3f11-ba8f-c83aa75fdd24",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "d3f95563-7535-3f86-8a2c-086950be2e24",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "3e19863f-da1a-3ce4-900c-11c6f0bd5c53",
                      "name" : "Extract New System & Code",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "fda19ec9-2e06-39f3-8f6d-4ed03e90eea0",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "2bdc7d8e-597a-3013-8fb9-dfd090d6ff1b",
                      "name" : "Extract New System & Code Array",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 512.0,
                      "y" : -552.0
                    }, {
                      "x" : 504.0,
                      "y" : -520.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "0eb6ddbb-338b-3b9d-9aab-dececa7cc627",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                      "name" : "Translate Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "ee308d24-ca4b-345c-aa72-27c03cff2530",
                      "name" : "translated system and code",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "e1112472-689e-3d10-aab6-342133597f3c",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "a4dd8737-381d-3eca-a654-dea5a81e3309",
                      "name" : "Get StructureDefinition from ValueSet ",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "2bdc7d8e-597a-3013-8fb9-dfd090d6ff1b",
                      "name" : "Extract New System & Code Array",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "b7d445bc-3248-326e-b730-075f66a2bbb2",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "7c742792-155d-30a8-8941-858595b32757",
                      "name" : "Adjust MIME Type",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 1152.0,
                      "y" : -96.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "858d6691-097f-326e-85b0-50aeaad05e5e",
                      "name" : "Log Didn't Find Code Translation",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "115fee2c-09ca-3f46-a0d4-cb16cea1eabd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "unmatched" ],
                    "source" : {
                      "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                      "groupId" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                      "id" : "2bdc7d8e-597a-3013-8fb9-dfd090d6ff1b",
                      "name" : "Extract New System & Code Array",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "The ID of the ConceptMap that will be used to $translate.",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "6a70800d-5cb6-3164-97f5-8891da0be564",
                    "name" : "ConceptMap ID",
                    "position" : {
                      "x" : 688.0,
                      "y" : -728.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Translate Code",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "ee308d24-ca4b-345c-aa72-27c03cff2530",
                    "name" : "translated system and code",
                    "position" : {
                      "x" : 688.0,
                      "y" : 368.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                  "position" : {
                    "x" : 1432.0,
                    "y" : -488.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "110e43e1-e01c-35ef-a272-7cadb7b7d8b5",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "12cfcac2-07d4-3d5b-b8ba-0f5be6236fa6",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "b05fdf87-166a-3ca6-87b9-8ec96cbca852",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "0bbafab6-e53d-321b-b30c-db0e6dabecda",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "529a7f86-329c-3fa4-875e-6c390aa189e6",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "9848ac5e-2ec8-3bc0-88d5-df6bd2e3a545",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "b05fdf87-166a-3ca6-87b9-8ec96cbca852",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "50381350-f1c7-3411-bf72-b9dad1d37fcf",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "0bbafab6-e53d-321b-b30c-db0e6dabecda",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "9848ac5e-2ec8-3bc0-88d5-df6bd2e3a545",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "baca0310-0846-347d-a1fc-ad7ad7ac980c",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "00e30db0-3738-3edf-b650-c2eca7fdf598",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "00e30db0-3738-3edf-b650-c2eca7fdf598",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "80e5973f-a7f7-343b-a4e4-52a18b821e11",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                        "id" : "c75df4cc-e88a-3f11-ba8f-c83aa75fdd24",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "c75df4cc-e88a-3f11-ba8f-c83aa75fdd24",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : 1608.0,
                      "y" : -472.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "9848ac5e-2ec8-3bc0-88d5-df6bd2e3a545",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "00e30db0-3738-3edf-b650-c2eca7fdf598",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "b05fdf87-166a-3ca6-87b9-8ec96cbca852",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "0bbafab6-e53d-321b-b30c-db0e6dabecda",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "94a7ea35-d526-356f-8bfa-8ffdfa27cd62",
                      "identifier" : "110e43e1-e01c-35ef-a272-7cadb7b7d8b5",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "success" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "858d6691-097f-326e-85b0-50aeaad05e5e",
                    "name" : "Log Didn't Find Code Translation",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1344.0,
                      "y" : -168.0
                    },
                    "properties" : {
                      "log-message" : "Could not find `valueCoding` in the $translate JSON response provided.",
                      "log-level" : "warn"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffff0f"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "2bdc7d8e-597a-3013-8fb9-dfd090d6ff1b",
                    "name" : "Extract New System & Code Array",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 640.0,
                      "y" : -208.0
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "newCodeSystems" : "$..valueCoding.system",
                      "Return Type" : "json",
                      "Null Value Representation" : "empty string",
                      "newCodes" : "$..valueCoding.code",
                      "Path Not Found Behavior" : "warn"
                    },
                    "propertyDescriptors" : {
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "newCodeSystems" : {
                        "displayName" : "newCodeSystems",
                        "identifiesControllerService" : false,
                        "name" : "newCodeSystems",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "newCodes" : {
                        "displayName" : "newCodes",
                        "identifiesControllerService" : false,
                        "name" : "newCodes",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "5 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "success" ],
                    "bulletinLevel" : "ERROR",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "eb68fb9d-c62c-3f6c-b0fd-3dc64ba93788",
                    "name" : "Log Didn't Find Code Translation",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1336.0,
                      "y" : -672.0
                    },
                    "properties" : {
                      "log-message" : "Translate request failed: GET #{FHIR_URL}/ConceptMap/${conceptMapID}/$translate?code=${code}&system=${valueSet}&_format=json",
                      "log-level" : "error"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#f53d00"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "59f47747-9787-397f-8eaf-9f6e3a483fc7",
                    "name" : "Translate Code",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 640.0,
                      "y" : -608.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{FHIR_URL}/ConceptMap/${conceptMapID}/$translate?code=${code}&system=${valueSet}&_format=json",
                      "Content-Type" : "${mime.type}",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "GET",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{FHIR_USER}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "a4dd8737-381d-3eca-a654-dea5a81e3309",
                    "name" : "Get StructureDefinition from ValueSet ",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 632.0,
                      "y" : 176.0
                    },
                    "properties" : {
                      "translatedCodeSystem" : "${translatedTarget}",
                      "lookup-service" : "0e42653d-d17f-32f4-ba0a-98e1e1a61825",
                      "include-empty-values" : "true"
                    },
                    "propertyDescriptors" : {
                      "translatedCodeSystem" : {
                        "displayName" : "translatedCodeSystem",
                        "identifiesControllerService" : false,
                        "name" : "translatedCodeSystem",
                        "sensitive" : false
                      },
                      "lookup-service" : {
                        "displayName" : "Lookup Service",
                        "identifiesControllerService" : true,
                        "name" : "lookup-service",
                        "sensitive" : false
                      },
                      "include-empty-values" : {
                        "displayName" : "Include Empty Values",
                        "identifiesControllerService" : false,
                        "name" : "include-empty-values",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LookupAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "7c742792-155d-30a8-8941-858595b32757",
                    "name" : "Adjust MIME Type",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 640.0,
                      "y" : -400.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "application/json"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f8e9461b-87d4-3039-8f73-ac0f6872305d",
                    "identifier" : "3e19863f-da1a-3ce4-900c-11c6f0bd5c53",
                    "name" : "Extract New System & Code",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 632.0,
                      "y" : -8.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "translatedTarget" : "${newCodeSystems:jsonPath('$[0]')}",
                      "translatedCode" : "${newCodes:jsonPath('$[0]')}"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "translatedTarget" : {
                        "displayName" : "translatedTarget",
                        "identifiesControllerService" : false,
                        "name" : "translatedTarget",
                        "sensitive" : false
                      },
                      "translatedCode" : {
                        "displayName" : "translatedCode",
                        "identifiesControllerService" : false,
                        "name" : "translatedCode",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "995e1e91-bce4-3d9e-abc5-2a15173199af",
                      "name" : "Replace Extension Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "bca57e70-1987-3460-8813-be9c2324e306",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "7a877ddb-538e-3e84-829b-a6aa4868d9c5",
                      "name" : "Load Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "96a35165-eb1d-32d8-bae9-c6d31315723c",
                      "name" : "Update \"translated' Attribute",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "03204102-b5d3-3dd7-93f0-5b916f949caa",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "5af75669-26f8-3dc8-ba7b-db20bfccc115",
                      "name" : "Save Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "5ce2d4a8-44f8-3e5c-90af-89cee87a625b",
                      "name" : "Updated FHIR Resource",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "6b3700a8-88ff-340c-b593-de82adb68f65",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "96a35165-eb1d-32d8-bae9-c6d31315723c",
                      "name" : "Update \"translated' Attribute",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "5af75669-26f8-3dc8-ba7b-db20bfccc115",
                      "name" : "Save Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "e0d07cf4-b85c-3318-934c-51714c271808",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "995e1e91-bce4-3d9e-abc5-2a15173199af",
                      "name" : "Replace Extension Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "7a877ddb-538e-3e84-829b-a6aa4868d9c5",
                      "name" : "Load Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "dfce3a09-2ca9-3ec0-9216-1d2e20db9f1d",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "84d3c6ae-9de2-3deb-8cda-e19d84fb5da6",
                      "name" : "translated-system-and-code",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : -164.0,
                      "y" : -416.0
                    }, {
                      "x" : -188.0,
                      "y" : -336.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "5af75669-26f8-3dc8-ba7b-db20bfccc115",
                      "name" : "Save Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "16cd12e8-a00d-3012-b736-b4578d4f7c31",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4b4828c1-1078-31a0-b849-161985364439",
                      "id" : "5af75669-26f8-3dc8-ba7b-db20bfccc115",
                      "name" : "Save Original FHIR Resource",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "4b4828c1-1078-31a0-b849-161985364439",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "84d3c6ae-9de2-3deb-8cda-e19d84fb5da6",
                    "name" : "translated-system-and-code",
                    "position" : {
                      "x" : 88.0,
                      "y" : -968.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Update FHIR Resource File",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "5ce2d4a8-44f8-3e5c-90af-89cee87a625b",
                    "name" : "Updated FHIR Resource",
                    "position" : {
                      "x" : 88.0,
                      "y" : 24.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 1432.0,
                    "y" : -208.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "failure", "permission.denied", "not.found" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "7a877ddb-538e-3e84-829b-a6aa4868d9c5",
                    "name" : "Load Original FHIR Resource",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 32.0,
                      "y" : -848.0
                    },
                    "properties" : {
                      "Move Conflict Strategy" : "Rename",
                      "Log level when file not found" : "ERROR",
                      "Log level when permission denied" : "ERROR",
                      "File to Fetch" : "temp/terminology-flow/${filename}",
                      "Completion Strategy" : "None"
                    },
                    "propertyDescriptors" : {
                      "Move Conflict Strategy" : {
                        "displayName" : "Move Conflict Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Move Conflict Strategy",
                        "sensitive" : false
                      },
                      "Log level when file not found" : {
                        "displayName" : "Log level when file not found",
                        "identifiesControllerService" : false,
                        "name" : "Log level when file not found",
                        "sensitive" : false
                      },
                      "Move Destination Directory" : {
                        "displayName" : "Move Destination Directory",
                        "identifiesControllerService" : false,
                        "name" : "Move Destination Directory",
                        "sensitive" : false
                      },
                      "Log level when permission denied" : {
                        "displayName" : "Log level when permission denied",
                        "identifiesControllerService" : false,
                        "name" : "Log level when permission denied",
                        "sensitive" : false
                      },
                      "File to Fetch" : {
                        "displayName" : "File to Fetch",
                        "identifiesControllerService" : false,
                        "name" : "File to Fetch",
                        "sensitive" : false
                      },
                      "Completion Strategy" : {
                        "displayName" : "Completion Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Completion Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.FetchFile",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "995e1e91-bce4-3d9e-abc5-2a15173199af",
                    "name" : "Replace Extension Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 32.0,
                      "y" : -624.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(\"url\"\\s*:\\s*)\"(${url})\"(.+\"valueCode\"\\s*:\\s*)\"(${code})\"",
                      "Replacement Value" : "$1\"${translatedCodeSystem}\"$3\"${translatedCode}\"",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "3 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "96a35165-eb1d-32d8-bae9-c6d31315723c",
                    "name" : "Update \"translated' Attribute",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 32.0,
                      "y" : -200.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "translated" : "true"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "translated" : {
                        "displayName" : "translated",
                        "identifiesControllerService" : false,
                        "name" : "translated",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4b4828c1-1078-31a0-b849-161985364439",
                    "identifier" : "5af75669-26f8-3dc8-ba7b-db20bfccc115",
                    "name" : "Save Original FHIR Resource",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 32.0,
                      "y" : -408.0
                    },
                    "properties" : {
                      "Create Missing Directories" : "true",
                      "Directory" : "temp/terminology-flow",
                      "Conflict Resolution Strategy" : "replace"
                    },
                    "propertyDescriptors" : {
                      "Group" : {
                        "displayName" : "Group",
                        "identifiesControllerService" : false,
                        "name" : "Group",
                        "sensitive" : false
                      },
                      "Owner" : {
                        "displayName" : "Owner",
                        "identifiesControllerService" : false,
                        "name" : "Owner",
                        "sensitive" : false
                      },
                      "Create Missing Directories" : {
                        "displayName" : "Create Missing Directories",
                        "identifiesControllerService" : false,
                        "name" : "Create Missing Directories",
                        "sensitive" : false
                      },
                      "Permissions" : {
                        "displayName" : "Permissions",
                        "identifiesControllerService" : false,
                        "name" : "Permissions",
                        "sensitive" : false
                      },
                      "Maximum File Count" : {
                        "displayName" : "Maximum File Count",
                        "identifiesControllerService" : false,
                        "name" : "Maximum File Count",
                        "sensitive" : false
                      },
                      "Last Modified Time" : {
                        "displayName" : "Last Modified Time",
                        "identifiesControllerService" : false,
                        "name" : "Last Modified Time",
                        "sensitive" : false
                      },
                      "Directory" : {
                        "displayName" : "Directory",
                        "identifiesControllerService" : false,
                        "name" : "Directory",
                        "sensitive" : false
                      },
                      "Conflict Resolution Strategy" : {
                        "displayName" : "Conflict Resolution Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Conflict Resolution Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.PutFile",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "Input:\nFHIR Resource\n\nOutput:\n1) The original FHIR Resource with the corresponding fragment.identifier and fragment.counts attributes based on the number of \"extensions\" that were extracted from each.\n\n2) The individual \"extension\" JSON object extracted from each FHIR resource, with their corresponding fragment.identifier and fragment.index so that they can be matched against the FHIR Resource where they came from.\n\n3) The resulting flow files will include a couple of attributes: \"url\" with the extension \"URL\" field, and \"code\" with the extension \"valueCode\" field. If the extension is not of type \"valueCode\" it will still be output but the attribute will be empty.\n\n4) The actual JSON extension text will also be included as an attribute called \"extension\"",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "id" : "a714e694-093f-3bee-83cd-8b60ffe9a6bc",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "e8a5efda-5cab-32bc-994f-ac7bbf66b9c0",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "A FHIR Resource may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from the FHIR Resource are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "680b6ad7-7740-3823-9a56-1d60bc73ec30",
                      "name" : "Extract Resource Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 424.0,
                      "y" : -976.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "526b2f5c-d193-3c19-a847-f3967d5fda24",
                      "name" : "Original FHIR Resource",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "df5092dd-08ec-3594-9af3-ca3f9d619dc4",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "original" ],
                    "source" : {
                      "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "c9b6b7ef-7c57-39f0-a3e5-555ddcf04c64",
                      "name" : "Extract Bundle Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 120.0,
                      "y" : -1232.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "A FHIR Resource may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from the FHIR Resource are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "680b6ad7-7740-3823-9a56-1d60bc73ec30",
                      "name" : "Extract Resource Extensions",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "63edff92-792d-3b9c-b00d-25d0fb4c5ce4",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "unmatched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "213f262f-f858-3951-83c7-08379dd64c4c",
                      "name" : "Bundle or Other Resource Type",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "id" : "a714e694-093f-3bee-83cd-8b60ffe9a6bc",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "0dde48b5-f4bf-3869-a179-bb98488ef68b",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "isNull" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "ab9d82ef-1010-3b11-bb3c-a073dfeac0c2",
                      "name" : "Null check for Resource Type or Id",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "d6be94e6-1513-390c-a5d0-69e903a5a172",
                      "name" : "Retrieve Resource Id and Type",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "33f9e64c-28b3-3b63-b1f3-132492756eb7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "bd640fe0-3c28-3701-9c7c-dc8b2565fcc1",
                      "name" : "FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 544.0,
                      "y" : -1232.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "c9b6b7ef-7c57-39f0-a3e5-555ddcf04c64",
                      "name" : "Extract Bundle Extensions",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "17665ada-8860-38bb-8c02-f18fc6e70634",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "bundle" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "213f262f-f858-3951-83c7-08379dd64c4c",
                      "name" : "Bundle or Other Resource Type",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "id" : "1f85fcc4-40e6-3bc9-ab6d-f7bc24ada16f",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "bb226b72-a891-3718-b5a6-009ac77a9345",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "c9b6b7ef-7c57-39f0-a3e5-555ddcf04c64",
                      "name" : "Extract Bundle Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "213f262f-f858-3951-83c7-08379dd64c4c",
                      "name" : "Bundle or Other Resource Type",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "42328483-3b8e-39e7-ba04-6daf1d39c552",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "unmatched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "ab9d82ef-1010-3b11-bb3c-a073dfeac0c2",
                      "name" : "Null check for Resource Type or Id",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 248.0,
                      "y" : -912.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "526b2f5c-d193-3c19-a847-f3967d5fda24",
                      "name" : "Original FHIR Resource",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "33ac8f4b-ae15-3c43-b0b4-cead3c71fe08",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "original" ],
                    "source" : {
                      "comments" : "A FHIR Resource may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from the FHIR Resource are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "680b6ad7-7740-3823-9a56-1d60bc73ec30",
                      "name" : "Extract Resource Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "e6179cfa-2b3a-3748-8450-50f4d76c5b54",
                      "name" : "Extract Extension as Attribute",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "900e04a8-6437-3544-bf4a-964c3206f3e4",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "5b59dc0a-7b99-3b0b-80a1-61a4fa103ccb",
                      "name" : "Extract Extension URL & Code",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "6a637bff-e556-34dd-b1d6-625576427eaa",
                      "name" : "FHIR Resource Extensions",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "4a7a4bea-10ee-3858-85d6-2b7db2560ab7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "e6179cfa-2b3a-3748-8450-50f4d76c5b54",
                      "name" : "Extract Extension as Attribute",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 120.0,
                      "y" : -752.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "5b59dc0a-7b99-3b0b-80a1-61a4fa103ccb",
                      "name" : "Extract Extension URL & Code",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "d9568023-af50-30e1-b98a-a3d7179dc0c4",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "split" ],
                    "source" : {
                      "comments" : "A FHIR Resource may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from the FHIR Resource are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "680b6ad7-7740-3823-9a56-1d60bc73ec30",
                      "name" : "Extract Resource Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 552.0,
                      "y" : -752.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "5b59dc0a-7b99-3b0b-80a1-61a4fa103ccb",
                      "name" : "Extract Extension URL & Code",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "8158508b-2df6-38c4-bb0f-2ede813dc343",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "split" ],
                    "source" : {
                      "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "c9b6b7ef-7c57-39f0-a3e5-555ddcf04c64",
                      "name" : "Extract Bundle Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "ab9d82ef-1010-3b11-bb3c-a073dfeac0c2",
                      "name" : "Null check for Resource Type or Id",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "fb28ef8e-eceb-3445-be2b-ef28121f4cbb",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                      "id" : "d6be94e6-1513-390c-a5d0-69e903a5a172",
                      "name" : "Retrieve Resource Id and Type",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "bd640fe0-3c28-3701-9c7c-dc8b2565fcc1",
                    "name" : "FHIR Resource",
                    "position" : {
                      "x" : 224.0,
                      "y" : -1960.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Extract FHIR Resource Extensions",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "6a637bff-e556-34dd-b1d6-625576427eaa",
                    "name" : "FHIR Resource Extensions",
                    "position" : {
                      "x" : 256.0,
                      "y" : -272.0
                    },
                    "type" : "OUTPUT_PORT"
                  }, {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "526b2f5c-d193-3c19-a847-f3967d5fda24",
                    "name" : "Original FHIR Resource",
                    "position" : {
                      "x" : 232.0,
                      "y" : -856.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 760.0,
                    "y" : -984.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "986f3059-4011-331b-8e9f-9589a49006f1",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "a297e470-9688-3797-a78a-f997c085092a",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "failure", "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "900055f9-5fac-38fa-9e53-2568ab857168",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "c4318c40-12da-3731-afd0-806fa56e5c1b",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "16bc0f26-7f93-3bc4-8910-9335aed7328f",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "1f85fcc4-40e6-3bc9-ab6d-f7bc24ada16f",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "d48390fc-f054-3173-bd17-d0ebb3182c72",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "5089a1b6-3fb4-3c3a-8a1a-8d368ffd6a07",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "failure", "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "c4318c40-12da-3731-afd0-806fa56e5c1b",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "daaf69d9-2662-3366-80fc-a2f7188763cc",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "6eb343a1-fb5f-38b2-b6fb-e2687a9854b5",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "failure", "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "986f3059-4011-331b-8e9f-9589a49006f1",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "900055f9-5fac-38fa-9e53-2568ab857168",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "949f3038-de4d-36de-ad09-4001805add2e",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                        "id" : "d48390fc-f054-3173-bd17-d0ebb3182c72",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "1f85fcc4-40e6-3bc9-ab6d-f7bc24ada16f",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Copy of Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : 1000.0,
                      "y" : -1208.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "900055f9-5fac-38fa-9e53-2568ab857168",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "daaf69d9-2662-3366-80fc-a2f7188763cc",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "c4318c40-12da-3731-afd0-806fa56e5c1b",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "d48390fc-f054-3173-bd17-d0ebb3182c72",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d13253a8-aed3-3cdb-b11f-567c84438ad9",
                      "identifier" : "986f3059-4011-331b-8e9f-9589a49006f1",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  }, {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "102f7d61-9057-3fe1-847b-a3266ba088bf",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "582b5b4f-27d0-3520-a105-f38cb0b8f739",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "d494ab42-d5e3-3fad-80b7-d05714210cf5",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "82d07aa8-704d-3142-b162-c92fd759fc84",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "97584814-7c60-368c-9d77-4ae06e1ac3de",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "a714e694-093f-3bee-83cd-8b60ffe9a6bc",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "d494ab42-d5e3-3fad-80b7-d05714210cf5",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "75eb2a4e-55b2-3f66-a943-515d5c96fd0d",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "51e49120-ac3b-33db-9785-a6791b71cfdc",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "794ad057-17c7-3fab-8c1e-28ef9fb78b69",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "6ead0461-cb79-3871-b789-b5639b51c332",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "102f7d61-9057-3fe1-847b-a3266ba088bf",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "51e49120-ac3b-33db-9785-a6791b71cfdc",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "8bac4459-1b3d-34c2-855a-fc7928e92cfc",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                        "id" : "82d07aa8-704d-3142-b162-c92fd759fc84",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "a714e694-093f-3bee-83cd-8b60ffe9a6bc",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : -680.0,
                      "y" : -1408.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "51e49120-ac3b-33db-9785-a6791b71cfdc",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "102f7d61-9057-3fe1-847b-a3266ba088bf",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "82d07aa8-704d-3142-b162-c92fd759fc84",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "d494ab42-d5e3-3fad-80b7-d05714210cf5",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "881b36cf-b7ec-3a9f-b6bb-1aa15ccf66f0",
                      "identifier" : "794ad057-17c7-3fab-8c1e-28ef9fb78b69",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "e6179cfa-2b3a-3748-8450-50f4d76c5b54",
                    "name" : "Extract Extension as Attribute",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 200.0,
                      "y" : -472.0
                    },
                    "properties" : {
                      "Enable Unicode Predefined Character Classes" : "false",
                      "Permit Whitespace and Comments in Pattern" : "false",
                      "Enable Unicode-aware Case Folding" : "false",
                      "extension" : "(.*)",
                      "Enable DOTALL Mode" : "true",
                      "Enable Unix Lines Mode" : "false",
                      "Maximum Buffer Size" : "1 MB",
                      "Enable Canonical Equivalence" : "false",
                      "Enable Case-insensitive Matching" : "false",
                      "Enable Multiline Mode" : "true",
                      "Maximum Capture Group Length" : "10000",
                      "Enable Literal Parsing of the Pattern" : "false",
                      "Character Set" : "UTF-8",
                      "Include Capture Group 0" : "false",
                      "extract-text-enable-repeating-capture-group" : "false"
                    },
                    "propertyDescriptors" : {
                      "Enable Unicode Predefined Character Classes" : {
                        "displayName" : "Enable Unicode Predefined Character Classes",
                        "identifiesControllerService" : false,
                        "name" : "Enable Unicode Predefined Character Classes",
                        "sensitive" : false
                      },
                      "Permit Whitespace and Comments in Pattern" : {
                        "displayName" : "Permit Whitespace and Comments in Pattern",
                        "identifiesControllerService" : false,
                        "name" : "Permit Whitespace and Comments in Pattern",
                        "sensitive" : false
                      },
                      "Enable Unicode-aware Case Folding" : {
                        "displayName" : "Enable Unicode-aware Case Folding",
                        "identifiesControllerService" : false,
                        "name" : "Enable Unicode-aware Case Folding",
                        "sensitive" : false
                      },
                      "extension" : {
                        "displayName" : "extension",
                        "identifiesControllerService" : false,
                        "name" : "extension",
                        "sensitive" : false
                      },
                      "Enable DOTALL Mode" : {
                        "displayName" : "Enable DOTALL Mode",
                        "identifiesControllerService" : false,
                        "name" : "Enable DOTALL Mode",
                        "sensitive" : false
                      },
                      "Enable Unix Lines Mode" : {
                        "displayName" : "Enable Unix Lines Mode",
                        "identifiesControllerService" : false,
                        "name" : "Enable Unix Lines Mode",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Enable Canonical Equivalence" : {
                        "displayName" : "Enable Canonical Equivalence",
                        "identifiesControllerService" : false,
                        "name" : "Enable Canonical Equivalence",
                        "sensitive" : false
                      },
                      "Enable Case-insensitive Matching" : {
                        "displayName" : "Enable Case-insensitive Matching",
                        "identifiesControllerService" : false,
                        "name" : "Enable Case-insensitive Matching",
                        "sensitive" : false
                      },
                      "Enable Multiline Mode" : {
                        "displayName" : "Enable Multiline Mode",
                        "identifiesControllerService" : false,
                        "name" : "Enable Multiline Mode",
                        "sensitive" : false
                      },
                      "Maximum Capture Group Length" : {
                        "displayName" : "Maximum Capture Group Length",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Capture Group Length",
                        "sensitive" : false
                      },
                      "Enable Literal Parsing of the Pattern" : {
                        "displayName" : "Enable Literal Parsing of the Pattern",
                        "identifiesControllerService" : false,
                        "name" : "Enable Literal Parsing of the Pattern",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Include Capture Group 0" : {
                        "displayName" : "Include Capture Group 0",
                        "identifiesControllerService" : false,
                        "name" : "Include Capture Group 0",
                        "sensitive" : false
                      },
                      "extract-text-enable-repeating-capture-group" : {
                        "displayName" : "Enable repeating capture group",
                        "identifiesControllerService" : false,
                        "name" : "extract-text-enable-repeating-capture-group",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ExtractText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "NONE",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "d6be94e6-1513-390c-a5d0-69e903a5a172",
                    "name" : "Retrieve Resource Id and Type",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 168.0,
                      "y" : -1824.0
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "resourceId" : "$.id",
                      "Return Type" : "auto-detect",
                      "Null Value Representation" : "empty string",
                      "Path Not Found Behavior" : "warn",
                      "resourceType" : "$.resourceType"
                    },
                    "propertyDescriptors" : {
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "resourceId" : {
                        "displayName" : "resourceId",
                        "identifiesControllerService" : false,
                        "name" : "resourceId",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      },
                      "resourceType" : {
                        "displayName" : "resourceType",
                        "identifiesControllerService" : false,
                        "name" : "resourceType",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "A FHIR Resource may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from the FHIR Resource are processed.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "680b6ad7-7740-3823-9a56-1d60bc73ec30",
                    "name" : "Extract Resource Extensions",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -56.0,
                      "y" : -1184.0
                    },
                    "properties" : {
                      "Null Value Representation" : "empty string",
                      "JsonPath Expression" : "$.extension[*]"
                    },
                    "propertyDescriptors" : {
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "JsonPath Expression" : {
                        "displayName" : "JsonPath Expression",
                        "identifiesControllerService" : false,
                        "name" : "JsonPath Expression",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.SplitJson",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "c9b6b7ef-7c57-39f0-a3e5-555ddcf04c64",
                    "name" : "Extract Bundle Extensions",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 376.0,
                      "y" : -1184.0
                    },
                    "properties" : {
                      "Null Value Representation" : "empty string",
                      "JsonPath Expression" : "$.entry[*].resource.extension[*]"
                    },
                    "propertyDescriptors" : {
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "JsonPath Expression" : {
                        "displayName" : "JsonPath Expression",
                        "identifiesControllerService" : false,
                        "name" : "JsonPath Expression",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.SplitJson",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "ab9d82ef-1010-3b11-bb3c-a073dfeac0c2",
                    "name" : "Null check for Resource Type or Id",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 168.0,
                      "y" : -1624.0
                    },
                    "properties" : {
                      "Routing Strategy" : "Route to Property name",
                      "isNull" : "${resourceType:isEmpty():or(${resourceId:isEmpty()})}"
                    },
                    "propertyDescriptors" : {
                      "Routing Strategy" : {
                        "displayName" : "Routing Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Routing Strategy",
                        "sensitive" : false
                      },
                      "isNull" : {
                        "displayName" : "isNull",
                        "identifiesControllerService" : false,
                        "name" : "isNull",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "5b59dc0a-7b99-3b0b-80a1-61a4fa103ccb",
                    "name" : "Extract Extension URL & Code",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 200.0,
                      "y" : -672.0
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "code" : "valueCode",
                      "Return Type" : "auto-detect",
                      "Null Value Representation" : "empty string",
                      "url" : "url",
                      "Path Not Found Behavior" : "ignore"
                    },
                    "propertyDescriptors" : {
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "code" : {
                        "displayName" : "code",
                        "identifiesControllerService" : false,
                        "name" : "code",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "url" : {
                        "displayName" : "url",
                        "identifiesControllerService" : false,
                        "name" : "url",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8c156640-45af-39b7-ad8f-bc48e2976d83",
                    "identifier" : "213f262f-f858-3951-83c7-08379dd64c4c",
                    "name" : "Bundle or Other Resource Type",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 144.0,
                      "y" : -1400.0
                    },
                    "properties" : {
                      "Routing Strategy" : "Route to Property name",
                      "bundle" : "${resourceType:equals('Bundle')}"
                    },
                    "propertyDescriptors" : {
                      "Routing Strategy" : {
                        "displayName" : "Routing Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Routing Strategy",
                        "sensitive" : false
                      },
                      "bundle" : {
                        "displayName" : "bundle",
                        "identifiesControllerService" : false,
                        "name" : "bundle",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "Input:\n- FHIR Resource with a boolean \"translated\" field\n\nOutput: \n- The same FHIR Resource resources but with some logging to the Bulletin Board",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "id" : "7b61dbfe-634f-3a87-9960-8729e6c943e4",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "d25694c9-51f0-3d55-878f-3da9d824680a",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure", "permission.denied", "not.found" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                      "name" : "Load Translated FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "34487c68-a9d7-3042-9663-46cfa9bd5651",
                      "name" : "Error Processing FHIR Extensions",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "142a95af-7d24-358d-ae50-181f30aeb46b",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "9b2c9c3d-2c2b-3b3b-aaf4-e6a5b01550ec",
                      "name" : "Error or Expired FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                      "name" : "Load Translated FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "0a316688-f67b-3a12-9ad8-24f239b755fd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "0161c20c-6db9-30ac-801b-e02f8139e3e8",
                      "name" : "No Translation Needed",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 592.0,
                      "y" : -864.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "0161c20c-6db9-30ac-801b-e02f8139e3e8",
                      "name" : "No Translation Needed",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "49239e58-d161-3b10-8c4a-9580acecee17",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "not-translated" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "6733ce4d-bf3d-3a2a-9a2c-8a8e316279df",
                      "name" : "If \"translated\" Then/Else",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 976.0,
                      "y" : -640.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                      "name" : "Load Translated FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "674923b7-fe95-3ed8-81af-93cf84d15ada",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "05a8aa5f-cdf6-35a7-8a96-7fcaadf0e098",
                      "name" : "Translation Occurred",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 976.0,
                      "y" : -864.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "05a8aa5f-cdf6-35a7-8a96-7fcaadf0e098",
                      "name" : "Translation Occurred",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "12d8a3f8-6383-3f0b-b4ee-35b34e301145",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "translated" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "6733ce4d-bf3d-3a2a-9a2c-8a8e316279df",
                      "name" : "If \"translated\" Then/Else",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 208.0,
                      "y" : -640.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                      "name" : "Load Translated FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "04e93049-fd27-394d-94e7-64230fe9459a",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "34487c68-a9d7-3042-9663-46cfa9bd5651",
                      "name" : "Error Processing FHIR Extensions",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "6733ce4d-bf3d-3a2a-9a2c-8a8e316279df",
                      "name" : "If \"translated\" Then/Else",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "f408fdb4-a7e1-3cb6-8082-1a2989a63631",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "5832c5ae-7d8d-3186-8bce-86f28a6e96ac",
                      "name" : "Processed FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "e8723092-72e8-30b5-bf5d-eaf68e390acd",
                      "name" : "Translated FHIR Resource",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "2a23ae4f-1945-3a80-947d-b6f458e30b79",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                      "id" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                      "name" : "Load Translated FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "9b2c9c3d-2c2b-3b3b-aaf4-e6a5b01550ec",
                    "name" : "Error or Expired FHIR Resource",
                    "position" : {
                      "x" : 88.0,
                      "y" : -1176.0
                    },
                    "type" : "INPUT_PORT"
                  }, {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "5832c5ae-7d8d-3186-8bce-86f28a6e96ac",
                    "name" : "Processed FHIR Resource",
                    "position" : {
                      "x" : 648.0,
                      "y" : -1176.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Process Results",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "e8723092-72e8-30b5-bf5d-eaf68e390acd",
                    "name" : "Translated FHIR Resource",
                    "position" : {
                      "x" : 472.0,
                      "y" : -376.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 264.0,
                    "y" : -488.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "004777fd-7439-361a-b8c4-58e5d8a46bb3",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "2b4a7101-8a6e-391b-894a-29c68e23c915",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "7b61dbfe-634f-3a87-9960-8729e6c943e4",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "94ceccdb-a439-38e9-9b4d-3cc00f9a57de",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "a4f9b00b-27f2-3bd8-8139-48d554ba0c7f",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "24d8cfb9-8cd8-3cdd-bae0-3a8f8aec5cba",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "24d8cfb9-8cd8-3cdd-bae0-3a8f8aec5cba",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "838800b2-dd45-3923-9f5c-97f2dc23f1a1",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "27cf5b68-215a-3d29-8589-14c4f7aeccec",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "bb3bf4b1-99ed-3574-8572-1b9ee1d6052a",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "ec43951f-5757-3250-90f9-10e2c3893ee1",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "94ceccdb-a439-38e9-9b4d-3cc00f9a57de",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "27cf5b68-215a-3d29-8589-14c4f7aeccec",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "637e991b-b3ae-3082-adb0-9c0bcf0e96ca",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                        "id" : "004777fd-7439-361a-b8c4-58e5d8a46bb3",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "7b61dbfe-634f-3a87-9960-8729e6c943e4",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : -384.0,
                      "y" : -616.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "004777fd-7439-361a-b8c4-58e5d8a46bb3",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "94ceccdb-a439-38e9-9b4d-3cc00f9a57de",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "24d8cfb9-8cd8-3cdd-bae0-3a8f8aec5cba",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "bb3bf4b1-99ed-3574-8572-1b9ee1d6052a",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "e92d6747-13b7-3ce5-b160-755079da8b5d",
                      "identifier" : "27cf5b68-215a-3d29-8589-14c4f7aeccec",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "INFO",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "05a8aa5f-cdf6-35a7-8a96-7fcaadf0e098",
                    "name" : "Translation Occurred",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 800.0,
                      "y" : -816.0
                    },
                    "properties" : {
                      "log-message" : "FHIR Resource '${resource.uuid}' had some translated extensions.",
                      "log-level" : "debug"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#2de05a"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "066a7893-8ef5-3b8e-89cd-38ab7ed43dcf",
                    "name" : "Load Translated FHIR Resource File",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 416.0,
                      "y" : -592.0
                    },
                    "properties" : {
                      "Move Conflict Strategy" : "Rename",
                      "Log level when file not found" : "ERROR",
                      "Log level when permission denied" : "ERROR",
                      "File to Fetch" : "temp/terminology-flow/${filename}",
                      "Completion Strategy" : "None"
                    },
                    "propertyDescriptors" : {
                      "Move Conflict Strategy" : {
                        "displayName" : "Move Conflict Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Move Conflict Strategy",
                        "sensitive" : false
                      },
                      "Log level when file not found" : {
                        "displayName" : "Log level when file not found",
                        "identifiesControllerService" : false,
                        "name" : "Log level when file not found",
                        "sensitive" : false
                      },
                      "Move Destination Directory" : {
                        "displayName" : "Move Destination Directory",
                        "identifiesControllerService" : false,
                        "name" : "Move Destination Directory",
                        "sensitive" : false
                      },
                      "Log level when permission denied" : {
                        "displayName" : "Log level when permission denied",
                        "identifiesControllerService" : false,
                        "name" : "Log level when permission denied",
                        "sensitive" : false
                      },
                      "File to Fetch" : {
                        "displayName" : "File to Fetch",
                        "identifiesControllerService" : false,
                        "name" : "File to Fetch",
                        "sensitive" : false
                      },
                      "Completion Strategy" : {
                        "displayName" : "Completion Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Completion Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.FetchFile",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "ERROR",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "34487c68-a9d7-3042-9663-46cfa9bd5651",
                    "name" : "Error Processing FHIR Extensions",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 32.0,
                      "y" : -816.0
                    },
                    "properties" : {
                      "log-message" : "There was an error processing all extensions for FHIR Resource `${resource.uuid}",
                      "log-level" : "error"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#f53d00"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "6733ce4d-bf3d-3a2a-9a2c-8a8e316279df",
                    "name" : "If \"translated\" Then/Else",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 592.0,
                      "y" : -1048.0
                    },
                    "properties" : {
                      "Routing Strategy" : "Route to Property name",
                      "translated" : "${translated:equals('true')}",
                      "not-translated" : "${translated:equals('true'):not()}"
                    },
                    "propertyDescriptors" : {
                      "Routing Strategy" : {
                        "displayName" : "Routing Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Routing Strategy",
                        "sensitive" : false
                      },
                      "translated" : {
                        "displayName" : "translated",
                        "identifiesControllerService" : false,
                        "name" : "translated",
                        "sensitive" : false
                      },
                      "not-translated" : {
                        "displayName" : "not-translated",
                        "identifiesControllerService" : false,
                        "name" : "not-translated",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "INFO",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "4efd3808-fa6a-3260-b9b6-b44bc1cd036e",
                    "identifier" : "0161c20c-6db9-30ac-801b-e02f8139e3e8",
                    "name" : "No Translation Needed",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 416.0,
                      "y" : -816.0
                    },
                    "properties" : {
                      "log-message" : "FHIR Resource '${resource.uuid}' didn't include any translatable extensions.",
                      "log-level" : "debug"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#2de05a"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "Input:\n- An extension flow file that has the \"url\" attribute for its corresponding StructureDefinition\n\nOutput:\n- The ID of the ConceptMap that should be used to translate this extension from its current valueSet to a different valueSet. This ID will be in an attribute called \"conceptMapID\"\n- An attribute \"valueSet\" which will include the ValueSet for the StructureDefinition in the \"url\"",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "e306650e-8711-34dc-a43c-a4139ab6fdcb",
                      "name" : "Adjust MIME Type",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "6b106d40-e107-3b74-9cab-2116336fa453",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "conceptmaps",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "1883e965-e0f7-37e6-91be-d156340e5eb1",
                      "name" : "Query ConceptMap for ValueSet",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "bacc2f6c-f1f6-3312-aeeb-007cf759fcf9",
                      "name" : "concept-map-id",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "2da21d77-2d6f-3f44-b376-55bdd06a83bf",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "39b934ca-c469-3a5b-8292-8647213982b2",
                      "name" : "Get ConceptMap ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "9019a1cc-c3b4-318b-b37e-0b98fec041c3",
                      "name" : "Get ValueSet from StructureDefinition",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "705a75d0-2db5-3325-a392-6813896cb8bd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "bf8dcc5c-6843-33bf-b966-8c634339e3e9",
                      "name" : "Extensions",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "39b934ca-c469-3a5b-8292-8647213982b2",
                      "name" : "Get ConceptMap ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "bbad1a4f-b157-3013-b04f-d6984ccf858a",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "split" ],
                    "source" : {
                      "comments" : "Get the requested ConceptMap out of the array if it's there.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "2c9dc3e6-8859-3bd5-bed8-65c9fd9925a6",
                      "name" : "Split ConceptMaps",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Get the requested ConceptMap out of the array if it's there.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "2c9dc3e6-8859-3bd5-bed8-65c9fd9925a6",
                      "name" : "Split ConceptMaps",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "13e2be7d-8b9a-3f10-bd7a-df20e4662aa2",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "e306650e-8711-34dc-a43c-a4139ab6fdcb",
                      "name" : "Adjust MIME Type",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "1883e965-e0f7-37e6-91be-d156340e5eb1",
                      "name" : "Query ConceptMap for ValueSet",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "08a10e15-e25c-370d-a92c-fd74a1c5f46b",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                      "groupId" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                      "id" : "9019a1cc-c3b4-318b-b37e-0b98fec041c3",
                      "name" : "Get ValueSet from StructureDefinition",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "bf8dcc5c-6843-33bf-b966-8c634339e3e9",
                    "name" : "Extensions",
                    "position" : {
                      "x" : 383.0423057003484,
                      "y" : -1267.372930215462
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Get Matching ConceptMap",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "bacc2f6c-f1f6-3312-aeeb-007cf759fcf9",
                    "name" : "concept-map-id",
                    "position" : {
                      "x" : 392.0,
                      "y" : -200.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                  "position" : {
                    "x" : 1432.0,
                    "y" : -760.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "e306650e-8711-34dc-a43c-a4139ab6fdcb",
                    "name" : "Adjust MIME Type",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 336.0,
                      "y" : -784.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "application/json"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "9019a1cc-c3b4-318b-b37e-0b98fec041c3",
                    "name" : "Get ValueSet from StructureDefinition",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 328.0,
                      "y" : -1176.0
                    },
                    "properties" : {
                      "valueSet" : "${url}",
                      "lookup-service" : "0e42653d-d17f-32f4-ba0a-98e1e1a61825",
                      "include-empty-values" : "true"
                    },
                    "propertyDescriptors" : {
                      "valueSet" : {
                        "displayName" : "valueSet",
                        "identifiesControllerService" : false,
                        "name" : "valueSet",
                        "sensitive" : false
                      },
                      "lookup-service" : {
                        "displayName" : "Lookup Service",
                        "identifiesControllerService" : true,
                        "name" : "lookup-service",
                        "sensitive" : false
                      },
                      "include-empty-values" : {
                        "displayName" : "Include Empty Values",
                        "identifiesControllerService" : false,
                        "name" : "include-empty-values",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LookupAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original", "Failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "1883e965-e0f7-37e6-91be-d156340e5eb1",
                    "name" : "Query ConceptMap for ValueSet",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 328.0,
                      "y" : -984.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{FHIR_PASSWORD}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{FHIR_URL}/ConceptMap?source-system=${valueSet}&_count=1&_format=json",
                      "Content-Type" : "${mime.type}",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "GET",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{FHIR_USER}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "39b934ca-c469-3a5b-8292-8647213982b2",
                    "name" : "Get ConceptMap ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 336.0,
                      "y" : -400.0
                    },
                    "properties" : {
                      "conceptMapID" : "$.resource.id",
                      "Destination" : "flowfile-attribute",
                      "Return Type" : "auto-detect",
                      "Null Value Representation" : "empty string",
                      "Path Not Found Behavior" : "warn"
                    },
                    "propertyDescriptors" : {
                      "conceptMapID" : {
                        "displayName" : "conceptMapID",
                        "identifiesControllerService" : false,
                        "name" : "conceptMapID",
                        "sensitive" : false
                      },
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "original", "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Get the requested ConceptMap out of the array if it's there.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "7d9aef37-a0cf-3116-8619-d947f2850a92",
                    "identifier" : "2c9dc3e6-8859-3bd5-bed8-65c9fd9925a6",
                    "name" : "Split ConceptMaps",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 336.0,
                      "y" : -592.0
                    },
                    "properties" : {
                      "Null Value Representation" : "empty string",
                      "JsonPath Expression" : "entry"
                    },
                    "propertyDescriptors" : {
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "JsonPath Expression" : {
                        "displayName" : "JsonPath Expression",
                        "identifiesControllerService" : false,
                        "name" : "JsonPath Expression",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.SplitJson",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "Input:\nA FHIR Resource\n\nOutput:\n- The FHIR Resource persisted in the file system in NIFI_HOME/temp/terminology-flow/{uuid}\n- An attribute set with the resource identifier resource.uuid.\n- An attribute called \"translated\" set to false",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "ba8f2ab1-403d-3879-86c2-7f4eae190a5e",
                      "name" : "success",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "7aac0f31-2e09-37f7-9928-d26e685d568e",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "Each FHIR Resource that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the resource. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR Resource that we saved in the previous step.\n\nThis processor will save the ID of this resource in an attribute called resource.uuid.",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "47538869-3086-30fd-b3b6-b90d28422ed6",
                      "name" : "Set Resource UUID Attribute",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The original FHIR Resource needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming resource to the NIFI_HOME/temp/terminology-flow/{uuid}",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "3b7fb098-ce14-31e9-a505-4d70bf9f7805",
                      "name" : "Save Original FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "b41a20da-9ee1-38a8-8054-c4c4782418f8",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "e54e3eae-c63f-3a8c-add6-61d422905d7c",
                      "name" : "FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Each FHIR Resource that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the resource. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR Resource that we saved in the previous step.\n\nThis processor will save the ID of this resource in an attribute called resource.uuid.",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "47538869-3086-30fd-b3b6-b90d28422ed6",
                      "name" : "Set Resource UUID Attribute",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "c1d627af-58e8-363e-b0f4-06f6edb45054",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The original FHIR Resource needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming resource to the NIFI_HOME/temp/terminology-flow/{uuid}",
                      "groupId" : "971a62e2-5666-3761-8503-7237252c8a0f",
                      "id" : "3b7fb098-ce14-31e9-a505-4d70bf9f7805",
                      "name" : "Save Original FHIR Resource File",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "e54e3eae-c63f-3a8c-add6-61d422905d7c",
                    "name" : "FHIR Resource",
                    "position" : {
                      "x" : 752.0,
                      "y" : -1104.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Persist FHIR Resource",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "ba8f2ab1-403d-3879-86c2-7f4eae190a5e",
                    "name" : "success",
                    "position" : {
                      "x" : 760.0,
                      "y" : -536.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 760.0,
                    "y" : -1256.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Each FHIR Resource that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the resource. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR Resource that we saved in the previous step.\n\nThis processor will save the ID of this resource in an attribute called resource.uuid.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "47538869-3086-30fd-b3b6-b90d28422ed6",
                    "name" : "Set Resource UUID Attribute",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 704.0,
                      "y" : -768.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "resource.uuid" : "${uuid}"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "resource.uuid" : {
                        "displayName" : "resource.uuid",
                        "identifiesControllerService" : false,
                        "name" : "resource.uuid",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The original FHIR Resource needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming resource to the NIFI_HOME/temp/terminology-flow/{uuid}",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "971a62e2-5666-3761-8503-7237252c8a0f",
                    "identifier" : "3b7fb098-ce14-31e9-a505-4d70bf9f7805",
                    "name" : "Save Original FHIR Resource File",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 704.0,
                      "y" : -976.0
                    },
                    "properties" : {
                      "Create Missing Directories" : "true",
                      "Directory" : "temp/terminology-flow",
                      "Conflict Resolution Strategy" : "replace"
                    },
                    "propertyDescriptors" : {
                      "Group" : {
                        "displayName" : "Group",
                        "identifiesControllerService" : false,
                        "name" : "Group",
                        "sensitive" : false
                      },
                      "Owner" : {
                        "displayName" : "Owner",
                        "identifiesControllerService" : false,
                        "name" : "Owner",
                        "sensitive" : false
                      },
                      "Create Missing Directories" : {
                        "displayName" : "Create Missing Directories",
                        "identifiesControllerService" : false,
                        "name" : "Create Missing Directories",
                        "sensitive" : false
                      },
                      "Permissions" : {
                        "displayName" : "Permissions",
                        "identifiesControllerService" : false,
                        "name" : "Permissions",
                        "sensitive" : false
                      },
                      "Maximum File Count" : {
                        "displayName" : "Maximum File Count",
                        "identifiesControllerService" : false,
                        "name" : "Maximum File Count",
                        "sensitive" : false
                      },
                      "Last Modified Time" : {
                        "displayName" : "Last Modified Time",
                        "identifiesControllerService" : false,
                        "name" : "Last Modified Time",
                        "sensitive" : false
                      },
                      "Directory" : {
                        "displayName" : "Directory",
                        "identifiesControllerService" : false,
                        "name" : "Directory",
                        "sensitive" : false
                      },
                      "Conflict Resolution Strategy" : {
                        "displayName" : "Conflict Resolution Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Conflict Resolution Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.PutFile",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "20128265-627c-3441-a0e6-2833e3968099",
                  "name" : "If \"code\" Then/Else",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 776.0,
                    "y" : -728.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "extension-without-code" : "${code:isEmpty()}",
                    "extension-with-code" : "${code:isEmpty():not()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "extension-without-code" : {
                      "displayName" : "extension-without-code",
                      "identifiesControllerService" : false,
                      "name" : "extension-without-code",
                      "sensitive" : false
                    },
                    "extension-with-code" : {
                      "displayName" : "extension-with-code",
                      "identifiesControllerService" : false,
                      "name" : "extension-with-code",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "6b68865e-50c1-3b48-8347-968b97ad6206",
                  "name" : "Wait For All Extensions Processing",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 280.0,
                    "y" : -752.0
                  },
                  "properties" : {
                    "wait-buffer-count" : "1",
                    "wait-mode" : "wait",
                    "attribute-copy-mode" : "keeporiginal",
                    "distributed-cache-service" : "8c9b3851-1efb-3e9d-af58-b65bdd2abc8b",
                    "releasable-flowfile-count" : "1",
                    "release-signal-id" : "${resource.uuid}",
                    "signal-counter-name" : "default",
                    "expiration-duration" : "1 min",
                    "target-signal-count" : "${fragment.count}"
                  },
                  "propertyDescriptors" : {
                    "wait-buffer-count" : {
                      "displayName" : "Wait Buffer Count",
                      "identifiesControllerService" : false,
                      "name" : "wait-buffer-count",
                      "sensitive" : false
                    },
                    "wait-mode" : {
                      "displayName" : "Wait Mode",
                      "identifiesControllerService" : false,
                      "name" : "wait-mode",
                      "sensitive" : false
                    },
                    "attribute-copy-mode" : {
                      "displayName" : "Attribute Copy Mode",
                      "identifiesControllerService" : false,
                      "name" : "attribute-copy-mode",
                      "sensitive" : false
                    },
                    "distributed-cache-service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "distributed-cache-service",
                      "sensitive" : false
                    },
                    "releasable-flowfile-count" : {
                      "displayName" : "Releasable FlowFile Count",
                      "identifiesControllerService" : false,
                      "name" : "releasable-flowfile-count",
                      "sensitive" : false
                    },
                    "release-signal-id" : {
                      "displayName" : "Release Signal Identifier",
                      "identifiesControllerService" : false,
                      "name" : "release-signal-id",
                      "sensitive" : false
                    },
                    "signal-counter-name" : {
                      "displayName" : "Signal Counter Name",
                      "identifiesControllerService" : false,
                      "name" : "signal-counter-name",
                      "sensitive" : false
                    },
                    "expiration-duration" : {
                      "displayName" : "Expiration Duration",
                      "identifiesControllerService" : false,
                      "name" : "expiration-duration",
                      "sensitive" : false
                    },
                    "target-signal-count" : {
                      "displayName" : "Target Signal Count",
                      "identifiesControllerService" : false,
                      "name" : "target-signal-count",
                      "sensitive" : false
                    },
                    "wait-penalty-duration" : {
                      "displayName" : "Wait Penalty Duration",
                      "identifiesControllerService" : false,
                      "name" : "wait-penalty-duration",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "1 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.Wait",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "31d94c3f-036f-3f8f-b554-9beda0e8d4a3",
                  "name" : "Notify Extension Processed (T9N)",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1448.0,
                    "y" : 48.0
                  },
                  "properties" : {
                    "signal-counter-delta" : "1",
                    "distributed-cache-service" : "8c9b3851-1efb-3e9d-af58-b65bdd2abc8b",
                    "signal-buffer-count" : "1",
                    "release-signal-id" : "${resource.uuid}",
                    "signal-counter-name" : "default",
                    "attribute-cache-regex" : "translated"
                  },
                  "propertyDescriptors" : {
                    "signal-counter-delta" : {
                      "displayName" : "Signal Counter Delta",
                      "identifiesControllerService" : false,
                      "name" : "signal-counter-delta",
                      "sensitive" : false
                    },
                    "distributed-cache-service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "distributed-cache-service",
                      "sensitive" : false
                    },
                    "signal-buffer-count" : {
                      "displayName" : "Signal Buffer Count",
                      "identifiesControllerService" : false,
                      "name" : "signal-buffer-count",
                      "sensitive" : false
                    },
                    "release-signal-id" : {
                      "displayName" : "Release Signal Identifier",
                      "identifiesControllerService" : false,
                      "name" : "release-signal-id",
                      "sensitive" : false
                    },
                    "signal-counter-name" : {
                      "displayName" : "Signal Counter Name",
                      "identifiesControllerService" : false,
                      "name" : "signal-counter-name",
                      "sensitive" : false
                    },
                    "attribute-cache-regex" : {
                      "displayName" : "Attribute Cache Regex",
                      "identifiesControllerService" : false,
                      "name" : "attribute-cache-regex",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.Notify",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "fd58f209-ab5a-3506-b470-fe2dc1e71121",
                  "identifier" : "99efd099-7646-3ea8-8078-3debd50b8835",
                  "name" : "Notify Extension Processed (No T9N)",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 776.0,
                    "y" : -520.0
                  },
                  "properties" : {
                    "signal-counter-delta" : "1",
                    "distributed-cache-service" : "8c9b3851-1efb-3e9d-af58-b65bdd2abc8b",
                    "signal-buffer-count" : "1",
                    "release-signal-id" : "${resource.uuid}",
                    "signal-counter-name" : "default",
                    "attribute-cache-regex" : "translated"
                  },
                  "propertyDescriptors" : {
                    "signal-counter-delta" : {
                      "displayName" : "Signal Counter Delta",
                      "identifiesControllerService" : false,
                      "name" : "signal-counter-delta",
                      "sensitive" : false
                    },
                    "distributed-cache-service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "distributed-cache-service",
                      "sensitive" : false
                    },
                    "signal-buffer-count" : {
                      "displayName" : "Signal Buffer Count",
                      "identifiesControllerService" : false,
                      "name" : "signal-buffer-count",
                      "sensitive" : false
                    },
                    "release-signal-id" : {
                      "displayName" : "Release Signal Identifier",
                      "identifiesControllerService" : false,
                      "name" : "release-signal-id",
                      "sensitive" : false
                    },
                    "signal-counter-name" : {
                      "displayName" : "Signal Counter Name",
                      "identifiesControllerService" : false,
                      "name" : "signal-counter-name",
                      "sensitive" : false
                    },
                    "attribute-cache-regex" : {
                      "displayName" : "Attribute Cache Regex",
                      "identifiesControllerService" : false,
                      "name" : "attribute-cache-regex",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.Notify",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "c4c9e92a-3962-3ad3-beec-bf0cd8d2c812",
              "identifier" : "84fe8238-a43c-32a4-af44-27f28c1fb3f0",
              "name" : "UpdateAttribute",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1480.0,
                "y" : 480.0
              },
              "properties" : {
                "ResolveTerminology" : "Enriched",
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100"
              },
              "propertyDescriptors" : {
                "ResolveTerminology" : {
                  "displayName" : "ResolveTerminology",
                  "identifiesControllerService" : false,
                  "name" : "ResolveTerminology",
                  "sensitive" : false
                },
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
                "id" : "62f5b7ad-c4ab-3c84-a3ef-50162d28aee3",
                "name" : "Update DeidentifyData to Enriched",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "c0acea28-9db4-3342-a649-f2dd1b3d5000",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "id" : "f57204ac-f1d9-32a0-b0c7-085546d73618",
                "name" : "FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
                "id" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
                "name" : "FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "175b9db9-1e78-304c-a17b-cce986337bbc",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
                "id" : "62f5b7ad-c4ab-3c84-a3ef-50162d28aee3",
                "name" : "Update DeidentifyData to Enriched",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
                "id" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
                "name" : "De-Identified FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "b8bc112a-54b0-3bc4-912a-42d5a48748cd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "id" : "5a5994ae-9381-3d87-8b30-3b1281142d40",
                "name" : "De-Identified FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "id" : "cae82ad6-71e5-306e-96f8-e75503480105",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "0be85f03-9ca0-39f9-b3b6-63d1bb88a1a5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
                "id" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "aee62770-b784-3db0-b17e-b8d7c8a97ce2",
              "name" : "FHIR Resource",
              "position" : {
                "x" : -488.0,
                "y" : -32.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "De-identify Patient Data",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "b70a5d82-0603-3a23-b1e2-9ecfc814a794",
              "name" : "De-Identified FHIR Resource",
              "position" : {
                "x" : 144.0,
                "y" : 200.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "f9f5fa94-6d58-3ae3-b1bf-66a706acafae",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 1456.0,
                "y" : -32.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
            "position" : {
              "x" : 912.0,
              "y" : 768.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "id" : "cf8d7225-398c-36dc-b3e4-a520b15a1820",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "e77c30ef-bc91-32d0-a331-e79042ccf431",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "id" : "d3c07aca-ea0f-30d2-a09b-edbd8c4db73c",
                  "name" : "FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1392.0,
                  "y" : 1840.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "id" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                  "name" : "Log and Post",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "7411d802-ebf8-31a4-b847-f921b043f092",
                "labelIndex" : 0,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "d4cb307e-a311-3e76-8f1d-da20fd8b53a7",
                  "name" : "Notify Resource Complete",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5704232f-6c2c-37d4-89ab-310fb2964087",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "0f3f79fb-ff2a-3ad4-a8be-f4b28870dacf",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "cae82ad6-71e5-306e-96f8-e75503480105",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2272.0,
                  "y" : 1928.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "id" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                  "name" : "Log and Post",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "0b3c0e58-8c06-3bf4-a9b2-e7d80f280569",
                "labelIndex" : 0,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "expired", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "id" : "af43fa85-b18f-362d-b7fd-4a221a5be801",
                  "name" : "FHIR Bundle",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "7d7f8086-0e36-3e32-ba92-a08aa34720c7",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5988c477-7a8a-382e-9ce1-c7f050ae29fa",
                  "name" : "Route On Resource Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5a5994ae-9381-3d87-8b30-3b1281142d40",
                  "name" : "De-Identified FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "6d848d67-3bf9-3460-852a-046ba487c7b5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5ed39d94-49bb-31c4-a9d2-30ec0bd6c998",
                  "name" : "Set Content and Mime Type to json",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eff72a55-a37d-3195-af05-c1fd903587a0",
                  "name" : "Set Fragment Count to 1",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "2ffdf36c-afc6-32bb-b0e1-15fe65850fe0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5988c477-7a8a-382e-9ce1-c7f050ae29fa",
                  "name" : "Route On Resource Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 694.3999633789062,
                  "y" : 1979.5443115234375
                }, {
                  "x" : 702.3999633789062,
                  "y" : 2051.5443115234375
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "b5e7f30c-53be-36f0-baf5-ab491fd44f99",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "wait" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5988c477-7a8a-382e-9ce1-c7f050ae29fa",
                  "name" : "Route On Resource Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "c55ba117-65a7-3a43-9252-2a76b3f0d565",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "fffc9e87-15f5-3a7e-992c-3559ac1a6873",
                  "name" : "Set RequestId from Input ResourceId",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1808.0,
                  "y" : 1856.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "b443cbb1-56cb-38cf-a469-368932c9ea4b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eff72a55-a37d-3195-af05-c1fd903587a0",
                  "name" : "Set Fragment Count to 1",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "f57204ac-f1d9-32a0-b0c7-085546d73618",
                  "name" : "FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "d41e8bf5-8c2f-3014-b263-e7d4ecf89375",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2200.0,
                  "y" : 320.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "id" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                  "name" : "Log and Post",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "345f4f76-96ae-35b1-9342-2e651f6088cd",
                "labelIndex" : 0,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5704232f-6c2c-37d4-89ab-310fb2964087",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "fffc9e87-15f5-3a7e-992c-3559ac1a6873",
                  "name" : "Set RequestId from Input ResourceId",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "494b482e-c271-33b4-bd11-6d19aa38dc4c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5704232f-6c2c-37d4-89ab-310fb2964087",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "id" : "cf8d7225-398c-36dc-b3e4-a520b15a1820",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "60eb8acc-4c60-3e20-b15c-bb5ba0f7799a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eff72a55-a37d-3195-af05-c1fd903587a0",
                  "name" : "Set Fragment Count to 1",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "d4cb307e-a311-3e76-8f1d-da20fd8b53a7",
                  "name" : "Notify Resource Complete",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "ef88f68a-96bb-3657-8fec-139b8d266b98",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "id" : "dfd27fcb-9ce1-3de1-b8a1-791f62304393",
                  "name" : "Processed FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "6b1c5722-466b-3440-855e-98b40154733b",
                  "name" : "MergeContent",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "5457ca03-ebaf-3f03-aa71-08b3fd3dd24c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "id" : "dfd27fcb-9ce1-3de1-b8a1-791f62304393",
                  "name" : "Processed FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "9d23d5fc-24f6-32e5-a91c-032871a03c40",
                  "name" : "Remove content/mime type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "198b2401-c8d1-3e50-a140-ce2a47bfc089",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "merged" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "6b1c5722-466b-3440-855e-98b40154733b",
                  "name" : "MergeContent",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 608.0,
                  "y" : 1800.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "eef8c430-4daf-3523-9a30-e4092792146a",
                  "name" : "Wait for all Resources to be Complete",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "23e22be1-aed0-3094-b1f0-8ef05694fff9",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "id" : "8f9822af-1259-39ac-bc4e-472455342598",
                  "name" : "original",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "5ed39d94-49bb-31c4-a9d2-30ec0bd6c998",
                  "name" : "Set Content and Mime Type to json",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "06f69d02-a6c9-3ed0-a999-ca62caf67bd3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "9d23d5fc-24f6-32e5-a91c-032871a03c40",
                  "name" : "Remove content/mime type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1976.0,
                  "y" : 1416.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "id" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                  "name" : "Log and Post",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "c3328377-6dba-3c9a-b482-e1707de3562e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "f09904a2-29db-3814-b99d-93776c3260c3",
                  "id" : "6b1c5722-466b-3440-855e-98b40154733b",
                  "name" : "MergeContent",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "cae82ad6-71e5-306e-96f8-e75503480105",
                "name" : "FHIR Resource",
                "position" : {
                  "x" : 744.0,
                  "y" : 152.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "height" : 72.0,
                "identifier" : "0b591565-f5dc-3577-a6d5-03138fe268ea",
                "label" : "For each identified resource, process it via \"De-Identify FHIR Resource\", \nbut wait for all to complete before returning.  Each resource will trigger \na Notify, and the Wait will pause until all resources have notified.",
                "position" : {
                  "x" : 592.0,
                  "y" : 888.0
                },
                "style" : {
                  "font-size" : "16px"
                },
                "width" : 544.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "height" : 72.0,
                "identifier" : "6e23fd67-5061-3e12-a5f8-7613f57fff3a",
                "label" : "Merge all de-identified resources \nback into a single fhir bundle",
                "position" : {
                  "x" : 1392.0,
                  "y" : 1000.0
                },
                "style" : {
                  "font-size" : "16px"
                },
                "width" : 256.0
              } ],
              "name" : "De-Identify FHIR Resource",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "5a5994ae-9381-3d87-8b30-3b1281142d40",
                "name" : "De-Identified FHIR Resource",
                "position" : {
                  "x" : 1392.0,
                  "y" : 1720.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "f57204ac-f1d9-32a0-b0c7-085546d73618",
                "name" : "FHIR Resource",
                "position" : {
                  "x" : 928.0,
                  "y" : 2160.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 72.0,
                "y" : -96.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "24bb3ce0-835d-3b38-8e69-4de735024cdc",
                    "name" : "Post to Kafka",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "a0248f3e-e167-3c1a-b685-9d58675f79a9",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "ae94c5c5-d6db-323a-9088-bea57794b126",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "a9291eff-d241-32de-82c2-f2a5e199a90e",
                    "name" : "LogMessage",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "4e3f1359-227d-3462-9075-b07bd48978f3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "76f20aeb-f645-3e10-b296-07da0f7ebcf2",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "8bbef267-8df9-373d-8161-faf523a10fd8",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "85faefe0-a844-330d-867e-90dbcff81034",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success", "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "24bb3ce0-835d-3b38-8e69-4de735024cdc",
                    "name" : "Post to Kafka",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "76f20aeb-f645-3e10-b296-07da0f7ebcf2",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "3fc7a6aa-3f95-3bed-9184-4d2175fe51b0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "ae94c5c5-d6db-323a-9088-bea57794b126",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "aaf45fb0-d4b7-3a52-9a5c-e98fe027c146",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                    "id" : "a9291eff-d241-32de-82c2-f2a5e199a90e",
                    "name" : "LogMessage",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "067dc719-ba1f-3604-8b55-dd6b818ef812",
                  "name" : "Log and Post",
                  "position" : {
                    "x" : 1432.0,
                    "y" : 1832.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Log and Post Failure",
                "outputPorts" : [ ],
                "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                "position" : {
                  "x" : 2136.0,
                  "y" : 1536.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "76f20aeb-f645-3e10-b296-07da0f7ebcf2",
                  "name" : "AttributesToJSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1375.1956507673563,
                    "y" : 1972.860155574584
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "Null Value" : "false",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "8bbef267-8df9-373d-8161-faf523a10fd8",
                  "name" : "ReplaceText",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1376.0,
                    "y" : 2984.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                    "Replacement Value" : "",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "ae94c5c5-d6db-323a-9088-bea57794b126",
                  "name" : "ReplaceText",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1376.0,
                    "y" : 2464.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Append"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-kafka-2-6-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "24bb3ce0-835d-3b38-8e69-4de735024cdc",
                  "name" : "Post to Kafka",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1376.0,
                    "y" : 2720.0
                  },
                  "properties" : {
                    "compression.type" : "none",
                    "attribute-name-regex" : "batchId",
                    "bootstrap.servers" : "#{kafka.brokers}",
                    "kafka-key" : "CONTENT",
                    "sasl.mechanism" : "PLAIN",
                    "max.block.ms" : "5 sec",
                    "message-header-encoding" : "UTF-8",
                    "ack.wait.time" : "5 secs",
                    "sasl.username" : "token",
                    "use-transactions" : "true",
                    "acks" : "all",
                    "security.protocol" : "PLAINTEXT",
                    "max.request.size" : "1 MB",
                    "sasl.token.auth" : "false",
                    "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                    "topic" : "failure.topic.in",
                    "sasl.password" : "#{kafka.auth.password}",
                    "key-attribute-encoding" : "utf-8"
                  },
                  "propertyDescriptors" : {
                    "compression.type" : {
                      "displayName" : "Compression Type",
                      "identifiesControllerService" : false,
                      "name" : "compression.type",
                      "sensitive" : false
                    },
                    "attribute-name-regex" : {
                      "displayName" : "Attributes to Send as Headers (Regex)",
                      "identifiesControllerService" : false,
                      "name" : "attribute-name-regex",
                      "sensitive" : false
                    },
                    "bootstrap.servers" : {
                      "displayName" : "Kafka Brokers",
                      "identifiesControllerService" : false,
                      "name" : "bootstrap.servers",
                      "sensitive" : false
                    },
                    "sasl.kerberos.principal" : {
                      "displayName" : "Kerberos Principal",
                      "identifiesControllerService" : false,
                      "name" : "sasl.kerberos.principal",
                      "sensitive" : false
                    },
                    "sasl.kerberos.service.name" : {
                      "displayName" : "Kerberos Service Name",
                      "identifiesControllerService" : false,
                      "name" : "sasl.kerberos.service.name",
                      "sensitive" : false
                    },
                    "kerberos-credentials-service" : {
                      "displayName" : "Kerberos Credentials Service",
                      "identifiesControllerService" : true,
                      "name" : "kerberos-credentials-service",
                      "sensitive" : false
                    },
                    "kafka-key" : {
                      "displayName" : "Kafka Key",
                      "identifiesControllerService" : false,
                      "name" : "kafka-key",
                      "sensitive" : false
                    },
                    "partition" : {
                      "displayName" : "Partition",
                      "identifiesControllerService" : false,
                      "name" : "partition",
                      "sensitive" : false
                    },
                    "sasl.mechanism" : {
                      "displayName" : "SASL Mechanism",
                      "identifiesControllerService" : false,
                      "name" : "sasl.mechanism",
                      "sensitive" : false
                    },
                    "max.block.ms" : {
                      "displayName" : "Max Metadata Wait Time",
                      "identifiesControllerService" : false,
                      "name" : "max.block.ms",
                      "sensitive" : false
                    },
                    "message-header-encoding" : {
                      "displayName" : "Message Header Encoding",
                      "identifiesControllerService" : false,
                      "name" : "message-header-encoding",
                      "sensitive" : false
                    },
                    "message-demarcator" : {
                      "displayName" : "Message Demarcator",
                      "identifiesControllerService" : false,
                      "name" : "message-demarcator",
                      "sensitive" : false
                    },
                    "transactional-id-prefix" : {
                      "displayName" : "Transactional Id Prefix",
                      "identifiesControllerService" : false,
                      "name" : "transactional-id-prefix",
                      "sensitive" : false
                    },
                    "ack.wait.time" : {
                      "displayName" : "Acknowledgment Wait Time",
                      "identifiesControllerService" : false,
                      "name" : "ack.wait.time",
                      "sensitive" : false
                    },
                    "sasl.username" : {
                      "displayName" : "Username",
                      "identifiesControllerService" : false,
                      "name" : "sasl.username",
                      "sensitive" : false
                    },
                    "use-transactions" : {
                      "displayName" : "Use Transactions",
                      "identifiesControllerService" : false,
                      "name" : "use-transactions",
                      "sensitive" : false
                    },
                    "acks" : {
                      "displayName" : "Delivery Guarantee",
                      "identifiesControllerService" : false,
                      "name" : "acks",
                      "sensitive" : false
                    },
                    "security.protocol" : {
                      "displayName" : "Security Protocol",
                      "identifiesControllerService" : false,
                      "name" : "security.protocol",
                      "sensitive" : false
                    },
                    "ssl.context.service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "ssl.context.service",
                      "sensitive" : false
                    },
                    "max.request.size" : {
                      "displayName" : "Max Request Size",
                      "identifiesControllerService" : false,
                      "name" : "max.request.size",
                      "sensitive" : false
                    },
                    "sasl.token.auth" : {
                      "displayName" : "Token Auth",
                      "identifiesControllerService" : false,
                      "name" : "sasl.token.auth",
                      "sensitive" : false
                    },
                    "partitioner.class" : {
                      "displayName" : "Partitioner class",
                      "identifiesControllerService" : false,
                      "name" : "partitioner.class",
                      "sensitive" : false
                    },
                    "sasl.kerberos.keytab" : {
                      "displayName" : "Kerberos Keytab",
                      "identifiesControllerService" : false,
                      "name" : "sasl.kerberos.keytab",
                      "sensitive" : false
                    },
                    "topic" : {
                      "displayName" : "Topic Name",
                      "identifiesControllerService" : false,
                      "name" : "topic",
                      "sensitive" : false
                    },
                    "sasl.password" : {
                      "displayName" : "Password",
                      "identifiesControllerService" : false,
                      "name" : "sasl.password",
                      "sensitive" : true
                    },
                    "key-attribute-encoding" : {
                      "displayName" : "Key Attribute Encoding",
                      "identifiesControllerService" : false,
                      "name" : "key-attribute-encoding",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "ERROR",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "87c8e8fe-80c1-3463-8163-c1c5306673d2",
                  "identifier" : "a9291eff-d241-32de-82c2-f2a5e199a90e",
                  "name" : "LogMessage",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1376.0,
                    "y" : 2240.0
                  },
                  "properties" : {
                    "log-message" : "${JSONAttributes}",
                    "log-level" : "error",
                    "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1272.0,
                    "y" : 1880.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "id" : "c7e3900c-e565-3239-ae64-411572aa3b22",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "64c0c5f8-7647-3b9d-bd7a-b52c51c17ceb",
                  "labelIndex" : 0,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "6b8b7e8b-0619-344b-81bb-8dcb0a030f74",
                    "name" : "Route on Resource Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 688.0,
                    "y" : 2192.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                    "name" : "Get FHIR De-ID'd Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "bf084aa4-0a24-3f61-a3b9-ef3ac510ece1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "id" : "16ae5e70-32e8-322b-9731-67e16cdb632b",
                    "name" : "De-Identified FHIR Patient Id",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "43463e71-d7ed-379c-a29b-570f49eb0fd5",
                    "name" : "Set Fragment Count",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "c778acf5-fbab-3abe-ab2b-f36ad3e9d6bf",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "cf8d7225-398c-36dc-b3e4-a520b15a1820",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "id" : "b61de28c-c278-3add-8cb8-1612336db003",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "74c5c9d3-dac5-32f3-b503-f7cef7ccfcc0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                    "name" : "Get FHIR De-ID'd Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "73cf0fdd-8afb-3c9c-8511-1ccb8882c061",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "d5ece755-c2a9-3545-9332-93537b7dd8c4",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "3654c93e-eb45-3d02-9945-b06febecd7c8",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "id" : "72231b9b-879d-3c35-afb9-6eee6e747a74",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "d332750d-2da2-3e0c-a389-5a0937a9bb76",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "others" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "6b8b7e8b-0619-344b-81bb-8dcb0a030f74",
                    "name" : "Route on Resource Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 744.0,
                    "y" : 1880.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "id" : "abf1eefa-6ab5-3e20-bdff-4671e08abc9b",
                    "name" : "FHIR Patient",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "67a03ed0-a98e-3a81-8a13-cdbd44a0c6ee",
                  "labelIndex" : 0,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "patients" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "6b8b7e8b-0619-344b-81bb-8dcb0a030f74",
                    "name" : "Route on Resource Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1312.0,
                    "y" : 2184.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                    "name" : "Get FHIR De-ID'd Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "5c3d6865-81b8-30f5-91b5-28aaa7d5373f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "id" : "f3bc4750-bca8-3879-b0f9-822fecc08952",
                    "name" : "Persisted FHIR Resource Id",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "3654c93e-eb45-3d02-9945-b06febecd7c8",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "0ca83f21-16f8-3a2f-a55c-abe54642d370",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                    "name" : "Get FHIR De-ID'd Resource",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                    "name" : "Get FHIR De-ID'd Resource",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "d1288433-043f-3154-8dd8-f0b95bdeb8a2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "id" : "5660b800-9c18-3264-9532-043ff61661d9",
                    "name" : "De-Identified FHIR Resource Id",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "id" : "b61de28c-c278-3add-8cb8-1612336db003",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "79ebc68a-8c9b-37bf-9339-a58f0be89fdf",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "3654c93e-eb45-3d02-9945-b06febecd7c8",
                    "name" : "ReplaceText",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "6b8b7e8b-0619-344b-81bb-8dcb0a030f74",
                    "name" : "Route on Resource Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "5e76ecf0-3fac-3d7f-ab5b-72c51f0be01b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "43463e71-d7ed-379c-a29b-570f49eb0fd5",
                    "name" : "Set Fragment Count",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "dfd27fcb-9ce1-3de1-b8a1-791f62304393",
                    "name" : "Processed FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "7cdab854-d856-37cd-ab52-0f624496b617",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                    "id" : "73cf0fdd-8afb-3c9c-8511-1ccb8882c061",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "cf8d7225-398c-36dc-b3e4-a520b15a1820",
                  "name" : "FHIR Resource",
                  "position" : {
                    "x" : 888.0,
                    "y" : 1392.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "height" : 88.0,
                  "identifier" : "454e8ccb-d251-3945-b7c8-db4342879c66",
                  "label" : "De-identify patient resources.\nUpdate resources referencing a patient Id with \nthe corresponding de-identified id.\nIgnore other resources.",
                  "position" : {
                    "x" : 264.0,
                    "y" : 1832.0
                  },
                  "style" : {
                    "font-size" : "16px"
                  },
                  "width" : 352.0
                } ],
                "name" : "De-Identify FHIR Resource",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "dfd27fcb-9ce1-3de1-b8a1-791f62304393",
                  "name" : "Processed FHIR Resource",
                  "position" : {
                    "x" : 888.0,
                    "y" : 2928.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                "position" : {
                  "x" : 672.0,
                  "y" : 1064.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "f3bc4750-bca8-3879-b0f9-822fecc08952",
                      "name" : "Persisted FHIR Resource Id",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "c663e3a0-39ca-3f33-89fa-f6ba6e78b648",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "044f8947-ab35-3d87-8552-5df36b6ef2d3",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "id" : "5d716bca-81a4-3794-aba8-c6569d6f14e4",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "dc904d94-7d8e-38dc-a7d0-09edddf67359",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "044f8947-ab35-3d87-8552-5df36b6ef2d3",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "044f8947-ab35-3d87-8552-5df36b6ef2d3",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "4fdb4b81-c8d4-3d74-8511-95afbf6d3bf1",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "c7e3900c-e565-3239-ae64-411572aa3b22",
                      "name" : "FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "1a35ae75-d982-38ea-8726-be629bf349e2",
                      "name" : "Success Log",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "4c224470-d45e-3cd1-a99e-4be13b7eacff",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                      "id" : "044f8947-ab35-3d87-8552-5df36b6ef2d3",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "c7e3900c-e565-3239-ae64-411572aa3b22",
                    "name" : "FHIR Resource",
                    "position" : {
                      "x" : 728.0,
                      "y" : 104.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Persist Un-De-Identifiable Resource",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "f3bc4750-bca8-3879-b0f9-822fecc08952",
                    "name" : "Persisted FHIR Resource Id",
                    "position" : {
                      "x" : 728.0,
                      "y" : 448.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                  "position" : {
                    "x" : 1256.0,
                    "y" : 1944.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "0ec85e13-c080-3ba4-baa5-05eda31ae2b8",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "ff201d2d-40f7-363c-8449-6c2d43f2a04f",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "d8d02aac-cf88-3d3d-b9b9-fd596eb5d76f",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "b851d11c-f627-3ef5-9411-cff50c894072",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "4f85d146-6079-3cfb-83c1-09bda88da505",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "db4df0d6-f2ce-3020-98d3-c38010edee9d",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "d8d02aac-cf88-3d3d-b9b9-fd596eb5d76f",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "b9b3ed42-da9a-3162-9f25-b2dad02e3d0e",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "a704ddaf-60bb-3984-aac9-bc17288be810",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "a704ddaf-60bb-3984-aac9-bc17288be810",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "2b2acad7-e87e-3fc5-b6db-dfb1898fa467",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "b851d11c-f627-3ef5-9411-cff50c894072",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "db4df0d6-f2ce-3020-98d3-c38010edee9d",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "0e618794-7589-3c57-9e03-6bd2a8e3a697",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                        "id" : "5d716bca-81a4-3794-aba8-c6569d6f14e4",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "5d716bca-81a4-3794-aba8-c6569d6f14e4",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : 1152.0,
                      "y" : 40.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "a704ddaf-60bb-3984-aac9-bc17288be810",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "d8d02aac-cf88-3d3d-b9b9-fd596eb5d76f",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "0ec85e13-c080-3ba4-baa5-05eda31ae2b8",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "db4df0d6-f2ce-3020-98d3-c38010edee9d",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "c057838a-576d-38c3-83d8-e3fc4bf7926f",
                      "identifier" : "b851d11c-f627-3ef5-9411-cff50c894072",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "success" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "1a35ae75-d982-38ea-8726-be629bf349e2",
                    "name" : "Success Log",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1152.0,
                      "y" : 296.0
                    },
                    "properties" : {
                      "character-set" : "utf-8",
                      "Log Level" : "info",
                      "attributes-to-log-regex" : ".*",
                      "Log Payload" : "false"
                    },
                    "propertyDescriptors" : {
                      "Log prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "Log prefix",
                        "sensitive" : false
                      },
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "Log Level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "Log Level",
                        "sensitive" : false
                      },
                      "attributes-to-ignore-regex" : {
                        "displayName" : "Attributes to Ignore by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-ignore-regex",
                        "sensitive" : false
                      },
                      "Attributes to Ignore" : {
                        "displayName" : "Attributes to Ignore",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Ignore",
                        "sensitive" : false
                      },
                      "Attributes to Log" : {
                        "displayName" : "Attributes to Log",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Log",
                        "sensitive" : false
                      },
                      "attributes-to-log-regex" : {
                        "displayName" : "Attributes to Log by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-log-regex",
                        "sensitive" : false
                      },
                      "Log Payload" : {
                        "displayName" : "Log Payload",
                        "identifiesControllerService" : false,
                        "name" : "Log Payload",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#49d100"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "1357b7f1-49ee-3975-b7fe-903ef9e4bc4e",
                    "identifier" : "044f8947-ab35-3d87-8552-5df36b6ef2d3",
                    "name" : "Create FHIR De-ID'd Patient",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 672.0,
                      "y" : 224.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{DEID_FHIR_SERVER}/${resourceType}",
                      "Content-Type" : "application/fhir+json",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "19a0325d-0396-3e1f-87c0-837c1323de6c",
                      "name" : "AttributesToJSON",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "71a1fa53-f8c1-3159-bfc4-2daaf248c6f3",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "b61de28c-c278-3add-8cb8-1612336db003",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "2d05e7c8-1c92-39f9-a383-c5c3d5300a6f",
                      "name" : "Post to Kafka",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "d058189f-a6e0-3349-894f-48d6890f62a0",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "6f6ab6b3-4b57-3b5b-8b64-26247bc395ff",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "c4929204-01e0-349a-957a-7dee328c3c55",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "f80c3302-5b85-3d8a-8126-3b6924c5c1c8",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "2d05e7c8-1c92-39f9-a383-c5c3d5300a6f",
                      "name" : "Post to Kafka",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "43ec773c-9a64-3f49-a537-bb07a9cb32e9",
                      "name" : "LogMessage",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "dcad61a6-1229-328d-95d8-ec324854595e",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "19a0325d-0396-3e1f-87c0-837c1323de6c",
                      "name" : "AttributesToJSON",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "6f6ab6b3-4b57-3b5b-8b64-26247bc395ff",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "d37346d8-1c2d-3459-a15c-43c9fb838507",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                      "id" : "43ec773c-9a64-3f49-a537-bb07a9cb32e9",
                      "name" : "LogMessage",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "b61de28c-c278-3add-8cb8-1612336db003",
                    "name" : "Log and Post",
                    "position" : {
                      "x" : 1432.0,
                      "y" : 1832.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Log and Post Failure",
                  "outputPorts" : [ ],
                  "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                  "position" : {
                    "x" : 1872.0,
                    "y" : 2248.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "success", "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "c4929204-01e0-349a-957a-7dee328c3c55",
                    "name" : "ReplaceText",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2984.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "19a0325d-0396-3e1f-87c0-837c1323de6c",
                    "name" : "AttributesToJSON",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1375.1956507673563,
                      "y" : 1972.860155574584
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "Null Value" : "false",
                      "Include Core Attributes" : "false"
                    },
                    "propertyDescriptors" : {
                      "attributes-to-json-regex" : {
                        "displayName" : "Attributes Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-json-regex",
                        "sensitive" : false
                      },
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "Null Value" : {
                        "displayName" : "Null Value",
                        "identifiesControllerService" : false,
                        "name" : "Null Value",
                        "sensitive" : false
                      },
                      "Attributes List" : {
                        "displayName" : "Attributes List",
                        "identifiesControllerService" : false,
                        "name" : "Attributes List",
                        "sensitive" : false
                      },
                      "Include Core Attributes" : {
                        "displayName" : "Include Core Attributes",
                        "identifiesControllerService" : false,
                        "name" : "Include Core Attributes",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "6f6ab6b3-4b57-3b5b-8b64-26247bc395ff",
                    "name" : "ReplaceText",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2464.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(^.*$)",
                      "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Append"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "ERROR",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "43ec773c-9a64-3f49-a537-bb07a9cb32e9",
                    "name" : "LogMessage",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2240.0
                    },
                    "properties" : {
                      "log-message" : "${JSONAttributes}",
                      "log-level" : "error",
                      "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-kafka-2-6-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "8a67fcef-537a-3cb7-8d1c-28368efe1db2",
                    "identifier" : "2d05e7c8-1c92-39f9-a383-c5c3d5300a6f",
                    "name" : "Post to Kafka",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2720.0
                    },
                    "properties" : {
                      "compression.type" : "none",
                      "attribute-name-regex" : "batchId",
                      "bootstrap.servers" : "#{kafka.brokers}",
                      "kafka-key" : "CONTENT",
                      "sasl.mechanism" : "PLAIN",
                      "max.block.ms" : "5 sec",
                      "message-header-encoding" : "UTF-8",
                      "ack.wait.time" : "5 secs",
                      "sasl.username" : "token",
                      "use-transactions" : "true",
                      "acks" : "all",
                      "security.protocol" : "PLAINTEXT",
                      "max.request.size" : "1 MB",
                      "sasl.token.auth" : "false",
                      "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                      "topic" : "failure.topic.in",
                      "sasl.password" : "#{kafka.auth.password}",
                      "key-attribute-encoding" : "utf-8"
                    },
                    "propertyDescriptors" : {
                      "compression.type" : {
                        "displayName" : "Compression Type",
                        "identifiesControllerService" : false,
                        "name" : "compression.type",
                        "sensitive" : false
                      },
                      "attribute-name-regex" : {
                        "displayName" : "Attributes to Send as Headers (Regex)",
                        "identifiesControllerService" : false,
                        "name" : "attribute-name-regex",
                        "sensitive" : false
                      },
                      "bootstrap.servers" : {
                        "displayName" : "Kafka Brokers",
                        "identifiesControllerService" : false,
                        "name" : "bootstrap.servers",
                        "sensitive" : false
                      },
                      "sasl.kerberos.principal" : {
                        "displayName" : "Kerberos Principal",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.principal",
                        "sensitive" : false
                      },
                      "sasl.kerberos.service.name" : {
                        "displayName" : "Kerberos Service Name",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.service.name",
                        "sensitive" : false
                      },
                      "kerberos-credentials-service" : {
                        "displayName" : "Kerberos Credentials Service",
                        "identifiesControllerService" : true,
                        "name" : "kerberos-credentials-service",
                        "sensitive" : false
                      },
                      "kafka-key" : {
                        "displayName" : "Kafka Key",
                        "identifiesControllerService" : false,
                        "name" : "kafka-key",
                        "sensitive" : false
                      },
                      "partition" : {
                        "displayName" : "Partition",
                        "identifiesControllerService" : false,
                        "name" : "partition",
                        "sensitive" : false
                      },
                      "sasl.mechanism" : {
                        "displayName" : "SASL Mechanism",
                        "identifiesControllerService" : false,
                        "name" : "sasl.mechanism",
                        "sensitive" : false
                      },
                      "max.block.ms" : {
                        "displayName" : "Max Metadata Wait Time",
                        "identifiesControllerService" : false,
                        "name" : "max.block.ms",
                        "sensitive" : false
                      },
                      "message-header-encoding" : {
                        "displayName" : "Message Header Encoding",
                        "identifiesControllerService" : false,
                        "name" : "message-header-encoding",
                        "sensitive" : false
                      },
                      "message-demarcator" : {
                        "displayName" : "Message Demarcator",
                        "identifiesControllerService" : false,
                        "name" : "message-demarcator",
                        "sensitive" : false
                      },
                      "transactional-id-prefix" : {
                        "displayName" : "Transactional Id Prefix",
                        "identifiesControllerService" : false,
                        "name" : "transactional-id-prefix",
                        "sensitive" : false
                      },
                      "ack.wait.time" : {
                        "displayName" : "Acknowledgment Wait Time",
                        "identifiesControllerService" : false,
                        "name" : "ack.wait.time",
                        "sensitive" : false
                      },
                      "sasl.username" : {
                        "displayName" : "Username",
                        "identifiesControllerService" : false,
                        "name" : "sasl.username",
                        "sensitive" : false
                      },
                      "use-transactions" : {
                        "displayName" : "Use Transactions",
                        "identifiesControllerService" : false,
                        "name" : "use-transactions",
                        "sensitive" : false
                      },
                      "acks" : {
                        "displayName" : "Delivery Guarantee",
                        "identifiesControllerService" : false,
                        "name" : "acks",
                        "sensitive" : false
                      },
                      "security.protocol" : {
                        "displayName" : "Security Protocol",
                        "identifiesControllerService" : false,
                        "name" : "security.protocol",
                        "sensitive" : false
                      },
                      "ssl.context.service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "ssl.context.service",
                        "sensitive" : false
                      },
                      "max.request.size" : {
                        "displayName" : "Max Request Size",
                        "identifiesControllerService" : false,
                        "name" : "max.request.size",
                        "sensitive" : false
                      },
                      "sasl.token.auth" : {
                        "displayName" : "Token Auth",
                        "identifiesControllerService" : false,
                        "name" : "sasl.token.auth",
                        "sensitive" : false
                      },
                      "partitioner.class" : {
                        "displayName" : "Partitioner class",
                        "identifiesControllerService" : false,
                        "name" : "partitioner.class",
                        "sensitive" : false
                      },
                      "sasl.kerberos.keytab" : {
                        "displayName" : "Kerberos Keytab",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.keytab",
                        "sensitive" : false
                      },
                      "topic" : {
                        "displayName" : "Topic Name",
                        "identifiesControllerService" : false,
                        "name" : "topic",
                        "sensitive" : false
                      },
                      "sasl.password" : {
                        "displayName" : "Password",
                        "identifiesControllerService" : false,
                        "name" : "sasl.password",
                        "sensitive" : true
                      },
                      "key-attribute-encoding" : {
                        "displayName" : "Key Attribute Encoding",
                        "identifiesControllerService" : false,
                        "name" : "key-attribute-encoding",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c2d7ae54-62a6-3208-a3f5-e452a7c59798",
                      "name" : "Map Old Patient ID to New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "398aca2a-a19d-3352-ad74-7945a5c6bc84",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "54ca05fd-4d61-35a8-8d25-8abe2dc92752",
                      "name" : "Save New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "08949646-3c1a-34b7-b5a1-10490c65cea4",
                      "name" : "Escape Quotes",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "4edb1ee4-fe68-3ede-9f78-73a89127802f",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c29cf25d-9900-3f7a-81b6-d9091dc1a695",
                      "name" : "Drop Unnecessary Fields",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ecc040ba-cce3-3c49-8e41-66aa9f0d9b90",
                      "name" : "Prepare Request Body",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "2d0bbe7a-0307-32f7-bd9d-e83d61e47cc4",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "e282f505-304f-3554-99ca-a79b4d8f7e0f",
                      "name" : "Quote Escaped JSON",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "2fdca226-24ef-3bd0-acfe-c999488021cd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure", "unmatched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ce44e823-6692-38af-9f99-54e95781356e",
                      "name" : "EvaluateJsonPath",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "16ae5e70-32e8-322b-9731-67e16cdb632b",
                      "name" : "De-Identified FHIR Patient Id",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "92e41ac6-0dcb-3d84-8a8f-9b0ba127a6d6",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c2d7ae54-62a6-3208-a3f5-e452a7c59798",
                      "name" : "Map Old Patient ID to New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "0efdd36e-430b-3ad9-8d75-ae2a585ce6ed",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "e4a87f77-d4d9-38fe-b04c-fc31f767bd2c",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ce44e823-6692-38af-9f99-54e95781356e",
                      "name" : "EvaluateJsonPath",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "6d16b886-068d-3bca-8857-0c9b158cb300",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ecc040ba-cce3-3c49-8e41-66aa9f0d9b90",
                      "name" : "Prepare Request Body",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "301cfac3-c179-3f15-a5c6-d834c0f263fd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "08949646-3c1a-34b7-b5a1-10490c65cea4",
                      "name" : "Escape Quotes",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "e282f505-304f-3554-99ca-a79b4d8f7e0f",
                      "name" : "Quote Escaped JSON",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "eb0bb7c8-561f-371d-9d4d-d8f8f75e7872",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "08949646-3c1a-34b7-b5a1-10490c65cea4",
                      "name" : "Escape Quotes",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "22278105-943b-39ae-a7aa-fbf4ae8008a3",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c2d7ae54-62a6-3208-a3f5-e452a7c59798",
                      "name" : "Map Old Patient ID to New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "ff871cc7-3688-3676-a6d7-196d6e057997",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "42d313ac-948d-3370-a25e-2529de81849e",
                      "name" : "REST API De-ID Request",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "6bc61280-d1d3-3322-8074-c16c77373b76",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "54ca05fd-4d61-35a8-8d25-8abe2dc92752",
                      "name" : "Save New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c29cf25d-9900-3f7a-81b6-d9091dc1a695",
                      "name" : "Drop Unnecessary Fields",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "7874a960-b38f-3692-9a65-5eb0a2a9e3a7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "abf1eefa-6ab5-3e20-bdff-4671e08abc9b",
                      "name" : "FHIR Patient",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                      "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "7c376768-f22c-3557-b8ea-6d9e529621b0",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "0efdd36e-430b-3ad9-8d75-ae2a585ce6ed",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "06cf9281-aba3-3e3d-bc0f-40188b28e2e5",
                      "name" : "Success Log",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "9190e65b-fe04-3682-b907-bbe038d416cf",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "c2d7ae54-62a6-3208-a3f5-e452a7c59798",
                      "name" : "Map Old Patient ID to New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "54ca05fd-4d61-35a8-8d25-8abe2dc92752",
                      "name" : "Save New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "ff0288f2-4cdb-3bff-9af5-c92ceb5f0736",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "6404d347-c632-331c-9942-27254c4e5ab8",
                      "name" : "Extract New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ce44e823-6692-38af-9f99-54e95781356e",
                      "name" : "EvaluateJsonPath",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "1a0723c4-63d2-3cbb-bcd5-9acd47eac0d4",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "42d313ac-948d-3370-a25e-2529de81849e",
                      "name" : "REST API De-ID Request",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "42d313ac-948d-3370-a25e-2529de81849e",
                      "name" : "REST API De-ID Request",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "5b938096-3682-35e9-8667-055f74b062aa",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "ecc040ba-cce3-3c49-8e41-66aa9f0d9b90",
                      "name" : "Prepare Request Body",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "6404d347-c632-331c-9942-27254c4e5ab8",
                      "name" : "Extract New Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "06359642-8bbd-3430-979d-c473cfa4c5cf",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                      "id" : "0efdd36e-430b-3ad9-8d75-ae2a585ce6ed",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "abf1eefa-6ab5-3e20-bdff-4671e08abc9b",
                    "name" : "FHIR Patient",
                    "position" : {
                      "x" : 1240.0,
                      "y" : 728.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "De-Identify Patient",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "16ae5e70-32e8-322b-9731-67e16cdb632b",
                    "name" : "De-Identified FHIR Patient Id",
                    "position" : {
                      "x" : 1240.0,
                      "y" : 3048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                  "position" : {
                    "x" : 384.0,
                    "y" : 1944.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "37183988-083b-3663-996e-4f221fe456b1",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "14b59f85-4ff6-37e3-8112-3392b2b25606",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "89918e5b-559e-3aad-bccc-c7d778d69905",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "dd75d965-1560-397f-ae03-20da95f735d3",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "10b071bf-5c19-3ecf-9336-99039b9dd7cd",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "37183988-083b-3663-996e-4f221fe456b1",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "ec5f3ba0-cfdb-33ea-8c4c-94d7cd504754",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "a8aeaa9c-347a-357f-bd4f-c11b1de7148a",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "dd75d965-1560-397f-ae03-20da95f735d3",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "89918e5b-559e-3aad-bccc-c7d778d69905",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "857c1717-2acc-3748-8a7a-11c8f5926b21",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "8e8c0a6f-c4d8-3d2b-87b0-7f59b932bea7",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "1551f428-d947-38ae-90fa-d20c6c1e17b0",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "43638a84-c336-3298-a125-c52aac314208",
                        "id" : "ec5f3ba0-cfdb-33ea-8c4c-94d7cd504754",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "43638a84-c336-3298-a125-c52aac314208",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "77c7a200-ec2b-38b7-9fb8-f16fc5b00d5c",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : 2280.0,
                      "y" : 1744.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "ec5f3ba0-cfdb-33ea-8c4c-94d7cd504754",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "dd75d965-1560-397f-ae03-20da95f735d3",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "37183988-083b-3663-996e-4f221fe456b1",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "89918e5b-559e-3aad-bccc-c7d778d69905",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "43638a84-c336-3298-a125-c52aac314208",
                      "identifier" : "8e8c0a6f-c4d8-3d2b-87b0-7f59b932bea7",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "54ca05fd-4d61-35a8-8d25-8abe2dc92752",
                    "name" : "Save New Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 2600.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(^.*$)",
                      "Replacement Value" : "${newPatientId}",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "success" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "06cf9281-aba3-3e3d-bc0f-40188b28e2e5",
                    "name" : "Success Log",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1824.0,
                      "y" : 2824.0
                    },
                    "properties" : {
                      "character-set" : "utf-8",
                      "Log Level" : "info",
                      "attributes-to-log-regex" : ".*",
                      "Log Payload" : "false"
                    },
                    "propertyDescriptors" : {
                      "Log prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "Log prefix",
                        "sensitive" : false
                      },
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "Log Level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "Log Level",
                        "sensitive" : false
                      },
                      "attributes-to-ignore-regex" : {
                        "displayName" : "Attributes to Ignore by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-ignore-regex",
                        "sensitive" : false
                      },
                      "Attributes to Ignore" : {
                        "displayName" : "Attributes to Ignore",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Ignore",
                        "sensitive" : false
                      },
                      "Attributes to Log" : {
                        "displayName" : "Attributes to Log",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Log",
                        "sensitive" : false
                      },
                      "attributes-to-log-regex" : {
                        "displayName" : "Attributes to Log by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-log-regex",
                        "sensitive" : false
                      },
                      "Log Payload" : {
                        "displayName" : "Log Payload",
                        "identifiesControllerService" : false,
                        "name" : "Log Payload",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#49d100"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "ecc040ba-cce3-3c49-8e41-66aa9f0d9b90",
                    "name" : "Prepare Request Body",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 1520.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(^.*$)",
                      "Replacement Value" : "{\n\t\"config\": \"{\\\\\\\"rules\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"hash\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"HASH\\\\\\\"}]},{\\\\\\\"name\\\\\\\":\\\\\\\"date\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"DATETIME\\\\\\\",\\\\\\\"maskShiftDate\\\\\\\":true,\\\\\\\"maskShiftSeconds\\\\\\\":987678654}]},{\\\\\\\"name\\\\\\\":\\\\\\\"random\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"RANDOM\\\\\\\"}]},{\\\\\\\"name\\\\\\\":\\\\\\\"delete\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"NULL\\\\\\\"}]}],\\\\\\\"json\\\\\\\":{\\\\\\\"schemaType\\\\\\\":\\\\\\\"FHIR\\\\\\\",\\\\\\\"messageTypeKey\\\\\\\":\\\\\\\"resourceType\\\\\\\",\\\\\\\"messageTypes\\\\\\\":[\\\\\\\"Patient\\\\\\\",\\\\\\\"Observation\\\\\\\",\\\\\\\"Condition\\\\\\\",\\\\\\\"Procedure\\\\\\\"],\\\\\\\"maskingRules\\\\\\\":[{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/UUID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/city\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/district\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/line\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/postalCode\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/birthDate\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"date\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/city\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/district\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/line\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/postalCode\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/family\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/telecom/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/deceasedDateTime\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/deviceInfo\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/name/family\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/name/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/federationNumber\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/assigner/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/assigner/reference\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"hash\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/coding/code\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/coding/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/coding/code\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/coding/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/messageID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/ptpsIdentifier\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/ptpsVersion\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/requestID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/telecom/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"}]}}\",\n\t\"data\": [\n\t    \"$1\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "08949646-3c1a-34b7-b5a1-10490c65cea4",
                    "name" : "Escape Quotes",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 1080.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)\\\"",
                      "Replacement Value" : "\\\\\\\"",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "6404d347-c632-331c-9942-27254c4e5ab8",
                    "name" : "Extract New Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 2376.0
                    },
                    "properties" : {
                      "filename" : "patient.json",
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "application/json",
                      "newPatientId" : "${Location:replaceAll('${invokehttp.request.url}/(.+)/_.*', '$1')}"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "filename" : {
                        "displayName" : "filename",
                        "identifiesControllerService" : false,
                        "name" : "filename",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "newPatientId" : {
                        "displayName" : "newPatientId",
                        "identifiesControllerService" : false,
                        "name" : "newPatientId",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "e282f505-304f-3554-99ca-a79b4d8f7e0f",
                    "name" : "Quote Escaped JSON",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 1296.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(^.*$)",
                      "Replacement Value" : "$1",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "0efdd36e-430b-3ad9-8d75-ae2a585ce6ed",
                    "name" : "Create FHIR De-ID'd Patient",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 2160.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{DEID_FHIR_SERVER}/Patient",
                      "Content-Type" : "${mime.type}",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "c2d7ae54-62a6-3208-a3f5-e452a7c59798",
                    "name" : "Map Old Patient ID to New Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 2816.0
                    },
                    "properties" : {
                      "Cache Entry Identifier" : "${resourceId}",
                      "Cache update strategy" : "replace",
                      "Distributed Cache Service" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
                      "Max cache entry size" : "1 MB"
                    },
                    "propertyDescriptors" : {
                      "Cache Entry Identifier" : {
                        "displayName" : "Cache Entry Identifier",
                        "identifiesControllerService" : false,
                        "name" : "Cache Entry Identifier",
                        "sensitive" : false
                      },
                      "Cache update strategy" : {
                        "displayName" : "Cache update strategy",
                        "identifiesControllerService" : false,
                        "name" : "Cache update strategy",
                        "sensitive" : false
                      },
                      "Distributed Cache Service" : {
                        "displayName" : "Distributed Cache Service",
                        "identifiesControllerService" : true,
                        "name" : "Distributed Cache Service",
                        "sensitive" : false
                      },
                      "Max cache entry size" : {
                        "displayName" : "Max cache entry size",
                        "identifiesControllerService" : false,
                        "name" : "Max cache entry size",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "c29cf25d-9900-3f7a-81b6-d9091dc1a695",
                    "name" : "Drop Unnecessary Fields",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 856.0
                    },
                    "properties" : {
                      "jolt-spec" : "{\n    \"text\": \"\"\n}\n",
                      "jolt-transform" : "jolt-transform-remove",
                      "pretty_print" : "false",
                      "Transform Cache Size" : "1"
                    },
                    "propertyDescriptors" : {
                      "jolt-spec" : {
                        "displayName" : "Jolt Specification",
                        "identifiesControllerService" : false,
                        "name" : "jolt-spec",
                        "sensitive" : false
                      },
                      "jolt-transform" : {
                        "displayName" : "Jolt Transformation DSL",
                        "identifiesControllerService" : false,
                        "name" : "jolt-transform",
                        "sensitive" : false
                      },
                      "jolt-custom-class" : {
                        "displayName" : "Custom Transformation Class Name",
                        "identifiesControllerService" : false,
                        "name" : "jolt-custom-class",
                        "sensitive" : false
                      },
                      "jolt-custom-modules" : {
                        "displayName" : "Custom Module Directory",
                        "identifiesControllerService" : false,
                        "name" : "jolt-custom-modules",
                        "sensitive" : false
                      },
                      "pretty_print" : {
                        "displayName" : "Pretty Print",
                        "identifiesControllerService" : false,
                        "name" : "pretty_print",
                        "sensitive" : false
                      },
                      "Transform Cache Size" : {
                        "displayName" : "Transform Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "Transform Cache Size",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.JoltTransformJSON",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "ce44e823-6692-38af-9f99-54e95781356e",
                    "name" : "EvaluateJsonPath",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 1944.0
                    },
                    "properties" : {
                      "Destination" : "flowfile-content",
                      "data" : "$.data[0]",
                      "Return Type" : "json",
                      "Null Value Representation" : "empty string",
                      "Path Not Found Behavior" : "ignore"
                    },
                    "propertyDescriptors" : {
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "data" : {
                        "displayName" : "data",
                        "identifiesControllerService" : false,
                        "name" : "data",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "ada3f093-af87-3431-8ad1-3a3b830a3b56",
                    "identifier" : "42d313ac-948d-3370-a25e-2529de81849e",
                    "name" : "REST API De-ID Request",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1184.0,
                      "y" : 1736.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "User-Agent" : "NiFi",
                      "Proxy Type" : "http",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Tenant" : "tenant",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{DEID_SERVICE_API_URL}",
                      "Content-Type" : "application/json",
                      "max-idle-connections" : "5",
                      "Accept" : "application/json",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "apikey",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false",
                      "Useragent" : "nifi"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "User-Agent" : {
                        "displayName" : "User-Agent",
                        "identifiesControllerService" : false,
                        "name" : "User-Agent",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Tenant" : {
                        "displayName" : "Tenant",
                        "identifiesControllerService" : false,
                        "name" : "Tenant",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "Accept" : {
                        "displayName" : "Accept",
                        "identifiesControllerService" : false,
                        "name" : "Accept",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                }, {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "4bfd0a35-159a-311c-acb6-b0a136810f74",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "94fd6bd5-c0a6-3c45-8afa-72d818faf324",
                      "name" : "Extract Patient UUID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "5660b800-9c18-3264-9532-043ff61661d9",
                      "name" : "De-Identified FHIR Resource Id",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "d9450e15-7f0e-324d-b036-f9b244048a75",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "ab8a0848-0d56-3a7d-a3a1-bd4ae5f5ac82",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "899c9f88-1998-34c1-a8b1-3ef6ecdaf094",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "e3859161-834e-33b0-8763-f368e34ddf2b",
                      "name" : "Extract Patient UUID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "50f6df84-c8b8-37c8-85e4-f1a64e037d78",
                      "name" : "Route if PatientId contains special characters",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "fc61c411-c3b6-3373-a413-0d335a0a8ecd",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "matched" ],
                    "source" : {
                      "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "72dacc9c-3074-301d-976e-c1dcba281eb4",
                      "name" : "Extract Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "72dacc9c-3074-301d-976e-c1dcba281eb4",
                      "name" : "Extract Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "5337ab65-2fed-31bb-ad43-7735bfbc4284",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "72231b9b-879d-3c35-afb9-6eee6e747a74",
                      "name" : "FHIR Resource",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "ab8a0848-0d56-3a7d-a3a1-bd4ae5f5ac82",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "303ce2d9-63d1-3084-b350-ef99f02c23a7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "eb897439-5ed5-3080-aec5-774a8fa06e2c",
                      "name" : "Replace Old Patient ID with De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "id" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "186b379e-9f6b-34ee-abc1-2ed78e396946",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "retries_exceeded", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "cbe58f01-399f-30bb-b9d9-9153bb0a6ad2",
                      "name" : "RetryFlowFile",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "e3859161-834e-33b0-8763-f368e34ddf2b",
                      "name" : "Extract Patient UUID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "e2fb1ea7-cab1-3ae2-80ed-25770098a500",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "ContainsSlash" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "50f6df84-c8b8-37c8-85e4-f1a64e037d78",
                      "name" : "Route if PatientId contains special characters",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : -456.0,
                      "y" : 2440.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "407cc1b9-626a-3ccc-954b-a435a847b026",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "retry" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "cbe58f01-399f-30bb-b9d9-9153bb0a6ad2",
                      "name" : "RetryFlowFile",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "c15715c0-05ae-3040-bdb9-cf912956ecf0",
                      "name" : "Success Log",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "c2dfdf24-1d13-3ecb-a712-09565b0a6fc4",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "Response" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "ab8a0848-0d56-3a7d-a3a1-bd4ae5f5ac82",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "id" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "4ca861ae-c275-337b-8b9b-bd03643758b8",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "ab8a0848-0d56-3a7d-a3a1-bd4ae5f5ac82",
                      "name" : "Create FHIR De-ID'd Patient",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "eb897439-5ed5-3080-aec5-774a8fa06e2c",
                      "name" : "Replace Old Patient ID with De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "92c31c32-16e1-3871-9ad0-63f91abc9bca",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 1000,
                    "bends" : [ {
                      "x" : -456.0,
                      "y" : 2368.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "cbe58f01-399f-30bb-b9d9-9153bb0a6ad2",
                      "name" : "RetryFlowFile",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "180 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "db33828a-97f7-33db-bfd6-10ed6181a3c6",
                    "labelIndex" : 0,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "not-found" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "id" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "f05ab8da-06bd-3b73-b7a3-fb8ee5b3518a",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                      "name" : "Retrieve De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "fdcc9094-8627-31ea-a841-dd0c61477493",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "unmatched" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "50f6df84-c8b8-37c8-85e4-f1a64e037d78",
                      "name" : "Route if PatientId contains special characters",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "94fd6bd5-c0a6-3c45-8afa-72d818faf324",
                      "name" : "Extract Patient UUID",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "9b9b56c7-4380-3047-bf1e-79fadc81cdf6",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "ContainsColon" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "50f6df84-c8b8-37c8-85e4-f1a64e037d78",
                      "name" : "Route if PatientId contains special characters",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "id" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "06e96ae3-70f4-300b-87ae-76b64fe10a66",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                      "groupId" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                      "id" : "eb897439-5ed5-3080-aec5-774a8fa06e2c",
                      "name" : "Replace Old Patient ID with De-Identified Patient ID",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "72231b9b-879d-3c35-afb9-6eee6e747a74",
                    "name" : "FHIR Resource",
                    "position" : {
                      "x" : -896.0,
                      "y" : 1584.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ {
                    "componentType" : "LABEL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "height" : 576.0,
                    "identifier" : "f573131b-1dbf-3bf3-8ca2-1c2a0883d752",
                    "label" : "Extract/Normalize Patient Id \nfrom FHIR Json",
                    "position" : {
                      "x" : -1280.0,
                      "y" : 1688.0
                    },
                    "style" : {
                      "background-color" : "#fdffe0",
                      "font-size" : "16px"
                    },
                    "width" : 1000.0
                  } ],
                  "name" : "De-Identify FHIR Resource",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "5660b800-9c18-3264-9532-043ff61661d9",
                    "name" : "De-Identified FHIR Resource Id",
                    "position" : {
                      "x" : -904.0,
                      "y" : 3032.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                  "position" : {
                    "x" : 816.0,
                    "y" : 1944.0
                  },
                  "processGroups" : [ {
                    "comments" : "",
                    "componentType" : "PROCESS_GROUP",
                    "connections" : [ {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "6342e88e-fe30-3f0f-9384-2c23b3929398",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "d351bd77-6a41-317c-9498-eed88f44bea5",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "af79e201-39b4-31f4-bd74-ad00f31fa4f4",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "e5442a3f-acf0-30a7-820a-e7e7c72b3d0c",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "4f84bb52-201b-3a23-bc80-dfa5eb27c802",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "" ],
                      "source" : {
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                        "name" : "Log and Post",
                        "type" : "INPUT_PORT"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "2339f89f-7e8b-33c5-8ed3-8dd8281be864",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "ff433e31-522e-3e7f-b4aa-defb219fb1af",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "e5442a3f-acf0-30a7-820a-e7e7c72b3d0c",
                        "name" : "AttributesToJSON",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "af79e201-39b4-31f4-bd74-ad00f31fa4f4",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "6202d90a-cc35-34ca-a894-721ab0f13130",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "2339f89f-7e8b-33c5-8ed3-8dd8281be864",
                        "name" : "LogMessage",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    }, {
                      "backPressureDataSizeThreshold" : "1 GB",
                      "backPressureObjectThreshold" : 10000,
                      "bends" : [ ],
                      "componentType" : "CONNECTION",
                      "destination" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "00a4bbba-81aa-31fe-842b-794dd9cebc52",
                        "name" : "ReplaceText",
                        "type" : "PROCESSOR"
                      },
                      "flowFileExpiration" : "0 sec",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "c61c7b93-0e77-3550-9e36-525321f375db",
                      "labelIndex" : 1,
                      "loadBalanceCompression" : "DO_NOT_COMPRESS",
                      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                      "name" : "",
                      "partitioningAttribute" : "",
                      "prioritizers" : [ ],
                      "selectedRelationships" : [ "success", "failure" ],
                      "source" : {
                        "comments" : "",
                        "groupId" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                        "id" : "6342e88e-fe30-3f0f-9384-2c23b3929398",
                        "name" : "Post to Kafka",
                        "type" : "PROCESSOR"
                      },
                      "zIndex" : 0
                    } ],
                    "controllerServices" : [ ],
                    "flowFileConcurrency" : "UNBOUNDED",
                    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                    "funnels" : [ ],
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                    "inputPorts" : [ {
                      "allowRemoteAccess" : false,
                      "componentType" : "INPUT_PORT",
                      "concurrentlySchedulableTaskCount" : 1,
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "b4bd18f8-f4fb-3111-b75a-dae0ca169e7d",
                      "name" : "Log and Post",
                      "position" : {
                        "x" : 1432.0,
                        "y" : 1832.0
                      },
                      "type" : "INPUT_PORT"
                    } ],
                    "labels" : [ ],
                    "name" : "Log and Post Failure",
                    "outputPorts" : [ ],
                    "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                    "position" : {
                      "x" : 64.0,
                      "y" : 2536.0
                    },
                    "processGroups" : [ ],
                    "processors" : [ {
                      "autoTerminatedRelationships" : [ "success", "failure" ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "00a4bbba-81aa-31fe-842b-794dd9cebc52",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2984.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                        "Replacement Value" : "",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Regex Replace"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "ERROR",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "2339f89f-7e8b-33c5-8ed3-8dd8281be864",
                      "name" : "LogMessage",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2240.0
                      },
                      "properties" : {
                        "log-message" : "${JSONAttributes}",
                        "log-level" : "error",
                        "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                      },
                      "propertyDescriptors" : {
                        "log-message" : {
                          "displayName" : "Log message",
                          "identifiesControllerService" : false,
                          "name" : "log-message",
                          "sensitive" : false
                        },
                        "log-level" : {
                          "displayName" : "Log Level",
                          "identifiesControllerService" : false,
                          "name" : "log-level",
                          "sensitive" : false
                        },
                        "log-prefix" : {
                          "displayName" : "Log prefix",
                          "identifiesControllerService" : false,
                          "name" : "log-prefix",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.LogMessage",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-kafka-2-6-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "6342e88e-fe30-3f0f-9384-2c23b3929398",
                      "name" : "Post to Kafka",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2720.0
                      },
                      "properties" : {
                        "compression.type" : "none",
                        "attribute-name-regex" : "batchId",
                        "bootstrap.servers" : "#{kafka.brokers}",
                        "kafka-key" : "CONTENT",
                        "sasl.mechanism" : "PLAIN",
                        "max.block.ms" : "5 sec",
                        "message-header-encoding" : "UTF-8",
                        "ack.wait.time" : "5 secs",
                        "sasl.username" : "token",
                        "use-transactions" : "true",
                        "acks" : "all",
                        "security.protocol" : "PLAINTEXT",
                        "max.request.size" : "1 MB",
                        "sasl.token.auth" : "false",
                        "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                        "topic" : "failure.topic.in",
                        "sasl.password" : "#{kafka.auth.password}",
                        "key-attribute-encoding" : "utf-8"
                      },
                      "propertyDescriptors" : {
                        "compression.type" : {
                          "displayName" : "Compression Type",
                          "identifiesControllerService" : false,
                          "name" : "compression.type",
                          "sensitive" : false
                        },
                        "attribute-name-regex" : {
                          "displayName" : "Attributes to Send as Headers (Regex)",
                          "identifiesControllerService" : false,
                          "name" : "attribute-name-regex",
                          "sensitive" : false
                        },
                        "bootstrap.servers" : {
                          "displayName" : "Kafka Brokers",
                          "identifiesControllerService" : false,
                          "name" : "bootstrap.servers",
                          "sensitive" : false
                        },
                        "sasl.kerberos.principal" : {
                          "displayName" : "Kerberos Principal",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.principal",
                          "sensitive" : false
                        },
                        "sasl.kerberos.service.name" : {
                          "displayName" : "Kerberos Service Name",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.service.name",
                          "sensitive" : false
                        },
                        "kerberos-credentials-service" : {
                          "displayName" : "Kerberos Credentials Service",
                          "identifiesControllerService" : true,
                          "name" : "kerberos-credentials-service",
                          "sensitive" : false
                        },
                        "kafka-key" : {
                          "displayName" : "Kafka Key",
                          "identifiesControllerService" : false,
                          "name" : "kafka-key",
                          "sensitive" : false
                        },
                        "partition" : {
                          "displayName" : "Partition",
                          "identifiesControllerService" : false,
                          "name" : "partition",
                          "sensitive" : false
                        },
                        "sasl.mechanism" : {
                          "displayName" : "SASL Mechanism",
                          "identifiesControllerService" : false,
                          "name" : "sasl.mechanism",
                          "sensitive" : false
                        },
                        "max.block.ms" : {
                          "displayName" : "Max Metadata Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "max.block.ms",
                          "sensitive" : false
                        },
                        "message-header-encoding" : {
                          "displayName" : "Message Header Encoding",
                          "identifiesControllerService" : false,
                          "name" : "message-header-encoding",
                          "sensitive" : false
                        },
                        "message-demarcator" : {
                          "displayName" : "Message Demarcator",
                          "identifiesControllerService" : false,
                          "name" : "message-demarcator",
                          "sensitive" : false
                        },
                        "transactional-id-prefix" : {
                          "displayName" : "Transactional Id Prefix",
                          "identifiesControllerService" : false,
                          "name" : "transactional-id-prefix",
                          "sensitive" : false
                        },
                        "ack.wait.time" : {
                          "displayName" : "Acknowledgment Wait Time",
                          "identifiesControllerService" : false,
                          "name" : "ack.wait.time",
                          "sensitive" : false
                        },
                        "sasl.username" : {
                          "displayName" : "Username",
                          "identifiesControllerService" : false,
                          "name" : "sasl.username",
                          "sensitive" : false
                        },
                        "use-transactions" : {
                          "displayName" : "Use Transactions",
                          "identifiesControllerService" : false,
                          "name" : "use-transactions",
                          "sensitive" : false
                        },
                        "acks" : {
                          "displayName" : "Delivery Guarantee",
                          "identifiesControllerService" : false,
                          "name" : "acks",
                          "sensitive" : false
                        },
                        "security.protocol" : {
                          "displayName" : "Security Protocol",
                          "identifiesControllerService" : false,
                          "name" : "security.protocol",
                          "sensitive" : false
                        },
                        "ssl.context.service" : {
                          "displayName" : "SSL Context Service",
                          "identifiesControllerService" : true,
                          "name" : "ssl.context.service",
                          "sensitive" : false
                        },
                        "max.request.size" : {
                          "displayName" : "Max Request Size",
                          "identifiesControllerService" : false,
                          "name" : "max.request.size",
                          "sensitive" : false
                        },
                        "sasl.token.auth" : {
                          "displayName" : "Token Auth",
                          "identifiesControllerService" : false,
                          "name" : "sasl.token.auth",
                          "sensitive" : false
                        },
                        "partitioner.class" : {
                          "displayName" : "Partitioner class",
                          "identifiesControllerService" : false,
                          "name" : "partitioner.class",
                          "sensitive" : false
                        },
                        "sasl.kerberos.keytab" : {
                          "displayName" : "Kerberos Keytab",
                          "identifiesControllerService" : false,
                          "name" : "sasl.kerberos.keytab",
                          "sensitive" : false
                        },
                        "topic" : {
                          "displayName" : "Topic Name",
                          "identifiesControllerService" : false,
                          "name" : "topic",
                          "sensitive" : false
                        },
                        "sasl.password" : {
                          "displayName" : "Password",
                          "identifiesControllerService" : false,
                          "name" : "sasl.password",
                          "sensitive" : true
                        },
                        "key-attribute-encoding" : {
                          "displayName" : "Key Attribute Encoding",
                          "identifiesControllerService" : false,
                          "name" : "key-attribute-encoding",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "af79e201-39b4-31f4-bd74-ad00f31fa4f4",
                      "name" : "ReplaceText",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1376.0,
                        "y" : 2464.0
                      },
                      "properties" : {
                        "Regular Expression" : "(?s)(^.*$)",
                        "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                        "Evaluation Mode" : "Entire text",
                        "Line-by-Line Evaluation Mode" : "All",
                        "Character Set" : "UTF-8",
                        "Maximum Buffer Size" : "1 MB",
                        "Replacement Strategy" : "Append"
                      },
                      "propertyDescriptors" : {
                        "Regular Expression" : {
                          "displayName" : "Search Value",
                          "identifiesControllerService" : false,
                          "name" : "Regular Expression",
                          "sensitive" : false
                        },
                        "Replacement Value" : {
                          "displayName" : "Replacement Value",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Value",
                          "sensitive" : false
                        },
                        "Evaluation Mode" : {
                          "displayName" : "Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Evaluation Mode",
                          "sensitive" : false
                        },
                        "Line-by-Line Evaluation Mode" : {
                          "displayName" : "Line-by-Line Evaluation Mode",
                          "identifiesControllerService" : false,
                          "name" : "Line-by-Line Evaluation Mode",
                          "sensitive" : false
                        },
                        "Character Set" : {
                          "displayName" : "Character Set",
                          "identifiesControllerService" : false,
                          "name" : "Character Set",
                          "sensitive" : false
                        },
                        "Maximum Buffer Size" : {
                          "displayName" : "Maximum Buffer Size",
                          "identifiesControllerService" : false,
                          "name" : "Maximum Buffer Size",
                          "sensitive" : false
                        },
                        "Replacement Strategy" : {
                          "displayName" : "Replacement Strategy",
                          "identifiesControllerService" : false,
                          "name" : "Replacement Strategy",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.ReplaceText",
                      "yieldDuration" : "1 sec"
                    }, {
                      "autoTerminatedRelationships" : [ ],
                      "bulletinLevel" : "WARN",
                      "bundle" : {
                        "artifact" : "nifi-standard-nar",
                        "group" : "org.apache.nifi",
                        "version" : "1.12.1"
                      },
                      "comments" : "",
                      "componentType" : "PROCESSOR",
                      "concurrentlySchedulableTaskCount" : 1,
                      "executionNode" : "ALL",
                      "groupIdentifier" : "d41afc19-1a1b-352d-944d-d29d577ee975",
                      "identifier" : "e5442a3f-acf0-30a7-820a-e7e7c72b3d0c",
                      "name" : "AttributesToJSON",
                      "penaltyDuration" : "30 sec",
                      "position" : {
                        "x" : 1375.1956507673563,
                        "y" : 1972.860155574584
                      },
                      "properties" : {
                        "Destination" : "flowfile-attribute",
                        "Null Value" : "false",
                        "Include Core Attributes" : "false"
                      },
                      "propertyDescriptors" : {
                        "attributes-to-json-regex" : {
                          "displayName" : "Attributes Regular Expression",
                          "identifiesControllerService" : false,
                          "name" : "attributes-to-json-regex",
                          "sensitive" : false
                        },
                        "Destination" : {
                          "displayName" : "Destination",
                          "identifiesControllerService" : false,
                          "name" : "Destination",
                          "sensitive" : false
                        },
                        "Null Value" : {
                          "displayName" : "Null Value",
                          "identifiesControllerService" : false,
                          "name" : "Null Value",
                          "sensitive" : false
                        },
                        "Attributes List" : {
                          "displayName" : "Attributes List",
                          "identifiesControllerService" : false,
                          "name" : "Attributes List",
                          "sensitive" : false
                        },
                        "Include Core Attributes" : {
                          "displayName" : "Include Core Attributes",
                          "identifiesControllerService" : false,
                          "name" : "Include Core Attributes",
                          "sensitive" : false
                        }
                      },
                      "runDurationMillis" : 0,
                      "scheduledState" : "ENABLED",
                      "schedulingPeriod" : "0 sec",
                      "schedulingStrategy" : "TIMER_DRIVEN",
                      "style" : { },
                      "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                      "yieldDuration" : "1 sec"
                    } ],
                    "remoteProcessGroups" : [ ],
                    "variables" : { }
                  } ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 16,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "926a9755-985d-3371-b33e-0c0e1d547a65",
                    "name" : "Retrieve De-Identified Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -960.0,
                      "y" : 2384.0
                    },
                    "properties" : {
                      "Cache Entry Identifier" : "${patientId}",
                      "Put Cache Value In Attribute" : "newPatientId",
                      "Distributed Cache Service" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
                      "Max Length To Put In Attribute" : "256",
                      "Character Set" : "UTF-8"
                    },
                    "propertyDescriptors" : {
                      "Cache Entry Identifier" : {
                        "displayName" : "Cache Entry Identifier",
                        "identifiesControllerService" : false,
                        "name" : "Cache Entry Identifier",
                        "sensitive" : false
                      },
                      "Put Cache Value In Attribute" : {
                        "displayName" : "Put Cache Value In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Cache Value In Attribute",
                        "sensitive" : false
                      },
                      "Distributed Cache Service" : {
                        "displayName" : "Distributed Cache Service",
                        "identifiesControllerService" : true,
                        "name" : "Distributed Cache Service",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "1 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "eb897439-5ed5-3080-aec5-774a8fa06e2c",
                    "name" : "Replace Old Patient ID with De-Identified Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -960.0,
                      "y" : 2592.0
                    },
                    "properties" : {
                      "Regular Expression" : "${patientId}",
                      "Replacement Value" : "${newPatientId}",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "Original" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "ab8a0848-0d56-3a7d-a3a1-bd4ae5f5ac82",
                    "name" : "Create FHIR De-ID'd Patient",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -960.0,
                      "y" : 2808.0
                    },
                    "properties" : {
                      "use-etag" : "false",
                      "Proxy Type" : "http",
                      "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                      "Connection Timeout" : "5 secs",
                      "send-message-body" : "true",
                      "set-form-filename" : "true",
                      "Always Output Response" : "false",
                      "etag-max-cache-size" : "10MB",
                      "idle-timeout" : "5 mins",
                      "Use Chunked Encoding" : "false",
                      "Follow Redirects" : "True",
                      "Remote URL" : "#{DEID_FHIR_SERVER}/${resourceType}",
                      "Content-Type" : "application/fhir+json",
                      "max-idle-connections" : "5",
                      "Read Timeout" : "15 secs",
                      "Max Length To Put In Attribute" : "256",
                      "ignore-response-content" : "false",
                      "Digest Authentication" : "false",
                      "HTTP Method" : "POST",
                      "Add Response Headers to Request" : "false",
                      "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                      "Include Date Header" : "True",
                      "Penalize on \"No Retry\"" : "false"
                    },
                    "propertyDescriptors" : {
                      "Proxy Host" : {
                        "displayName" : "Proxy Host",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Host",
                        "sensitive" : false
                      },
                      "Attributes to Send" : {
                        "displayName" : "Attributes to Send",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Send",
                        "sensitive" : false
                      },
                      "use-etag" : {
                        "displayName" : "Use HTTP ETag",
                        "identifiesControllerService" : false,
                        "name" : "use-etag",
                        "sensitive" : false
                      },
                      "proxy-configuration-service" : {
                        "displayName" : "Proxy Configuration Service",
                        "identifiesControllerService" : true,
                        "name" : "proxy-configuration-service",
                        "sensitive" : false
                      },
                      "Proxy Type" : {
                        "displayName" : "Proxy Type",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Type",
                        "sensitive" : false
                      },
                      "Basic Authentication Password" : {
                        "displayName" : "Basic Authentication Password",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Password",
                        "sensitive" : true
                      },
                      "Connection Timeout" : {
                        "displayName" : "Connection Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Connection Timeout",
                        "sensitive" : false
                      },
                      "send-message-body" : {
                        "displayName" : "Send Message Body",
                        "identifiesControllerService" : false,
                        "name" : "send-message-body",
                        "sensitive" : false
                      },
                      "set-form-filename" : {
                        "displayName" : "Set Flowfile Form Data File Name",
                        "identifiesControllerService" : false,
                        "name" : "set-form-filename",
                        "sensitive" : false
                      },
                      "Always Output Response" : {
                        "displayName" : "Always Output Response",
                        "identifiesControllerService" : false,
                        "name" : "Always Output Response",
                        "sensitive" : false
                      },
                      "etag-max-cache-size" : {
                        "displayName" : "Maximum ETag Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "etag-max-cache-size",
                        "sensitive" : false
                      },
                      "idle-timeout" : {
                        "displayName" : "Idle Timeout",
                        "identifiesControllerService" : false,
                        "name" : "idle-timeout",
                        "sensitive" : false
                      },
                      "Put Response Body In Attribute" : {
                        "displayName" : "Put Response Body In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Put Response Body In Attribute",
                        "sensitive" : false
                      },
                      "Use Chunked Encoding" : {
                        "displayName" : "Use Chunked Encoding",
                        "identifiesControllerService" : false,
                        "name" : "Use Chunked Encoding",
                        "sensitive" : false
                      },
                      "Follow Redirects" : {
                        "displayName" : "Follow Redirects",
                        "identifiesControllerService" : false,
                        "name" : "Follow Redirects",
                        "sensitive" : false
                      },
                      "Remote URL" : {
                        "displayName" : "Remote URL",
                        "identifiesControllerService" : false,
                        "name" : "Remote URL",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      },
                      "form-body-form-name" : {
                        "displayName" : "Flowfile Form Data Name",
                        "identifiesControllerService" : false,
                        "name" : "form-body-form-name",
                        "sensitive" : false
                      },
                      "max-idle-connections" : {
                        "displayName" : "Max Idle Connections",
                        "identifiesControllerService" : false,
                        "name" : "max-idle-connections",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-user" : {
                        "displayName" : "Proxy Username",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-user",
                        "sensitive" : false
                      },
                      "Read Timeout" : {
                        "displayName" : "Read Timeout",
                        "identifiesControllerService" : false,
                        "name" : "Read Timeout",
                        "sensitive" : false
                      },
                      "Max Length To Put In Attribute" : {
                        "displayName" : "Max Length To Put In Attribute",
                        "identifiesControllerService" : false,
                        "name" : "Max Length To Put In Attribute",
                        "sensitive" : false
                      },
                      "invokehttp-proxy-password" : {
                        "displayName" : "Proxy Password",
                        "identifiesControllerService" : false,
                        "name" : "invokehttp-proxy-password",
                        "sensitive" : true
                      },
                      "ignore-response-content" : {
                        "displayName" : "Ignore response's content",
                        "identifiesControllerService" : false,
                        "name" : "ignore-response-content",
                        "sensitive" : false
                      },
                      "Proxy Port" : {
                        "displayName" : "Proxy Port",
                        "identifiesControllerService" : false,
                        "name" : "Proxy Port",
                        "sensitive" : false
                      },
                      "SSL Context Service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "SSL Context Service",
                        "sensitive" : false
                      },
                      "Digest Authentication" : {
                        "displayName" : "Use Digest Authentication",
                        "identifiesControllerService" : false,
                        "name" : "Digest Authentication",
                        "sensitive" : false
                      },
                      "HTTP Method" : {
                        "displayName" : "HTTP Method",
                        "identifiesControllerService" : false,
                        "name" : "HTTP Method",
                        "sensitive" : false
                      },
                      "Add Response Headers to Request" : {
                        "displayName" : "Add Response Headers to Request",
                        "identifiesControllerService" : false,
                        "name" : "Add Response Headers to Request",
                        "sensitive" : false
                      },
                      "Basic Authentication Username" : {
                        "displayName" : "Basic Authentication Username",
                        "identifiesControllerService" : false,
                        "name" : "Basic Authentication Username",
                        "sensitive" : false
                      },
                      "Include Date Header" : {
                        "displayName" : "Include Date Header",
                        "identifiesControllerService" : false,
                        "name" : "Include Date Header",
                        "sensitive" : false
                      },
                      "Penalize on \"No Retry\"" : {
                        "displayName" : "Penalize on \"No Retry\"",
                        "identifiesControllerService" : false,
                        "name" : "Penalize on \"No Retry\"",
                        "sensitive" : false
                      },
                      "Useragent" : {
                        "displayName" : "Useragent",
                        "identifiesControllerService" : false,
                        "name" : "Useragent",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "94fd6bd5-c0a6-3c45-8afa-72d818faf324",
                    "name" : "Extract Patient UUID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -1264.0,
                      "y" : 2120.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "patientId" : "${patientId:getDelimitedField(3,':')}"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "patientId" : {
                        "displayName" : "patientId",
                        "identifiesControllerService" : false,
                        "name" : "patientId",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "cbe58f01-399f-30bb-b9d9-9153bb0a6ad2",
                    "name" : "RetryFlowFile",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -296.0,
                      "y" : 2312.0
                    },
                    "properties" : {
                      "penalize-retries" : "true",
                      "maximum-retries" : "3",
                      "Fail on Non-numerical Overwrite" : "false",
                      "reuse-mode" : "fail",
                      "retry-attribute" : "flowfile.retries"
                    },
                    "propertyDescriptors" : {
                      "penalize-retries" : {
                        "displayName" : "Penalize Retries",
                        "identifiesControllerService" : false,
                        "name" : "penalize-retries",
                        "sensitive" : false
                      },
                      "maximum-retries" : {
                        "displayName" : "Maximum Retries",
                        "identifiesControllerService" : false,
                        "name" : "maximum-retries",
                        "sensitive" : false
                      },
                      "Fail on Non-numerical Overwrite" : {
                        "displayName" : "Fail on Non-numerical Overwrite",
                        "identifiesControllerService" : false,
                        "name" : "Fail on Non-numerical Overwrite",
                        "sensitive" : false
                      },
                      "reuse-mode" : {
                        "displayName" : "Reuse Mode",
                        "identifiesControllerService" : false,
                        "name" : "reuse-mode",
                        "sensitive" : false
                      },
                      "retry-attribute" : {
                        "displayName" : "Retry Attribute",
                        "identifiesControllerService" : false,
                        "name" : "retry-attribute",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "5 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "e3859161-834e-33b0-8763-f368e34ddf2b",
                    "name" : "Extract Patient UUID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -648.0,
                      "y" : 2120.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "patientId" : "${patientId:getDelimitedField(2,'/')}"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "patientId" : {
                        "displayName" : "patientId",
                        "identifiesControllerService" : false,
                        "name" : "patientId",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "success" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "c15715c0-05ae-3040-bdb9-cf912956ecf0",
                    "name" : "Success Log",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -320.0,
                      "y" : 2864.0
                    },
                    "properties" : {
                      "character-set" : "utf-8",
                      "Log Level" : "info",
                      "attributes-to-log-regex" : ".*",
                      "Log Payload" : "false"
                    },
                    "propertyDescriptors" : {
                      "Log prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "Log prefix",
                        "sensitive" : false
                      },
                      "character-set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "character-set",
                        "sensitive" : false
                      },
                      "Log Level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "Log Level",
                        "sensitive" : false
                      },
                      "attributes-to-ignore-regex" : {
                        "displayName" : "Attributes to Ignore by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-ignore-regex",
                        "sensitive" : false
                      },
                      "Attributes to Ignore" : {
                        "displayName" : "Attributes to Ignore",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Ignore",
                        "sensitive" : false
                      },
                      "Attributes to Log" : {
                        "displayName" : "Attributes to Log",
                        "identifiesControllerService" : false,
                        "name" : "Attributes to Log",
                        "sensitive" : false
                      },
                      "attributes-to-log-regex" : {
                        "displayName" : "Attributes to Log by Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-log-regex",
                        "sensitive" : false
                      },
                      "Log Payload" : {
                        "displayName" : "Log Payload",
                        "identifiesControllerService" : false,
                        "name" : "Log Payload",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#49d100"
                    },
                    "type" : "org.apache.nifi.processors.standard.LogAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "50f6df84-c8b8-37c8-85e4-f1a64e037d78",
                    "name" : "Route if PatientId contains special characters",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -952.0,
                      "y" : 1912.0
                    },
                    "properties" : {
                      "Routing Strategy" : "Route to Property name",
                      "ContainsColon" : "${patientId:contains(\":\")}",
                      "ContainsSlash" : "${patientId:contains(\"/\")}"
                    },
                    "propertyDescriptors" : {
                      "Routing Strategy" : {
                        "displayName" : "Routing Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Routing Strategy",
                        "sensitive" : false
                      },
                      "ContainsColon" : {
                        "displayName" : "ContainsColon",
                        "identifiesControllerService" : false,
                        "name" : "ContainsColon",
                        "sensitive" : false
                      },
                      "ContainsSlash" : {
                        "displayName" : "ContainsSlash",
                        "identifiesControllerService" : false,
                        "name" : "ContainsSlash",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "0a028ab6-e01f-3d64-9b5b-3068e71223c6",
                    "identifier" : "72dacc9c-3074-301d-976e-c1dcba281eb4",
                    "name" : "Extract Patient ID",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : -952.0,
                      "y" : 1704.0
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "patientId" : "$.subject.reference",
                      "Return Type" : "auto-detect",
                      "Null Value Representation" : "empty string",
                      "Path Not Found Behavior" : "warn"
                    },
                    "propertyDescriptors" : {
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "patientId" : {
                        "displayName" : "patientId",
                        "identifiesControllerService" : false,
                        "name" : "patientId",
                        "sensitive" : false
                      },
                      "Return Type" : {
                        "displayName" : "Return Type",
                        "identifiesControllerService" : false,
                        "name" : "Return Type",
                        "sensitive" : false
                      },
                      "Null Value Representation" : {
                        "displayName" : "Null Value Representation",
                        "identifiesControllerService" : false,
                        "name" : "Null Value Representation",
                        "sensitive" : false
                      },
                      "Path Not Found Behavior" : {
                        "displayName" : "Path Not Found Behavior",
                        "identifiesControllerService" : false,
                        "name" : "Path Not Found Behavior",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : {
                      "background-color" : "#ffffff"
                    },
                    "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "43463e71-d7ed-379c-a29b-570f49eb0fd5",
                  "name" : "Set Fragment Count",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : 1496.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "fhirResourceCount" : "${fragment.count}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "fhirResourceCount" : {
                      "displayName" : "fhirResourceCount",
                      "identifiesControllerService" : false,
                      "name" : "fhirResourceCount",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "850cbc7c-26bd-3aba-b7d6-b0c05b10a1b2",
                  "name" : "Get FHIR De-ID'd Resource",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : 2240.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "${Location}",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "GET",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "6b8b7e8b-0619-344b-81bb-8dcb0a030f74",
                  "name" : "Route on Resource Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : 1696.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "patients" : "${resourceType:equals(\"Patient\")}",
                    "others" : "${resourceType:matches(\"Procedure|Condition|Observation|MedicationRequest|Encounter\")}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "patients" : {
                      "displayName" : "patients",
                      "identifiesControllerService" : false,
                      "name" : "patients",
                      "sensitive" : false
                    },
                    "others" : {
                      "displayName" : "others",
                      "identifiesControllerService" : false,
                      "name" : "others",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "3654c93e-eb45-3d02-9945-b06febecd7c8",
                  "name" : "ReplaceText",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : 2480.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "{\"resource\": $1}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9599ef88-e824-33e8-9b28-88627fae1efc",
                  "identifier" : "73cf0fdd-8afb-3c9c-8511-1ccb8882c061",
                  "name" : "Set Content-Type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : 2696.0
                  },
                  "properties" : {
                    "Delete Attributes Expression" : "^$",
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "Mime.Type" : "application/json",
                    "Content-Type" : "application/json"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Mime.Type" : {
                      "displayName" : "Mime.Type",
                      "identifiesControllerService" : false,
                      "name" : "Mime.Type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "598314b0-7732-3058-9e68-58d14de3b53d",
                    "name" : "Split Bundle into Resources",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "93667cb9-5f82-3f7a-97a8-954cd299aa7e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "af43fa85-b18f-362d-b7fd-4a221a5be801",
                    "name" : "FHIR Bundle",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "d3c07aca-ea0f-30d2-a09b-edbd8c4db73c",
                    "name" : "FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "43a4c7f5-8161-35b6-8d47-75b3fe09812d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "ae78ef89-cb89-39f5-bc17-726d8db09e26",
                    "name" : "Retrieve Resource Id and Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "id" : "c69826ad-6ee3-3944-9c5e-de40fae361cb",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "bcc94789-92d6-32a9-9887-99bbde9d3aff",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "598314b0-7732-3058-9e68-58d14de3b53d",
                    "name" : "Split Bundle into Resources",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "5705a0af-28ae-3d50-a24d-562840ed257f",
                    "name" : "Get Resource From Entry",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "1eeefe93-85f2-3628-b7b4-b6d691e50504",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "split" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "598314b0-7732-3058-9e68-58d14de3b53d",
                    "name" : "Split Bundle into Resources",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "id" : "c69826ad-6ee3-3944-9c5e-de40fae361cb",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "cb53cdee-94c1-3429-870e-1aae9c5ddf2f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure", "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "ae78ef89-cb89-39f5-bc17-726d8db09e26",
                    "name" : "Retrieve Resource Id and Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "ae78ef89-cb89-39f5-bc17-726d8db09e26",
                    "name" : "Retrieve Resource Id and Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "d2a5087f-b359-3405-8423-c61ce69b44cc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "5705a0af-28ae-3d50-a24d-562840ed257f",
                    "name" : "Get Resource From Entry",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "id" : "c69826ad-6ee3-3944-9c5e-de40fae361cb",
                    "name" : "Log and Post",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "0bb6e55e-0c0a-3a86-be5a-85e461824cc7",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "5705a0af-28ae-3d50-a24d-562840ed257f",
                    "name" : "Get Resource From Entry",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "8f9822af-1259-39ac-bc4e-472455342598",
                    "name" : "original",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "5e228bbd-21b6-3348-baad-01a89b3547fe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                    "id" : "598314b0-7732-3058-9e68-58d14de3b53d",
                    "name" : "Split Bundle into Resources",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "af43fa85-b18f-362d-b7fd-4a221a5be801",
                  "name" : "FHIR Bundle",
                  "position" : {
                    "x" : -208.0,
                    "y" : 600.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Split FHIR Bundle",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "d3c07aca-ea0f-30d2-a09b-edbd8c4db73c",
                  "name" : "FHIR Resource",
                  "position" : {
                    "x" : -208.0,
                    "y" : 1456.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "8f9822af-1259-39ac-bc4e-472455342598",
                  "name" : "original",
                  "position" : {
                    "x" : 424.0,
                    "y" : 784.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 8.0,
                  "y" : 800.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "303787c1-f02a-3c8b-bba9-ab8ca71e7a03",
                      "name" : "LogMessage",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "c12476e9-18f4-372e-aa2d-87a53b13feb2",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "3ce45511-ae81-34a9-9a01-f9d1d4d30dae",
                      "name" : "AttributesToJSON",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "559149b7-2fe2-38c0-b164-0f1da04f01c8",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "e76ac677-990f-33c2-8d0d-6c8fbac182de",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "17d3dc0e-0874-3347-b66c-1488e226c2d8",
                      "name" : "Post to Kafka",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "17d3dc0e-0874-3347-b66c-1488e226c2d8",
                      "name" : "Post to Kafka",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "19678266-42e0-36cc-9f10-02cd129c0f06",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success", "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "66fcd1aa-109b-39a0-b19d-53e6865c038d",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "66fcd1aa-109b-39a0-b19d-53e6865c038d",
                      "name" : "ReplaceText",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "6f8a5ea6-ebac-3c5d-bac4-1851fc4fd6a7",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "303787c1-f02a-3c8b-bba9-ab8ca71e7a03",
                      "name" : "LogMessage",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "3ce45511-ae81-34a9-9a01-f9d1d4d30dae",
                      "name" : "AttributesToJSON",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "ef600eb4-ef38-3fb8-8d45-bb81567b2a34",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "groupId" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                      "id" : "c69826ad-6ee3-3944-9c5e-de40fae361cb",
                      "name" : "Log and Post",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "c69826ad-6ee3-3944-9c5e-de40fae361cb",
                    "name" : "Log and Post",
                    "position" : {
                      "x" : 1432.0,
                      "y" : 1832.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Log and Post Failure",
                  "outputPorts" : [ ],
                  "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
                  "position" : {
                    "x" : -1064.0,
                    "y" : 904.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ "success", "failure" ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "559149b7-2fe2-38c0-b164-0f1da04f01c8",
                    "name" : "ReplaceText",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2984.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)Failure details via attributes:(.*$)",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Regex Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "3ce45511-ae81-34a9-9a01-f9d1d4d30dae",
                    "name" : "AttributesToJSON",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1375.1956507673563,
                      "y" : 1972.860155574584
                    },
                    "properties" : {
                      "Destination" : "flowfile-attribute",
                      "Null Value" : "false",
                      "Include Core Attributes" : "false"
                    },
                    "propertyDescriptors" : {
                      "attributes-to-json-regex" : {
                        "displayName" : "Attributes Regular Expression",
                        "identifiesControllerService" : false,
                        "name" : "attributes-to-json-regex",
                        "sensitive" : false
                      },
                      "Destination" : {
                        "displayName" : "Destination",
                        "identifiesControllerService" : false,
                        "name" : "Destination",
                        "sensitive" : false
                      },
                      "Null Value" : {
                        "displayName" : "Null Value",
                        "identifiesControllerService" : false,
                        "name" : "Null Value",
                        "sensitive" : false
                      },
                      "Attributes List" : {
                        "displayName" : "Attributes List",
                        "identifiesControllerService" : false,
                        "name" : "Attributes List",
                        "sensitive" : false
                      },
                      "Include Core Attributes" : {
                        "displayName" : "Include Core Attributes",
                        "identifiesControllerService" : false,
                        "name" : "Include Core Attributes",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "66fcd1aa-109b-39a0-b19d-53e6865c038d",
                    "name" : "ReplaceText",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2464.0
                    },
                    "properties" : {
                      "Regular Expression" : "(?s)(^.*$)",
                      "Replacement Value" : "\n\nFailure details via attributes: ${JSONAttributes}",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Append"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-kafka-2-6-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "17d3dc0e-0874-3347-b66c-1488e226c2d8",
                    "name" : "Post to Kafka",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2720.0
                    },
                    "properties" : {
                      "compression.type" : "none",
                      "attribute-name-regex" : "batchId",
                      "bootstrap.servers" : "#{kafka.brokers}",
                      "kafka-key" : "CONTENT",
                      "sasl.mechanism" : "PLAIN",
                      "max.block.ms" : "5 sec",
                      "message-header-encoding" : "UTF-8",
                      "ack.wait.time" : "5 secs",
                      "sasl.username" : "token",
                      "use-transactions" : "true",
                      "acks" : "all",
                      "security.protocol" : "PLAINTEXT",
                      "max.request.size" : "1 MB",
                      "sasl.token.auth" : "false",
                      "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                      "topic" : "failure.topic.in",
                      "sasl.password" : "#{kafka.auth.password}",
                      "key-attribute-encoding" : "utf-8"
                    },
                    "propertyDescriptors" : {
                      "compression.type" : {
                        "displayName" : "Compression Type",
                        "identifiesControllerService" : false,
                        "name" : "compression.type",
                        "sensitive" : false
                      },
                      "attribute-name-regex" : {
                        "displayName" : "Attributes to Send as Headers (Regex)",
                        "identifiesControllerService" : false,
                        "name" : "attribute-name-regex",
                        "sensitive" : false
                      },
                      "bootstrap.servers" : {
                        "displayName" : "Kafka Brokers",
                        "identifiesControllerService" : false,
                        "name" : "bootstrap.servers",
                        "sensitive" : false
                      },
                      "sasl.kerberos.principal" : {
                        "displayName" : "Kerberos Principal",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.principal",
                        "sensitive" : false
                      },
                      "sasl.kerberos.service.name" : {
                        "displayName" : "Kerberos Service Name",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.service.name",
                        "sensitive" : false
                      },
                      "kerberos-credentials-service" : {
                        "displayName" : "Kerberos Credentials Service",
                        "identifiesControllerService" : true,
                        "name" : "kerberos-credentials-service",
                        "sensitive" : false
                      },
                      "kafka-key" : {
                        "displayName" : "Kafka Key",
                        "identifiesControllerService" : false,
                        "name" : "kafka-key",
                        "sensitive" : false
                      },
                      "partition" : {
                        "displayName" : "Partition",
                        "identifiesControllerService" : false,
                        "name" : "partition",
                        "sensitive" : false
                      },
                      "sasl.mechanism" : {
                        "displayName" : "SASL Mechanism",
                        "identifiesControllerService" : false,
                        "name" : "sasl.mechanism",
                        "sensitive" : false
                      },
                      "max.block.ms" : {
                        "displayName" : "Max Metadata Wait Time",
                        "identifiesControllerService" : false,
                        "name" : "max.block.ms",
                        "sensitive" : false
                      },
                      "message-header-encoding" : {
                        "displayName" : "Message Header Encoding",
                        "identifiesControllerService" : false,
                        "name" : "message-header-encoding",
                        "sensitive" : false
                      },
                      "message-demarcator" : {
                        "displayName" : "Message Demarcator",
                        "identifiesControllerService" : false,
                        "name" : "message-demarcator",
                        "sensitive" : false
                      },
                      "transactional-id-prefix" : {
                        "displayName" : "Transactional Id Prefix",
                        "identifiesControllerService" : false,
                        "name" : "transactional-id-prefix",
                        "sensitive" : false
                      },
                      "ack.wait.time" : {
                        "displayName" : "Acknowledgment Wait Time",
                        "identifiesControllerService" : false,
                        "name" : "ack.wait.time",
                        "sensitive" : false
                      },
                      "sasl.username" : {
                        "displayName" : "Username",
                        "identifiesControllerService" : false,
                        "name" : "sasl.username",
                        "sensitive" : false
                      },
                      "use-transactions" : {
                        "displayName" : "Use Transactions",
                        "identifiesControllerService" : false,
                        "name" : "use-transactions",
                        "sensitive" : false
                      },
                      "acks" : {
                        "displayName" : "Delivery Guarantee",
                        "identifiesControllerService" : false,
                        "name" : "acks",
                        "sensitive" : false
                      },
                      "security.protocol" : {
                        "displayName" : "Security Protocol",
                        "identifiesControllerService" : false,
                        "name" : "security.protocol",
                        "sensitive" : false
                      },
                      "ssl.context.service" : {
                        "displayName" : "SSL Context Service",
                        "identifiesControllerService" : true,
                        "name" : "ssl.context.service",
                        "sensitive" : false
                      },
                      "max.request.size" : {
                        "displayName" : "Max Request Size",
                        "identifiesControllerService" : false,
                        "name" : "max.request.size",
                        "sensitive" : false
                      },
                      "sasl.token.auth" : {
                        "displayName" : "Token Auth",
                        "identifiesControllerService" : false,
                        "name" : "sasl.token.auth",
                        "sensitive" : false
                      },
                      "partitioner.class" : {
                        "displayName" : "Partitioner class",
                        "identifiesControllerService" : false,
                        "name" : "partitioner.class",
                        "sensitive" : false
                      },
                      "sasl.kerberos.keytab" : {
                        "displayName" : "Kerberos Keytab",
                        "identifiesControllerService" : false,
                        "name" : "sasl.kerberos.keytab",
                        "sensitive" : false
                      },
                      "topic" : {
                        "displayName" : "Topic Name",
                        "identifiesControllerService" : false,
                        "name" : "topic",
                        "sensitive" : false
                      },
                      "sasl.password" : {
                        "displayName" : "Password",
                        "identifiesControllerService" : false,
                        "name" : "sasl.password",
                        "sensitive" : true
                      },
                      "key-attribute-encoding" : {
                        "displayName" : "Key Attribute Encoding",
                        "identifiesControllerService" : false,
                        "name" : "key-attribute-encoding",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "ERROR",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "90f0f599-5a21-32dd-8cc6-429d235af1b9",
                    "identifier" : "303787c1-f02a-3c8b-bba9-ab8ca71e7a03",
                    "name" : "LogMessage",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 1376.0,
                      "y" : 2240.0
                    },
                    "properties" : {
                      "log-message" : "${JSONAttributes}",
                      "log-level" : "error",
                      "log-prefix" : "Clinical Ingestion Flow Failure\nCurrent Attributes:\n"
                    },
                    "propertyDescriptors" : {
                      "log-message" : {
                        "displayName" : "Log message",
                        "identifiesControllerService" : false,
                        "name" : "log-message",
                        "sensitive" : false
                      },
                      "log-level" : {
                        "displayName" : "Log Level",
                        "identifiesControllerService" : false,
                        "name" : "log-level",
                        "sensitive" : false
                      },
                      "log-prefix" : {
                        "displayName" : "Log prefix",
                        "identifiesControllerService" : false,
                        "name" : "log-prefix",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.LogMessage",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "ae78ef89-cb89-39f5-bc17-726d8db09e26",
                  "name" : "Retrieve Resource Id and Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -264.0,
                    "y" : 1224.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "resourceId" : "$.id",
                    "patientId" : "$.subject.reference",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore",
                    "resourceType" : "$.resourceType"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "resourceId" : {
                      "displayName" : "resourceId",
                      "identifiesControllerService" : false,
                      "name" : "resourceId",
                      "sensitive" : false
                    },
                    "patientId" : {
                      "displayName" : "patientId",
                      "identifiesControllerService" : false,
                      "name" : "patientId",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    },
                    "resourceType" : {
                      "displayName" : "resourceType",
                      "identifiesControllerService" : false,
                      "name" : "resourceType",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "5705a0af-28ae-3d50-a24d-562840ed257f",
                  "name" : "Get Resource From Entry",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -264.0,
                    "y" : 968.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "resource" : "$.resource",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "resource" : {
                      "displayName" : "resource",
                      "identifiesControllerService" : false,
                      "name" : "resource",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "92ea1656-88e1-3fd5-bc83-3393030aa46b",
                  "identifier" : "598314b0-7732-3058-9e68-58d14de3b53d",
                  "name" : "Split Bundle into Resources",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -264.0,
                    "y" : 744.0
                  },
                  "properties" : {
                    "Null Value Representation" : "empty string",
                    "JsonPath Expression" : "$.entry"
                  },
                  "propertyDescriptors" : {
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "JsonPath Expression" : {
                      "displayName" : "JsonPath Expression",
                      "identifiesControllerService" : false,
                      "name" : "JsonPath Expression",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.SplitJson",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "5988c477-7a8a-382e-9ce1-c7f050ae29fa",
                "name" : "Route On Resource Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 688.0,
                  "y" : 672.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle" : "${resourceType:equals('Bundle')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle" : {
                    "displayName" : "bundle",
                    "identifiesControllerService" : false,
                    "name" : "bundle",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "6b1c5722-466b-3440-855e-98b40154733b",
                "name" : "MergeContent",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1336.0,
                  "y" : 1088.0
                },
                "properties" : {
                  "Keep Path" : "false",
                  "Merge Strategy" : "Defragment",
                  "Attribute Strategy" : "Keep Only Common Attributes",
                  "Compression Level" : "1",
                  "Maximum Number of Entries" : "1000",
                  "Minimum Group Size" : "0 B",
                  "Maximum number of Bins" : "1000",
                  "Tar Modified Time" : "${file.lastModifiedTime}",
                  "Delimiter Strategy" : "Text",
                  "Merge Format" : "Binary Concatenation",
                  "Footer File" : "]}",
                  "Demarcator File" : ",",
                  "Correlation Attribute Name" : "fragment",
                  "Header File" : "{\n  \"resourceType\": \"Bundle\",\n  \"id\": \"${UUID()}\",\n  \"type\": \"transaction\",\n  \"entry\": [   \n",
                  "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
                  "Minimum Number of Entries" : "1"
                },
                "propertyDescriptors" : {
                  "Keep Path" : {
                    "displayName" : "Keep Path",
                    "identifiesControllerService" : false,
                    "name" : "Keep Path",
                    "sensitive" : false
                  },
                  "Maximum Group Size" : {
                    "displayName" : "Maximum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Group Size",
                    "sensitive" : false
                  },
                  "Merge Strategy" : {
                    "displayName" : "Merge Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Merge Strategy",
                    "sensitive" : false
                  },
                  "Attribute Strategy" : {
                    "displayName" : "Attribute Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Attribute Strategy",
                    "sensitive" : false
                  },
                  "Compression Level" : {
                    "displayName" : "Compression Level",
                    "identifiesControllerService" : false,
                    "name" : "Compression Level",
                    "sensitive" : false
                  },
                  "Maximum Number of Entries" : {
                    "displayName" : "Maximum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Number of Entries",
                    "sensitive" : false
                  },
                  "Minimum Group Size" : {
                    "displayName" : "Minimum Group Size",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Group Size",
                    "sensitive" : false
                  },
                  "Maximum number of Bins" : {
                    "displayName" : "Maximum number of Bins",
                    "identifiesControllerService" : false,
                    "name" : "Maximum number of Bins",
                    "sensitive" : false
                  },
                  "Tar Modified Time" : {
                    "displayName" : "Tar Modified Time",
                    "identifiesControllerService" : false,
                    "name" : "Tar Modified Time",
                    "sensitive" : false
                  },
                  "Delimiter Strategy" : {
                    "displayName" : "Delimiter Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Delimiter Strategy",
                    "sensitive" : false
                  },
                  "Merge Format" : {
                    "displayName" : "Merge Format",
                    "identifiesControllerService" : false,
                    "name" : "Merge Format",
                    "sensitive" : false
                  },
                  "Footer File" : {
                    "displayName" : "Footer",
                    "identifiesControllerService" : false,
                    "name" : "Footer File",
                    "sensitive" : false
                  },
                  "Max Bin Age" : {
                    "displayName" : "Max Bin Age",
                    "identifiesControllerService" : false,
                    "name" : "Max Bin Age",
                    "sensitive" : false
                  },
                  "Demarcator File" : {
                    "displayName" : "Demarcator",
                    "identifiesControllerService" : false,
                    "name" : "Demarcator File",
                    "sensitive" : false
                  },
                  "Correlation Attribute Name" : {
                    "displayName" : "Correlation Attribute Name",
                    "identifiesControllerService" : false,
                    "name" : "Correlation Attribute Name",
                    "sensitive" : false
                  },
                  "Header File" : {
                    "displayName" : "Header",
                    "identifiesControllerService" : false,
                    "name" : "Header File",
                    "sensitive" : false
                  },
                  "mergecontent-metadata-strategy" : {
                    "displayName" : "Metadata Strategy",
                    "identifiesControllerService" : false,
                    "name" : "mergecontent-metadata-strategy",
                    "sensitive" : false
                  },
                  "Minimum Number of Entries" : {
                    "displayName" : "Minimum Number of Entries",
                    "identifiesControllerService" : false,
                    "name" : "Minimum Number of Entries",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.MergeContent",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "eff72a55-a37d-3195-af05-c1fd903587a0",
                "name" : "Set Fragment Count to 1",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1632.0,
                  "y" : 680.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "fragment.identifier" : "${resourceId}",
                  "fragment.index" : "0",
                  "fragment.count" : "1"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "fragment.identifier" : {
                    "displayName" : "fragment.identifier",
                    "identifiesControllerService" : false,
                    "name" : "fragment.identifier",
                    "sensitive" : false
                  },
                  "fragment.index" : {
                    "displayName" : "fragment.index",
                    "identifiesControllerService" : false,
                    "name" : "fragment.index",
                    "sensitive" : false
                  },
                  "fragment.count" : {
                    "displayName" : "fragment.count",
                    "identifiesControllerService" : false,
                    "name" : "fragment.count",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "9d23d5fc-24f6-32e5-a91c-032871a03c40",
                "name" : "Remove content/mime type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1336.0,
                  "y" : 1296.0
                },
                "properties" : {
                  "Delete Attributes Expression" : "(((M|m)ime)|((C|c)ontent))(\\.|-)(T|t)ype",
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "eef8c430-4daf-3523-9a30-e4092792146a",
                "name" : "Wait for all Resources to be Complete",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 872.0,
                  "y" : 1896.0
                },
                "properties" : {
                  "wait-buffer-count" : "1",
                  "wait-mode" : "wait",
                  "attribute-copy-mode" : "keeporiginal",
                  "distributed-cache-service" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
                  "releasable-flowfile-count" : "1",
                  "release-signal-id" : "Complete",
                  "signal-counter-name" : "${requestId}",
                  "expiration-duration" : "1 min",
                  "target-signal-count" : "${fragment.count}"
                },
                "propertyDescriptors" : {
                  "wait-buffer-count" : {
                    "displayName" : "Wait Buffer Count",
                    "identifiesControllerService" : false,
                    "name" : "wait-buffer-count",
                    "sensitive" : false
                  },
                  "wait-mode" : {
                    "displayName" : "Wait Mode",
                    "identifiesControllerService" : false,
                    "name" : "wait-mode",
                    "sensitive" : false
                  },
                  "attribute-copy-mode" : {
                    "displayName" : "Attribute Copy Mode",
                    "identifiesControllerService" : false,
                    "name" : "attribute-copy-mode",
                    "sensitive" : false
                  },
                  "distributed-cache-service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "distributed-cache-service",
                    "sensitive" : false
                  },
                  "releasable-flowfile-count" : {
                    "displayName" : "Releasable FlowFile Count",
                    "identifiesControllerService" : false,
                    "name" : "releasable-flowfile-count",
                    "sensitive" : false
                  },
                  "release-signal-id" : {
                    "displayName" : "Release Signal Identifier",
                    "identifiesControllerService" : false,
                    "name" : "release-signal-id",
                    "sensitive" : false
                  },
                  "signal-counter-name" : {
                    "displayName" : "Signal Counter Name",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-name",
                    "sensitive" : false
                  },
                  "expiration-duration" : {
                    "displayName" : "Expiration Duration",
                    "identifiesControllerService" : false,
                    "name" : "expiration-duration",
                    "sensitive" : false
                  },
                  "target-signal-count" : {
                    "displayName" : "Target Signal Count",
                    "identifiesControllerService" : false,
                    "name" : "target-signal-count",
                    "sensitive" : false
                  },
                  "wait-penalty-duration" : {
                    "displayName" : "Wait Penalty Duration",
                    "identifiesControllerService" : false,
                    "name" : "wait-penalty-duration",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.Wait",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "5704232f-6c2c-37d4-89ab-310fb2964087",
                "name" : "Retrieve Resource Id and Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 688.0,
                  "y" : 256.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "resourceId" : "$.id",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore",
                  "resourceType" : "$.resourceType"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resourceId" : {
                    "displayName" : "resourceId",
                    "identifiesControllerService" : false,
                    "name" : "resourceId",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  },
                  "resourceType" : {
                    "displayName" : "resourceType",
                    "identifiesControllerService" : false,
                    "name" : "resourceType",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "d4cb307e-a311-3e76-8f1d-da20fd8b53a7",
                "name" : "Notify Resource Complete",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 688.0,
                  "y" : 1336.0
                },
                "properties" : {
                  "signal-counter-delta" : "1",
                  "distributed-cache-service" : "b8fc4ef8-be84-3bfe-9731-c8a44b799e0a",
                  "signal-buffer-count" : "1",
                  "release-signal-id" : "Complete",
                  "signal-counter-name" : "${requestId}"
                },
                "propertyDescriptors" : {
                  "signal-counter-delta" : {
                    "displayName" : "Signal Counter Delta",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-delta",
                    "sensitive" : false
                  },
                  "distributed-cache-service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "distributed-cache-service",
                    "sensitive" : false
                  },
                  "signal-buffer-count" : {
                    "displayName" : "Signal Buffer Count",
                    "identifiesControllerService" : false,
                    "name" : "signal-buffer-count",
                    "sensitive" : false
                  },
                  "release-signal-id" : {
                    "displayName" : "Release Signal Identifier",
                    "identifiesControllerService" : false,
                    "name" : "release-signal-id",
                    "sensitive" : false
                  },
                  "signal-counter-name" : {
                    "displayName" : "Signal Counter Name",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-name",
                    "sensitive" : false
                  },
                  "attribute-cache-regex" : {
                    "displayName" : "Attribute Cache Regex",
                    "identifiesControllerService" : false,
                    "name" : "attribute-cache-regex",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.Notify",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "fffc9e87-15f5-3a7e-992c-3559ac1a6873",
                "name" : "Set RequestId from Input ResourceId",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 688.0,
                  "y" : 464.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "requestId" : "${resourceId}"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "requestId" : {
                    "displayName" : "requestId",
                    "identifiesControllerService" : false,
                    "name" : "requestId",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "f09904a2-29db-3814-b99d-93776c3260c3",
                "identifier" : "5ed39d94-49bb-31c4-a9d2-30ec0bd6c998",
                "name" : "Set Content and Mime Type to json",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1336.0,
                  "y" : 1504.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "Mime.Type" : "application/json",
                  "Content-Type" : "application/json"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Mime.Type" : {
                    "displayName" : "Mime.Type",
                    "identifiesControllerService" : false,
                    "name" : "Mime.Type",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "fb4cf433-9802-37ea-8f57-becf6a8a69bb",
              "identifier" : "62f5b7ad-c4ab-3c84-a3ef-50162d28aee3",
              "name" : "Update DeidentifyData to Enriched",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 760.0,
                "y" : -72.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "DeidentifyData" : "Enriched"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "DeidentifyData" : {
                  "displayName" : "DeidentifyData",
                  "identifiesControllerService" : false,
                  "name" : "DeidentifyData",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "f1a1f3a5-2b12-36dd-8f93-63772746b2eb",
            "name" : "RouteOnAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 296.0,
              "y" : 1088.0
            },
            "properties" : {
              "ResolveTerminology" : "${ResolveTerminology:notNull():and(${ResolveTerminology:isEmpty():not()}):and(${ResolveTerminology:equals(\"true\")})}",
              "Routing Strategy" : "Route to Property name"
            },
            "propertyDescriptors" : {
              "ResolveTerminology" : {
                "displayName" : "ResolveTerminology",
                "identifiesControllerService" : false,
                "name" : "ResolveTerminology",
                "sensitive" : false
              },
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "3fc9336e-e43c-3797-844a-7c3cc60bfc32",
            "identifier" : "1875c95f-253a-37c5-9589-d3353d5d9af0",
            "name" : "RouteOnAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 296.0,
              "y" : 792.0
            },
            "properties" : {
              "Routing Strategy" : "Route to Property name",
              "DeidentifyData" : "${DeidentifyData:notNull():and(${DeidentifyData:isEmpty():not()}):and(${DeidentifyData:equals(\"true\")})}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "DeidentifyData" : {
                "displayName" : "DeidentifyData",
                "identifiesControllerService" : false,
                "name" : "DeidentifyData",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        } ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-health-patterns-nar",
            "group" : "com.ibm.healthpatterns",
            "version" : "0.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "ad205e05-02a5-3dc5-887d-1381e31981b1",
          "name" : "HL7ToFhirProcessor",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2400.0,
            "y" : 2496.0
          },
          "properties" : { },
          "propertyDescriptors" : { },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "com.ibm.healthpatterns.processors.hl7tofhir.HL7ToFhirProcessor",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "8d6d649e-8005-3ee6-9621-4301a0f40f22",
          "name" : "Add Common Attributes",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2400.0,
            "y" : 3072.0
          },
          "properties" : {
            "batchName" : "batch-2021-01-07",
            "messageBatchId" : "batch987654",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "sourceBatchId" : "batch012345",
            "dataType" : "claims",
            "kafka.topic" : "#{kafka.topic.in}",
            "failureTopic" : "#{kafka.topic.in}.error",
            "tenant" : "default",
            "startDate" : "2021-01-07T12:34:00Z"
          },
          "propertyDescriptors" : {
            "batchName" : {
              "displayName" : "batchName",
              "identifiesControllerService" : false,
              "name" : "batchName",
              "sensitive" : false
            },
            "messageBatchId" : {
              "displayName" : "messageBatchId",
              "identifiesControllerService" : false,
              "name" : "messageBatchId",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "sourceBatchId" : {
              "displayName" : "sourceBatchId",
              "identifiesControllerService" : false,
              "name" : "sourceBatchId",
              "sensitive" : false
            },
            "dataType" : {
              "displayName" : "dataType",
              "identifiesControllerService" : false,
              "name" : "dataType",
              "sensitive" : false
            },
            "kafka.topic" : {
              "displayName" : "kafka.topic",
              "identifiesControllerService" : false,
              "name" : "kafka.topic",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "failureTopic" : {
              "displayName" : "failureTopic",
              "identifiesControllerService" : false,
              "name" : "failureTopic",
              "sensitive" : false
            },
            "tenant" : {
              "displayName" : "tenant",
              "identifiesControllerService" : false,
              "name" : "tenant",
              "sensitive" : false
            },
            "startDate" : {
              "displayName" : "startDate",
              "identifiesControllerService" : false,
              "name" : "startDate",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-kafka-2-6-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "56dd183e-d24d-317a-9075-37d69bb21be4",
          "name" : "Consume From Kafka Topic",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 2152.0,
            "y" : 2248.0
          },
          "properties" : {
            "header-name-regex" : "batchId*",
            "sasl.username" : "#{kafka.auth.user}",
            "max.poll.records" : "10000",
            "group.id" : "#{kafka.consumer.group}",
            "bootstrap.servers" : "#{kafka.brokers}",
            "topic_type" : "pattern",
            "security.protocol" : "PLAINTEXT",
            "max-uncommit-offset-wait" : "1 secs",
            "sasl.mechanism" : "PLAIN",
            "sasl.token.auth" : "false",
            "honor-transactions" : "true",
            "Communications Timeout" : "60 secs",
            "topic" : "#{kafka.topic.in}",
            "message-header-encoding" : "UTF-8",
            "sasl.password" : "#{kafka.auth.password}",
            "key-attribute-encoding" : "utf-8",
            "auto.offset.reset" : "earliest"
          },
          "propertyDescriptors" : {
            "header-name-regex" : {
              "displayName" : "Headers to Add as Attributes (Regex)",
              "identifiesControllerService" : false,
              "name" : "header-name-regex",
              "sensitive" : false
            },
            "sasl.username" : {
              "displayName" : "Username",
              "identifiesControllerService" : false,
              "name" : "sasl.username",
              "sensitive" : false
            },
            "max.poll.records" : {
              "displayName" : "Max Poll Records",
              "identifiesControllerService" : false,
              "name" : "max.poll.records",
              "sensitive" : false
            },
            "group.id" : {
              "displayName" : "Group ID",
              "identifiesControllerService" : false,
              "name" : "group.id",
              "sensitive" : false
            },
            "bootstrap.servers" : {
              "displayName" : "Kafka Brokers",
              "identifiesControllerService" : false,
              "name" : "bootstrap.servers",
              "sensitive" : false
            },
            "topic_type" : {
              "displayName" : "Topic Name Format",
              "identifiesControllerService" : false,
              "name" : "topic_type",
              "sensitive" : false
            },
            "sasl.kerberos.principal" : {
              "displayName" : "Kerberos Principal",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.principal",
              "sensitive" : false
            },
            "sasl.kerberos.service.name" : {
              "displayName" : "Kerberos Service Name",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.service.name",
              "sensitive" : false
            },
            "security.protocol" : {
              "displayName" : "Security Protocol",
              "identifiesControllerService" : false,
              "name" : "security.protocol",
              "sensitive" : false
            },
            "kerberos-credentials-service" : {
              "displayName" : "Kerberos Credentials Service",
              "identifiesControllerService" : true,
              "name" : "kerberos-credentials-service",
              "sensitive" : false
            },
            "ssl.context.service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "ssl.context.service",
              "sensitive" : false
            },
            "max-uncommit-offset-wait" : {
              "displayName" : "Max Uncommitted Time",
              "identifiesControllerService" : false,
              "name" : "max-uncommit-offset-wait",
              "sensitive" : false
            },
            "sasl.mechanism" : {
              "displayName" : "SASL Mechanism",
              "identifiesControllerService" : false,
              "name" : "sasl.mechanism",
              "sensitive" : false
            },
            "sasl.token.auth" : {
              "displayName" : "Token Auth",
              "identifiesControllerService" : false,
              "name" : "sasl.token.auth",
              "sensitive" : false
            },
            "sasl.kerberos.keytab" : {
              "displayName" : "Kerberos Keytab",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.keytab",
              "sensitive" : false
            },
            "honor-transactions" : {
              "displayName" : "Honor Transactions",
              "identifiesControllerService" : false,
              "name" : "honor-transactions",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            },
            "topic" : {
              "displayName" : "Topic Name(s)",
              "identifiesControllerService" : false,
              "name" : "topic",
              "sensitive" : false
            },
            "message-header-encoding" : {
              "displayName" : "Message Header Encoding",
              "identifiesControllerService" : false,
              "name" : "message-header-encoding",
              "sensitive" : false
            },
            "sasl.password" : {
              "displayName" : "Password",
              "identifiesControllerService" : false,
              "name" : "sasl.password",
              "sensitive" : true
            },
            "message-demarcator" : {
              "displayName" : "Message Demarcator",
              "identifiesControllerService" : false,
              "name" : "message-demarcator",
              "sensitive" : false
            },
            "key-attribute-encoding" : {
              "displayName" : "Key Attribute Encoding",
              "identifiesControllerService" : false,
              "name" : "key-attribute-encoding",
              "sensitive" : false
            },
            "auto.offset.reset" : {
              "displayName" : "Offset Reset",
              "identifiesControllerService" : false,
              "name" : "auto.offset.reset",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ "success" ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "da2f3bda-936b-36c1-a66d-31af46fe8288",
          "identifier" : "2be8a00b-07f1-3025-8c0a-42d245f6ac3e",
          "name" : "LogMessage",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 1744.0,
            "y" : 3344.0
          },
          "properties" : {
            "log-message" : "De-Identified FHIR Bundle returned.",
            "log-level" : "trace"
          },
          "propertyDescriptors" : {
            "log-message" : {
              "displayName" : "Log message",
              "identifiesControllerService" : false,
              "name" : "log-message",
              "sensitive" : false
            },
            "log-level" : {
              "displayName" : "Log Level",
              "identifiesControllerService" : false,
              "name" : "log-level",
              "sensitive" : false
            },
            "log-prefix" : {
              "displayName" : "Log prefix",
              "identifiesControllerService" : false,
              "name" : "log-prefix",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.LogMessage",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "variables" : { }
      },
      "flowEncodingVersion" : "1.0",
      "parameterContexts" : {
        "Clinical Ingestion Kafka Parameter Context" : {
          "name" : "Clinical Ingestion Kafka Parameter Context",
          "parameters" : [ {
            "description" : "A unique group identifier used by Kafka to assure that messages consumed from topic belong to this process.",
            "name" : "kafka.consumer.group",
            "sensitive" : false,
            "value" : "ClinicalIngestionGroup"
          }, {
            "description" : "The URL locations of kafka brokers to be watched for incoming messages.  Do not include protocol (https://) in the list.",
            "name" : "kafka.brokers",
            "sensitive" : false,
            "value" : "ingestion-kafka:9092"
          }, {
            "description" : "The username used to authenticate with kafka.  Usually this is set to \"token\" and an apikey is used for the password.",
            "name" : "kafka.auth.user",
            "sensitive" : false,
            "value" : "token"
          }, {
            "description" : "The password used by kafka for authentication. This may contain an apikey instead of password, in which case kafka.auth.user should be set to \"topic\"",
            "name" : "kafka.auth.password",
            "sensitive" : true
          }, {
            "description" : "The name of the kafka topic this flow will watch for new data to consume.",
            "name" : "kafka.topic.in",
            "sensitive" : false,
            "value" : "clinical.ingestion.topic"
          }, {
            "description" : "",
            "name" : "outgoingBatchId",
            "sensitive" : false,
            "value" : "Batch###"
          }, {
            "description" : "",
            "name" : "Password",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "SASL Mechanism",
            "sensitive" : false,
            "value" : ""
          } ]
        },
        "Clinical Ingestion De-Identification Parameter Context" : {
          "name" : "Clinical Ingestion De-Identification Parameter Context",
          "parameters" : [ {
            "description" : "",
            "name" : "DEID_SERVICE_API_URL",
            "sensitive" : false,
            "value" : "http://ingestion-deid:8080/api/v1/deidentification"
          }, {
            "description" : "",
            "name" : "DEID_APIKEY",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "DEID_FHIR_SERVER",
            "sensitive" : false,
            "value" : "http://ingestion-fhir-deid/fhir-server/api/v4"
          }, {
            "description" : "",
            "name" : "DEID_FHIR_PASSWORD",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "Basic Authentication Password",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "DEID_FHIR_USER",
            "sensitive" : false,
            "value" : "fhiruser"
          } ]
        },
        "Clinical Ingestion FHIR Parameter Context" : {
          "name" : "Clinical Ingestion FHIR Parameter Context",
          "parameters" : [ {
            "description" : "",
            "name" : "FHIR_PASSWORD",
            "sensitive" : true
          }, {
            "description" : "The port to listen for FHIR Resources posted to this nifi instance to consume by this pipeline",
            "name" : "FHIR_LISTEN_PORT",
            "sensitive" : false,
            "value" : "7001"
          }, {
            "description" : "The password for the username specified by FHIR_User. This will be used to access the specified FHIR server.",
            "name" : "FHIR_UserPwd",
            "sensitive" : true
          }, {
            "description" : "This username for the FHIR server used for this flow.",
            "name" : "FHIR_User",
            "sensitive" : false,
            "value" : "fhiruser"
          }, {
            "description" : "",
            "name" : "FHIR_URL",
            "sensitive" : false,
            "value" : "http://ingestion-fhir/fhir-server/api/v4"
          }, {
            "description" : "",
            "name" : "FHIR_USER",
            "sensitive" : false,
            "value" : "fhiruser"
          } ]
        }
      }
    }
  }
}