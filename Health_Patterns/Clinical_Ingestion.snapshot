{
  "header" : {
    "dataModelVersion" : "3"
  },
  "content" : {
    "flowSnapshot" : {
      "externalControllerServices" : { },
      "flowContents" : {
        "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "3562985a-8c51-3ccb-b947-b7891ae4db31",
            "name" : "FHIR resource",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "b231c89c-c5ed-351a-83c1-0670cd0d236b",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "82b11cd4-a584-3e81-9993-b1767d419240",
            "name" : "Add Common Attributes",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "82b11cd4-a584-3e81-9993-b1767d419240",
            "name" : "Add Common Attributes",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "e6a87219-aa10-3ed4-ba6a-0fb848f889fb",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "id" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
            "name" : "FHIRResource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "id" : "672a4360-1cce-30a1-aa85-7bdc1a06cea6",
            "name" : "input",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "6b48e5e5-1936-3915-b798-c4c2870c3a7f",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "7dbe18ae-c663-310a-9045-ebe598d59c2b",
            "name" : "Enriched FHIR resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "82b11cd4-a584-3e81-9993-b1767d419240",
            "name" : "Add Common Attributes",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "23c7aa3d-0f82-3b7f-85b2-70d3dc53ad39",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "success" ],
          "source" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "eb1a2fb3-8a8f-3ba4-9e0d-6a430ac00eb2",
            "name" : "Consume From Kafka Topic",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "d5c63ad8-28e6-3e2f-b04a-5b6584ea7e54",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "441ef4ea-103a-372e-b5d3-924c43c76f29",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "id" : "eec16776-6914-3243-bd1d-51d9028ab749",
            "name" : "Failure",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
            "id" : "65a08419-e1f5-3b94-884b-73a32d7d861a",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "5f6706f9-e290-3f03-84a7-a7c0348683ba",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "id" : "b2f5b7c4-95fd-3049-9c10-6fdd01ee315f",
            "name" : "Success",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "identifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
        "inputPorts" : [ ],
        "labels" : [ ],
        "name" : "Clinical Ingestion",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "65a08419-e1f5-3b94-884b-73a32d7d861a",
          "name" : "Output",
          "position" : {
            "x" : 586.6328658361602,
            "y" : 2768.5007721983175
          },
          "type" : "OUTPUT_PORT"
        }, {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "d5c63ad8-28e6-3e2f-b04a-5b6584ea7e54",
          "name" : "Failure",
          "position" : {
            "x" : 962.6328658361602,
            "y" : 2768.5007721983175
          },
          "type" : "OUTPUT_PORT"
        } ],
        "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
        "position" : {
          "x" : 752.0,
          "y" : 480.0
        },
        "processGroups" : [ {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "80ecb239-1838-3b69-b01b-26a84eb78dbc",
              "name" : "Add Kafka-expected Attributes",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "342e77b8-f4a9-38c5-a7f3-e2dce343728c",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "57ca9a14-8121-3252-96ae-1c11533485f6",
              "name" : "Generate UUID",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "7c12a68d-aa68-3e8a-978f-d3d6e94d6a0d",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
              "name" : "ListenHTTP",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
              "name" : "FHIRResource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "b9466e41-f333-3122-b1af-7f7078f30a48",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
              "id" : "80ecb239-1838-3b69-b01b-26a84eb78dbc",
              "name" : "Add Kafka-expected Attributes",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
          "inputPorts" : [ ],
          "labels" : [ ],
          "name" : "Get FHIR From HTTP",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "0bdfef9c-2135-3c73-9bb7-723ac4c410b7",
            "name" : "FHIRResource",
            "position" : {
              "x" : 1056.0,
              "y" : 552.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
          "position" : {
            "x" : 922.6328658361602,
            "y" : 1608.5007721983177
          },
          "processGroups" : [ ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ "failure" ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "57ca9a14-8121-3252-96ae-1c11533485f6",
            "name" : "Generate UUID",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1008.0,
              "y" : 72.0
            },
            "properties" : {
              "Regular Expression" : "\\$\\{UUID\\(\\)\\}",
              "Replacement Value" : "${UUID()}",
              "Evaluation Mode" : "Entire text",
              "Line-by-Line Evaluation Mode" : "All",
              "Character Set" : "UTF-8",
              "Maximum Buffer Size" : "1 MB",
              "Replacement Strategy" : "Regex Replace"
            },
            "propertyDescriptors" : {
              "Regular Expression" : {
                "displayName" : "Search Value",
                "identifiesControllerService" : false,
                "name" : "Regular Expression",
                "sensitive" : false
              },
              "Replacement Value" : {
                "displayName" : "Replacement Value",
                "identifiesControllerService" : false,
                "name" : "Replacement Value",
                "sensitive" : false
              },
              "Evaluation Mode" : {
                "displayName" : "Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Evaluation Mode",
                "sensitive" : false
              },
              "Line-by-Line Evaluation Mode" : {
                "displayName" : "Line-by-Line Evaluation Mode",
                "identifiesControllerService" : false,
                "name" : "Line-by-Line Evaluation Mode",
                "sensitive" : false
              },
              "Character Set" : {
                "displayName" : "Character Set",
                "identifiesControllerService" : false,
                "name" : "Character Set",
                "sensitive" : false
              },
              "Maximum Buffer Size" : {
                "displayName" : "Maximum Buffer Size",
                "identifiesControllerService" : false,
                "name" : "Maximum Buffer Size",
                "sensitive" : false
              },
              "Replacement Strategy" : {
                "displayName" : "Replacement Strategy",
                "identifiesControllerService" : false,
                "name" : "Replacement Strategy",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ReplaceText",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "6633068f-b2a7-30ff-914f-3cf5a32b72a2",
            "name" : "ListenHTTP",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1008.0,
              "y" : -208.0
            },
            "properties" : {
              "Base Path" : "fhirResource",
              "multipart-read-buffer-size" : "512 KB",
              "multipart-request-max-size" : "1 MB",
              "Max Unconfirmed Flowfile Time" : "60 secs",
              "Return Code" : "200",
              "Listening Port" : "7001",
              "HTTP Headers to receive as Attributes (Regex)" : "EnrichWithACD|DeidentifyData|ResolveTerminology|RunPatientMatching",
              "Authorized DN Pattern" : ".*"
            },
            "propertyDescriptors" : {
              "Base Path" : {
                "displayName" : "Base Path",
                "identifiesControllerService" : false,
                "name" : "Base Path",
                "sensitive" : false
              },
              "multipart-read-buffer-size" : {
                "displayName" : "Multipart Read Buffer Size",
                "identifiesControllerService" : false,
                "name" : "multipart-read-buffer-size",
                "sensitive" : false
              },
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "multipart-request-max-size" : {
                "displayName" : "Multipart Request Max Size",
                "identifiesControllerService" : false,
                "name" : "multipart-request-max-size",
                "sensitive" : false
              },
              "Max Unconfirmed Flowfile Time" : {
                "displayName" : "Max Unconfirmed Flowfile Time",
                "identifiesControllerService" : false,
                "name" : "Max Unconfirmed Flowfile Time",
                "sensitive" : false
              },
              "Max Data to Receive per Second" : {
                "displayName" : "Max Data to Receive per Second",
                "identifiesControllerService" : false,
                "name" : "Max Data to Receive per Second",
                "sensitive" : false
              },
              "Return Code" : {
                "displayName" : "Return Code",
                "identifiesControllerService" : false,
                "name" : "Return Code",
                "sensitive" : false
              },
              "Listening Port" : {
                "displayName" : "Listening Port",
                "identifiesControllerService" : false,
                "name" : "Listening Port",
                "sensitive" : false
              },
              "HTTP Headers to receive as Attributes (Regex)" : {
                "displayName" : "HTTP Headers to receive as Attributes (Regex)",
                "identifiesControllerService" : false,
                "name" : "HTTP Headers to receive as Attributes (Regex)",
                "sensitive" : false
              },
              "Authorized DN Pattern" : {
                "displayName" : "Authorized DN Pattern",
                "identifiesControllerService" : false,
                "name" : "Authorized DN Pattern",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.ListenHTTP",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "00a01b33-4454-3c45-9acb-c677dc7b0305",
            "identifier" : "80ecb239-1838-3b69-b01b-26a84eb78dbc",
            "name" : "Add Kafka-expected Attributes",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1000.0,
              "y" : 312.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "kafka.topic" : "ingest.dev-2333.data-adapters-001",
              "batchId" : "batch012345"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "kafka.topic" : {
                "displayName" : "kafka.topic",
                "identifiesControllerService" : false,
                "name" : "kafka.topic",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              },
              "batchId" : {
                "displayName" : "batchId",
                "identifiesControllerService" : false,
                "name" : "batchId",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "b2f5b7c4-95fd-3049-9c10-6fdd01ee315f",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "68cf0068-2722-3228-b8b0-4ee4195dd809",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "matched" ],
            "source" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "a8a394cd-d41a-3e68-a937-1673df25d2bf",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "id" : "a7718613-9603-3b53-b39a-d4e581017fce",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "0d0fef0d-2634-3446-9660-d9137bee8a38",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "672a4360-1cce-30a1-aa85-7bdc1a06cea6",
              "name" : "input",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "id" : "a642d545-2c65-3566-a60f-c9f3e2b2cd0c",
              "name" : "Error",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "5eaca3a2-4121-3ddf-accc-70da5edaa2c2",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "36278c36-cf3c-3c7f-ad06-e847a7393135",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "eec16776-6914-3243-bd1d-51d9028ab749",
              "name" : "Failure",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "b3d5a569-0503-3c88-bba9-a4ebf240dd70",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "unmatched" ],
            "source" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "a8a394cd-d41a-3e68-a937-1673df25d2bf",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "a8a394cd-d41a-3e68-a937-1673df25d2bf",
              "name" : "Is Successful",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "332f9b50-a1ff-3669-a713-17a1cdac04dc",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "id" : "ca66a4a4-e7b3-355c-80a6-86a592da323c",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "36278c36-cf3c-3c7f-ad06-e847a7393135",
              "name" : "Set To Failure",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "7277e7c4-1a52-3fbb-ac3e-fdfa0e006e45",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "id" : "b9d4c844-5e55-3275-a012-9b94f534022a",
              "name" : "Failed",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "id" : "ae536f34-22af-3e52-bd3a-dabe7a4febe7",
              "name" : "Success",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "ea7bbaff-8367-368d-9d5c-b8a411e3a415",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "1c9d72fb-07e6-3bb0-9bf7-ca6406927ba2",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
              "id" : "1c9d72fb-07e6-3bb0-9bf7-ca6406927ba2",
              "name" : "Set To Success",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "a9f63691-c624-3c13-b23e-7165e5e35539",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "id" : "0cedc650-4a75-350b-bfda-967aced46673",
              "name" : "Success",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "672a4360-1cce-30a1-aa85-7bdc1a06cea6",
            "name" : "input",
            "position" : {
              "x" : 1320.0,
              "y" : 1000.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Send to FHIR and Post Errors V9",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "eec16776-6914-3243-bd1d-51d9028ab749",
            "name" : "Failure",
            "position" : {
              "x" : 1504.0,
              "y" : 2384.0
            },
            "type" : "OUTPUT_PORT"
          }, {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "b2f5b7c4-95fd-3049-9c10-6fdd01ee315f",
            "name" : "Success",
            "position" : {
              "x" : 1080.0,
              "y" : 2384.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "position" : {
            "x" : 682.6328658361602,
            "y" : 2424.5007721983175
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "f63fd999-f1df-3270-a8f8-533f1c46c4af",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "ddff0019-d8e6-360c-bca3-9581ad5d4c36",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "40b8f19d-b001-3b17-9b9c-dc985d224aab",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1744.0,
                "y" : 416.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "a9e35aa9-c27d-3a18-b25b-390dc7605e72",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "id" : "b0ce19fd-1059-3a00-b8f8-21ae74abf66e",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1536.0,
                "y" : -632.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "40b8f19d-b001-3b17-9b9c-dc985d224aab",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "6dd0e4d4-c28e-3ceb-b5e3-eddb54d3b798",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "id" : "33b1244e-f6ed-3eb0-a083-16919dd85ec5",
                "name" : "Split",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "607de6b7-eb97-3bf2-9e86-8eb8b07255e5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "id" : "54a6bfb8-2f0b-3005-8cfc-56af165575d5",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "81cc6f63-6cf3-3518-af4e-1a067f4ee624",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "57ef37dc-410e-3aca-ad03-f7e3811a3ee4",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "e0127c8f-16d6-3c20-83d5-e64336358e01",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "85cefb99-34a4-395b-958f-c19017863d66",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "id" : "42980193-0ad7-363c-9261-cccb62d447ce",
                "name" : "API Failed",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "903cd9ab-a116-3ab3-8f37-be4acac358d3",
                "name" : "Set Attributes",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "df9f3dc5-ee35-39d3-9781-179153e5bed9",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "a7718613-9603-3b53-b39a-d4e581017fce",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "b9d4c844-5e55-3275-a012-9b94f534022a",
                "name" : "Failed",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "35d2f59a-d1f7-313c-b13b-3d783cb4f3c8",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "443ed7c8-0072-3a3e-9845-8f55f307f828",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "c58e5274-42a9-32d2-8d86-69b84922453e",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "ae221735-e85e-37b5-b796-d0f32dee0e7e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "isNull" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "e0127c8f-16d6-3c20-83d5-e64336358e01",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "443ed7c8-0072-3a3e-9845-8f55f307f828",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "0c589fe9-2bdd-3fc6-9a0d-db6bad9b42a0",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "6982ed6a-120e-3456-b472-b272d36a504c",
                "name" : "Clear Flow File Contents",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "id" : "bd42254f-3ad3-3bb5-9f55-bbc6381f89c5",
                "name" : "Input",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "c9f117e5-3881-3763-84c7-a0ac57d95a97",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "81cc6f63-6cf3-3518-af4e-1a067f4ee624",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "e0127c8f-16d6-3c20-83d5-e64336358e01",
                "name" : "Null check for Resource Type or Id",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "fff62e09-edb2-3bea-badf-839816c01df1",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "matched" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "40b8f19d-b001-3b17-9b9c-dc985d224aab",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "40b8f19d-b001-3b17-9b9c-dc985d224aab",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "7ad4cf89-5385-3463-87ab-3cbfdcd48186",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "903cd9ab-a116-3ab3-8f37-be4acac358d3",
                "name" : "Set Attributes",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "0cedc650-4a75-350b-bfda-967aced46673",
                "name" : "Success",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "ed158431-7a54-3d50-9b46-2df184bcecbd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "api_success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "6982ed6a-120e-3456-b472-b272d36a504c",
                "name" : "Clear Flow File Contents",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "3d900d4a-aff0-329c-8ce9-832a0509a343",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "c58e5274-42a9-32d2-8d86-69b84922453e",
                "name" : "Error getting type or id",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "6982ed6a-120e-3456-b472-b272d36a504c",
                "name" : "Clear Flow File Contents",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "0451dc69-4e08-37cb-a946-3560279fc6fd",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "f63fd999-f1df-3270-a8f8-533f1c46c4af",
                "name" : "Invalid Json Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1528.0,
                "y" : 312.0
              }, {
                "x" : 1528.0,
                "y" : 808.0
              }, {
                "x" : 3216.0,
                "y" : 808.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "443ed7c8-0072-3a3e-9845-8f55f307f828",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "c4b8226a-7457-32a1-bb0e-725d0fe899bb",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "id" : "beea2a20-43f9-3e05-8875-4c3fa74e37ee",
                "name" : "Failure",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "id" : "cb152768-ae6a-3ce8-a9f8-d41ae249243d",
                "name" : "Input Bundle",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "a46b83d2-aa7e-378f-8629-e0890d48819a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "bundle" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "81cc6f63-6cf3-3518-af4e-1a067f4ee624",
                "name" : "Bundle or other resource type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "2fb8374e-c8d0-393f-ab8d-7658580d227a",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "49e16bcd-1ac0-3439-9d2f-e71ce170070a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
                "name" : "Route on api success code",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "443ed7c8-0072-3a3e-9845-8f55f307f828",
                "name" : "Log Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "998e3016-3b16-34f5-a7ce-975b067cb219",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
                "id" : "2fb8374e-c8d0-393f-ab8d-7658580d227a",
                "name" : "FHIR Store Error",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "a7718613-9603-3b53-b39a-d4e581017fce",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 1872.0,
                "y" : -1032.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Save To FHIR",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "b9d4c844-5e55-3275-a012-9b94f534022a",
              "name" : "Failed",
              "position" : {
                "x" : 3752.0,
                "y" : -280.0
              },
              "type" : "OUTPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "0cedc650-4a75-350b-bfda-967aced46673",
              "name" : "Success",
              "position" : {
                "x" : 1976.0,
                "y" : 648.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "position" : {
              "x" : 1248.0,
              "y" : 1208.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2480.0,
                  "y" : 1776.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "54a6bfb8-2f0b-3005-8cfc-56af165575d5",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "c339d24b-5d1b-3d78-926b-a107f659e45a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "id" : "6239ed13-dae1-3615-8c7e-1971953c36df",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "949f9025-8704-32e4-89ee-25589b8188c8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                  "name" : "PUT Resource to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                  "name" : "PUT Resource to FHIR",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "f6ceb7c2-d427-3a91-8f96-dbbd90649743",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "bd42254f-3ad3-3bb5-9f55-bbc6381f89c5",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "064afe8d-7d4e-33ae-a2d2-c71dae3f4ade",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "01a6a02a-b507-3890-a11e-31537dc6a867",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "01a6a02a-b507-3890-a11e-31537dc6a867",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "c6b14672-9613-331e-b058-51565ee9a098",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "id" : "f47dfc17-c138-3b77-a233-12a80fc45d71",
                  "name" : "output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 2488.0,
                  "y" : 360.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "id" : "0ade8550-4423-304a-befe-bb66d3801c11",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "7414e912-be6e-331c-8c8d-c9c8850da9c5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f46ff92a-cdb4-3591-9a28-9f6503d69dd8",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "id" : "f44eac0d-6ce2-323e-a4cd-8588a7bb2938",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "a5113229-72b9-3501-b3c9-f8daf07aa5d4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "id" : "12a9542b-6c86-35f9-a64e-cf5dbd3b07c0",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "46eb6e47-679c-3a3f-8362-c87001bcc438",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "587e752c-a162-3172-9eca-c705eeeaf801",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "01a6a02a-b507-3890-a11e-31537dc6a867",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1443.8475177290895,
                  "y" : 575.3671833496297
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "087c3ae7-1a0e-3c8e-87a9-495d87e8903a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                  "name" : "PUT Resource to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1184.0,
                  "y" : 2120.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "54a6bfb8-2f0b-3005-8cfc-56af165575d5",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "15d2a477-6523-3d29-904a-c6f090a9266d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "id" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "id" : "71dbb5cf-7cb6-3990-b666-31d445d51875",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "62096fe9-af7d-3d23-8ff4-c6b2ed19cedc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 784.0,
                  "y" : 1224.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "id" : "f44eac0d-6ce2-323e-a4cd-8588a7bb2938",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "21449f90-dd6d-3f1e-915f-4bdcff105dd0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f46ff92a-cdb4-3591-9a28-9f6503d69dd8",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "1f049966-51da-3bee-8346-04eb00d95482",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Response" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                  "name" : "PUT Resource to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "id" : "71dbb5cf-7cb6-3990-b666-31d445d51875",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "9d26f538-c74d-3698-8a5a-724c99807067",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "401Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "46eb6e47-679c-3a3f-8362-c87001bcc438",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "54a6bfb8-2f0b-3005-8cfc-56af165575d5",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "862d8472-4ffd-3c1a-a6ba-cd0a3d939e76",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "46eb6e47-679c-3a3f-8362-c87001bcc438",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 899.8475177290895,
                  "y" : 583.3671833496297
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                  "name" : "PUT Resource to FHIR",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "7fce4976-c62a-3745-9796-a44bba444669",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "id" : "cb9ae210-777c-3f2d-879c-21f60af375cc",
                  "name" : "input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "1c5d2f3d-a173-30ee-b90c-1240a97a4b95",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                  "id" : "f46ff92a-cdb4-3591-9a28-9f6503d69dd8",
                  "name" : "Route on OO response",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "bd42254f-3ad3-3bb5-9f55-bbc6381f89c5",
                "name" : "Input",
                "position" : {
                  "x" : 1080.0,
                  "y" : -8.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Put Resource to FHIR",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "54a6bfb8-2f0b-3005-8cfc-56af165575d5",
                "name" : "Output",
                "position" : {
                  "x" : 2360.0,
                  "y" : 2096.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
              "position" : {
                "x" : 1912.0,
                "y" : -40.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                    "id" : "12a9542b-6c86-35f9-a64e-cf5dbd3b07c0",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "identifier" : "d6994b62-40c7-36b1-858b-4a99c678604b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                    "id" : "71dbb5cf-7cb6-3990-b666-31d445d51875",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "identifier" : "71dbb5cf-7cb6-3990-b666-31d445d51875",
                  "name" : "Input",
                  "position" : {
                    "x" : 990.4060390693144,
                    "y" : 133.25964456900573
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "height" : 104.0,
                  "identifier" : "25d81a86-b6d3-30da-841b-0f6688c0a02b",
                  "label" : "Implement stopping the processing of this batch",
                  "position" : {
                    "x" : 968.0,
                    "y" : -128.0
                  },
                  "style" : {
                    "font-size" : "12px"
                  },
                  "width" : 368.0
                } ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "75bbe126-7e37-38a5-8e75-4bd4d4a6520e",
                  "identifier" : "12a9542b-6c86-35f9-a64e-cf5dbd3b07c0",
                  "name" : "Output",
                  "position" : {
                    "x" : 984.0,
                    "y" : 408.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1208.0
                },
                "processGroups" : [ ],
                "processors" : [ ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "6239ed13-dae1-3615-8c7e-1971953c36df",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "a35a387a-abb1-3038-9e32-a455d67c8220",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c5818ae3-87a3-30ac-853e-f08d44a25c16",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "6886ec34-81e2-32b2-bdba-6e1146177265",
                    "name" : "Set mime.type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "c2744801-343e-3203-a1d1-ede01e8f3f7d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "4a99e398-8799-3cc8-b4f3-d5061b83ab72",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "dabaedd9-ade7-3bcc-98dc-c825df74e7ec",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 2872.0,
                    "y" : 0.0
                  }, {
                    "x" : 2872.0,
                    "y" : 560.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "9df87778-a598-3717-a85b-98210f82abe0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "8268cf06-e071-3f79-b5cf-25f8ef4862bc",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "dabaedd9-ade7-3bcc-98dc-c825df74e7ec",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "d0033eee-3db3-3764-bad3-ec2d20fffb81",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "1e59086d-d3f6-3943-95d4-620d3ddb686d",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "fb5dc3af-6cbc-3e12-9f00-23a895e9823a",
                    "name" : "Set content-type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "c79ea759-b94d-33a4-81ab-edde87939f7e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "dabaedd9-ade7-3bcc-98dc-c825df74e7ec",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "e7bcdaab-c99f-397a-869a-6379f5293aa3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "fb5dc3af-6cbc-3e12-9f00-23a895e9823a",
                    "name" : "Set content-type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c5818ae3-87a3-30ac-853e-f08d44a25c16",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "d963d6ab-347b-348c-815e-b0fd525ce363",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "b3e9c27a-b364-34aa-b596-3379e31f6d85",
                    "name" : "Set Mime.Type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "ca9222f6-b530-340a-9339-4cde945bd191",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c5818ae3-87a3-30ac-853e-f08d44a25c16",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "1e59086d-d3f6-3943-95d4-620d3ddb686d",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "a7065954-26d8-3758-a342-5e74e6152564",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "0ade8550-4423-304a-befe-bb66d3801c11",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "c5818ae3-87a3-30ac-853e-f08d44a25c16",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "8a338f3e-9208-3996-8bab-55b3568e7bd3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "6886ec34-81e2-32b2-bdba-6e1146177265",
                    "name" : "Set mime.type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "6239ed13-dae1-3615-8c7e-1971953c36df",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "da139f3f-7e6c-3f35-8dcf-455263baf28a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "b3e9c27a-b364-34aa-b596-3379e31f6d85",
                    "name" : "Set Mime.Type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "8268cf06-e071-3f79-b5cf-25f8ef4862bc",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "90f8c937-c435-305f-a8b4-6f980731143b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                    "id" : "1e59086d-d3f6-3943-95d4-620d3ddb686d",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "0ade8550-4423-304a-befe-bb66d3801c11",
                  "name" : "Input",
                  "position" : {
                    "x" : 1672.0,
                    "y" : -256.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Handle FHIR+Json Content Type",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "6239ed13-dae1-3615-8c7e-1971953c36df",
                  "name" : "Output",
                  "position" : {
                    "x" : 1672.0,
                    "y" : 1160.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 2296.0,
                  "y" : 936.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "c5818ae3-87a3-30ac-853e-f08d44a25c16",
                  "name" : "Determine if Mime.Type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 816.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${Mime.Type:notNull():and(\n        ${Mime.Type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "b3e9c27a-b364-34aa-b596-3379e31f6d85",
                  "name" : "Set Mime.Type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2280.0,
                    "y" : 824.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "Mime.Type" : "${Mime.Type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Mime.Type" : {
                      "displayName" : "Mime.Type",
                      "identifiesControllerService" : false,
                      "name" : "Mime.Type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "6886ec34-81e2-32b2-bdba-6e1146177265",
                  "name" : "Set mime.type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2280.0,
                    "y" : 608.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "${mime.type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "dabaedd9-ade7-3bcc-98dc-c825df74e7ec",
                  "name" : "Determine if content-type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 176.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${content-type:notNull():and(\n        ${content-type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "8268cf06-e071-3f79-b5cf-25f8ef4862bc",
                  "name" : "Set Content-Type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2312.0,
                    "y" : -64.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "Content-Type" : "${Content-Type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "1e59086d-d3f6-3943-95d4-620d3ddb686d",
                  "name" : "Determine if Content-Type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : -64.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${Content-Type:notNull():and(\n        ${Content-Type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "fb5dc3af-6cbc-3e12-9f00-23a895e9823a",
                  "name" : "Set content-type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2304.0,
                    "y" : 176.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "content-type" : "${content-type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "content-type" : {
                      "displayName" : "content-type",
                      "identifiesControllerService" : false,
                      "name" : "content-type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "018f9dcd-fe6b-30ea-bf5d-c25f5c1a82fa",
                  "identifier" : "c8a5a3a9-015a-369b-a219-02ca4cc98042",
                  "name" : "Determine if mime.type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 496.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${mime.type:notNull():and(\n        ${mime.type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "11cc86ee-540f-37ea-bb01-356517ef64f6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "id" : "4d2fc4f4-a9f6-3cc0-8073-8a6a22c95740",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "f937472e-200c-3165-8a8c-f8541b8357dd",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "74198769-ffbe-3968-872c-0223ac2935a9",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "74198769-ffbe-3968-872c-0223ac2935a9",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "f46437de-8ba6-310a-a1fd-e8964d49e793",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "f44eac0d-6ce2-323e-a4cd-8588a7bb2938",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 912.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "9b04854f-4e87-343b-9e70-2465539b6e32",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "id" : "902726b0-687d-3acb-8414-3b050b82ec2a",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "29540441-8aec-3abb-963c-d809da6d0368",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "a8122bf3-360b-3ff9-b28b-5c11b138ccd3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "e4190f61-a396-36a5-9076-d15ba8b3bc64",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "ab67ead4-e2d0-3fea-8270-225286d1993b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "74198769-ffbe-3968-872c-0223ac2935a9",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "e281edd0-2357-307a-baf0-a1d9906877fc",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "e4190f61-a396-36a5-9076-d15ba8b3bc64",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "7babfaf9-495f-3060-a64a-fe8a03820264",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                    "id" : "e4190f61-a396-36a5-9076-d15ba8b3bc64",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "f44eac0d-6ce2-323e-a4cd-8588a7bb2938",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -240.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "c7bc15ae-40cd-33a8-acd2-a6f103fc9ae5",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 992.0,
                  "y" : 1712.0
                },
                "processGroups" : [ {
                  "comments" : "",
                  "componentType" : "PROCESS_GROUP",
                  "connections" : [ {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "902726b0-687d-3acb-8414-3b050b82ec2a",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "a1b066f3-64e7-3123-8e47-47e56c63dc08",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "aaa3ac05-222f-399e-bd1f-2ce995e08092",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "aaa3ac05-222f-399e-bd1f-2ce995e08092",
                      "name" : "Set content type to Text",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "33cdd04e-49bc-3af2-be45-9dfa3c3940ba",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "success" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "34f1dee1-050b-3c3f-a57d-20372fc6aff4",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "34f1dee1-050b-3c3f-a57d-20372fc6aff4",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "a209dcc8-5b16-36ac-b2ed-d6baa584ed3a",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "4d2fc4f4-a9f6-3cc0-8073-8a6a22c95740",
                      "name" : "input",
                      "type" : "INPUT_PORT"
                    },
                    "zIndex" : 0
                  }, {
                    "backPressureDataSizeThreshold" : "1 GB",
                    "backPressureObjectThreshold" : 10000,
                    "bends" : [ {
                      "x" : 1072.0,
                      "y" : 800.0
                    } ],
                    "componentType" : "CONNECTION",
                    "destination" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "902726b0-687d-3acb-8414-3b050b82ec2a",
                      "name" : "output",
                      "type" : "OUTPUT_PORT"
                    },
                    "flowFileExpiration" : "0 sec",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "643d9f57-d3e8-32c5-ab3c-d46127440128",
                    "labelIndex" : 1,
                    "loadBalanceCompression" : "DO_NOT_COMPRESS",
                    "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                    "name" : "",
                    "partitioningAttribute" : "",
                    "prioritizers" : [ ],
                    "selectedRelationships" : [ "failure" ],
                    "source" : {
                      "comments" : "",
                      "groupId" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                      "id" : "34f1dee1-050b-3c3f-a57d-20372fc6aff4",
                      "name" : "Clear Flow File Contents",
                      "type" : "PROCESSOR"
                    },
                    "zIndex" : 0
                  } ],
                  "controllerServices" : [ ],
                  "flowFileConcurrency" : "UNBOUNDED",
                  "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                  "funnels" : [ ],
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                  "inputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "INPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "4d2fc4f4-a9f6-3cc0-8073-8a6a22c95740",
                    "name" : "input",
                    "position" : {
                      "x" : 576.0,
                      "y" : 224.0
                    },
                    "type" : "INPUT_PORT"
                  } ],
                  "labels" : [ ],
                  "name" : "Clear Flow File Contents",
                  "outputPorts" : [ {
                    "allowRemoteAccess" : false,
                    "comments" : "",
                    "componentType" : "OUTPUT_PORT",
                    "concurrentlySchedulableTaskCount" : 1,
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "902726b0-687d-3acb-8414-3b050b82ec2a",
                    "name" : "output",
                    "position" : {
                      "x" : 576.0,
                      "y" : 1048.0
                    },
                    "type" : "OUTPUT_PORT"
                  } ],
                  "position" : {
                    "x" : 728.0,
                    "y" : 144.0
                  },
                  "processGroups" : [ ],
                  "processors" : [ {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-update-attribute-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "aaa3ac05-222f-399e-bd1f-2ce995e08092",
                    "name" : "Set content type to Text",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 744.0
                    },
                    "properties" : {
                      "Store State" : "Do not store state",
                      "canonical-value-lookup-cache-size" : "100",
                      "mime.type" : "text/plain",
                      "Content-Type" : "text/plain"
                    },
                    "propertyDescriptors" : {
                      "Delete Attributes Expression" : {
                        "displayName" : "Delete Attributes Expression",
                        "identifiesControllerService" : false,
                        "name" : "Delete Attributes Expression",
                        "sensitive" : false
                      },
                      "Store State" : {
                        "displayName" : "Store State",
                        "identifiesControllerService" : false,
                        "name" : "Store State",
                        "sensitive" : false
                      },
                      "canonical-value-lookup-cache-size" : {
                        "displayName" : "Cache Value Lookup Cache Size",
                        "identifiesControllerService" : false,
                        "name" : "canonical-value-lookup-cache-size",
                        "sensitive" : false
                      },
                      "mime.type" : {
                        "displayName" : "mime.type",
                        "identifiesControllerService" : false,
                        "name" : "mime.type",
                        "sensitive" : false
                      },
                      "Stateful Variables Initial Value" : {
                        "displayName" : "Stateful Variables Initial Value",
                        "identifiesControllerService" : false,
                        "name" : "Stateful Variables Initial Value",
                        "sensitive" : false
                      },
                      "Content-Type" : {
                        "displayName" : "Content-Type",
                        "identifiesControllerService" : false,
                        "name" : "Content-Type",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                    "yieldDuration" : "1 sec"
                  }, {
                    "autoTerminatedRelationships" : [ ],
                    "bulletinLevel" : "WARN",
                    "bundle" : {
                      "artifact" : "nifi-standard-nar",
                      "group" : "org.apache.nifi",
                      "version" : "1.12.1"
                    },
                    "comments" : "",
                    "componentType" : "PROCESSOR",
                    "concurrentlySchedulableTaskCount" : 1,
                    "executionNode" : "ALL",
                    "groupIdentifier" : "f57155ce-60e4-3282-adac-42f0e8af6db2",
                    "identifier" : "34f1dee1-050b-3c3f-a57d-20372fc6aff4",
                    "name" : "Clear Flow File Contents",
                    "penaltyDuration" : "30 sec",
                    "position" : {
                      "x" : 520.0,
                      "y" : 480.0
                    },
                    "properties" : {
                      "Regular Expression" : ".",
                      "Replacement Value" : "",
                      "Evaluation Mode" : "Entire text",
                      "Line-by-Line Evaluation Mode" : "All",
                      "Character Set" : "UTF-8",
                      "Maximum Buffer Size" : "1 MB",
                      "Replacement Strategy" : "Always Replace"
                    },
                    "propertyDescriptors" : {
                      "Regular Expression" : {
                        "displayName" : "Search Value",
                        "identifiesControllerService" : false,
                        "name" : "Regular Expression",
                        "sensitive" : false
                      },
                      "Replacement Value" : {
                        "displayName" : "Replacement Value",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Value",
                        "sensitive" : false
                      },
                      "Evaluation Mode" : {
                        "displayName" : "Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Evaluation Mode",
                        "sensitive" : false
                      },
                      "Line-by-Line Evaluation Mode" : {
                        "displayName" : "Line-by-Line Evaluation Mode",
                        "identifiesControllerService" : false,
                        "name" : "Line-by-Line Evaluation Mode",
                        "sensitive" : false
                      },
                      "Character Set" : {
                        "displayName" : "Character Set",
                        "identifiesControllerService" : false,
                        "name" : "Character Set",
                        "sensitive" : false
                      },
                      "Maximum Buffer Size" : {
                        "displayName" : "Maximum Buffer Size",
                        "identifiesControllerService" : false,
                        "name" : "Maximum Buffer Size",
                        "sensitive" : false
                      },
                      "Replacement Strategy" : {
                        "displayName" : "Replacement Strategy",
                        "identifiesControllerService" : false,
                        "name" : "Replacement Strategy",
                        "sensitive" : false
                      }
                    },
                    "runDurationMillis" : 0,
                    "scheduledState" : "ENABLED",
                    "schedulingPeriod" : "0 sec",
                    "schedulingStrategy" : "TIMER_DRIVEN",
                    "style" : { },
                    "type" : "org.apache.nifi.processors.standard.ReplaceText",
                    "yieldDuration" : "1 sec"
                  } ],
                  "remoteProcessGroups" : [ ],
                  "variables" : { }
                } ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "44f6ffe6-81df-3c8c-8b2e-f61e5e1bf6c8",
                  "name" : "EvaluateJsonPath",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "74198769-ffbe-3968-872c-0223ac2935a9",
                  "name" : "Route on api failure",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "85c4da2b-32fd-3ba4-a765-93f08ba42a83",
                  "identifier" : "e4190f61-a396-36a5-9076-d15ba8b3bc64",
                  "name" : "AttributesToJSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "f47dfc17-c138-3b77-a233-12a80fc45d71",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "a2672228-a456-3b03-a180-d4fcf01fe301",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "2912ced5-f751-3026-b4d3-556ee39114f8",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "2912ced5-f751-3026-b4d3-556ee39114f8",
                    "name" : "Set content type to Text",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "f14ca970-d396-3926-94df-058f0f1bfec2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "8f4641fa-4349-31db-8546-00600e8e4895",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "8f4641fa-4349-31db-8546-00600e8e4895",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "dda36f11-8999-3c63-9027-760e563c1f93",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "cb9ae210-777c-3f2d-879c-21f60af375cc",
                    "name" : "input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1072.0,
                    "y" : 800.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "f47dfc17-c138-3b77-a233-12a80fc45d71",
                    "name" : "output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "4d538cfd-573b-3413-834d-b23c6a405671",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                    "id" : "8f4641fa-4349-31db-8546-00600e8e4895",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "cb9ae210-777c-3f2d-879c-21f60af375cc",
                  "name" : "input",
                  "position" : {
                    "x" : 576.0,
                    "y" : 224.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Clear Flow File Contents",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "f47dfc17-c138-3b77-a233-12a80fc45d71",
                  "name" : "output",
                  "position" : {
                    "x" : 576.0,
                    "y" : 1048.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1632.0,
                  "y" : 528.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "8f4641fa-4349-31db-8546-00600e8e4895",
                  "name" : "Clear Flow File Contents",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 480.0
                  },
                  "properties" : {
                    "Regular Expression" : ".",
                    "Replacement Value" : "",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "8c117dde-0174-37b4-b294-716b80a9e9a5",
                  "identifier" : "2912ced5-f751-3026-b4d3-556ee39114f8",
                  "name" : "Set content type to Text",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 520.0,
                    "y" : 744.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "text/plain",
                    "Content-Type" : "text/plain"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "f46ff92a-cdb4-3591-9a28-9f6503d69dd8",
                "name" : "Route on OO response",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1648.0,
                  "y" : 296.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n    ${invokehttp.status.code:equals('422'):or(\n        ${invokehttp.status.code:startsWith('2'):and(\n            ${invokehttp.status.code:length():equals(3)}\n        )}\n    )}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "codesWithOperationOutcomes" : {
                    "displayName" : "codesWithOperationOutcomes",
                    "identifiesControllerService" : false,
                    "name" : "codesWithOperationOutcomes",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "01a6a02a-b507-3890-a11e-31537dc6a867",
                "name" : "Check 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1648.0,
                  "y" : 896.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "61511e62-9353-302a-a5aa-bec3f29ef5b1",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1016.0,
                  "y" : 640.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postSingleFhirResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "46eb6e47-679c-3a3f-8362-c87001bcc438",
                "name" : "Check 401 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1648.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "401Error" : "${invokehttp.status.code:equals('401')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "401Error" : {
                    "displayName" : "401Error",
                    "identifiesControllerService" : false,
                    "name" : "401Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "No Retry", "Original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "84a261ad-e788-30b0-9490-2dc52f95e4e3",
                "identifier" : "f2a09d08-c959-386c-b0e3-165ef2c32384",
                "name" : "PUT Resource to FHIR",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1024.0,
                  "y" : 296.0
                },
                "properties" : {
                  "use-etag" : "false",
                  "Prefer" : "return=OperationOutcome",
                  "Proxy Type" : "http",
                  "Basic Authentication Password" : "#{FHIR_UserPwd}",
                  "Connection Timeout" : "5 secs",
                  "send-message-body" : "true",
                  "set-form-filename" : "true",
                  "Always Output Response" : "true",
                  "etag-max-cache-size" : "10MB",
                  "idle-timeout" : "5 mins",
                  "Put Response Body In Attribute" : "responseBody",
                  "Use Chunked Encoding" : "false",
                  "Follow Redirects" : "True",
                  "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}/${resourceType}/${resourceId}",
                  "Content-Type" : "application/json",
                  "max-idle-connections" : "5",
                  "Read Timeout" : "15 secs",
                  "Max Length To Put In Attribute" : "2048",
                  "ignore-response-content" : "false",
                  "Digest Authentication" : "false",
                  "HTTP Method" : "PUT",
                  "Add Response Headers to Request" : "false",
                  "Basic Authentication Username" : "#{FHIR_User}",
                  "Include Date Header" : "True",
                  "Penalize on \"No Retry\"" : "false",
                  "X-FHIR-TENANT-ID" : "${tenantId}"
                },
                "propertyDescriptors" : {
                  "Proxy Host" : {
                    "displayName" : "Proxy Host",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Host",
                    "sensitive" : false
                  },
                  "Attributes to Send" : {
                    "displayName" : "Attributes to Send",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Send",
                    "sensitive" : false
                  },
                  "use-etag" : {
                    "displayName" : "Use HTTP ETag",
                    "identifiesControllerService" : false,
                    "name" : "use-etag",
                    "sensitive" : false
                  },
                  "proxy-configuration-service" : {
                    "displayName" : "Proxy Configuration Service",
                    "identifiesControllerService" : true,
                    "name" : "proxy-configuration-service",
                    "sensitive" : false
                  },
                  "Prefer" : {
                    "displayName" : "Prefer",
                    "identifiesControllerService" : false,
                    "name" : "Prefer",
                    "sensitive" : false
                  },
                  "Proxy Type" : {
                    "displayName" : "Proxy Type",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Type",
                    "sensitive" : false
                  },
                  "Basic Authentication Password" : {
                    "displayName" : "Basic Authentication Password",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Password",
                    "sensitive" : true
                  },
                  "Connection Timeout" : {
                    "displayName" : "Connection Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Connection Timeout",
                    "sensitive" : false
                  },
                  "send-message-body" : {
                    "displayName" : "Send Message Body",
                    "identifiesControllerService" : false,
                    "name" : "send-message-body",
                    "sensitive" : false
                  },
                  "set-form-filename" : {
                    "displayName" : "Set Flowfile Form Data File Name",
                    "identifiesControllerService" : false,
                    "name" : "set-form-filename",
                    "sensitive" : false
                  },
                  "Always Output Response" : {
                    "displayName" : "Always Output Response",
                    "identifiesControllerService" : false,
                    "name" : "Always Output Response",
                    "sensitive" : false
                  },
                  "etag-max-cache-size" : {
                    "displayName" : "Maximum ETag Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "etag-max-cache-size",
                    "sensitive" : false
                  },
                  "idle-timeout" : {
                    "displayName" : "Idle Timeout",
                    "identifiesControllerService" : false,
                    "name" : "idle-timeout",
                    "sensitive" : false
                  },
                  "Put Response Body In Attribute" : {
                    "displayName" : "Put Response Body In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Response Body In Attribute",
                    "sensitive" : false
                  },
                  "Use Chunked Encoding" : {
                    "displayName" : "Use Chunked Encoding",
                    "identifiesControllerService" : false,
                    "name" : "Use Chunked Encoding",
                    "sensitive" : false
                  },
                  "Follow Redirects" : {
                    "displayName" : "Follow Redirects",
                    "identifiesControllerService" : false,
                    "name" : "Follow Redirects",
                    "sensitive" : false
                  },
                  "Remote URL" : {
                    "displayName" : "Remote URL",
                    "identifiesControllerService" : false,
                    "name" : "Remote URL",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  },
                  "form-body-form-name" : {
                    "displayName" : "Flowfile Form Data Name",
                    "identifiesControllerService" : false,
                    "name" : "form-body-form-name",
                    "sensitive" : false
                  },
                  "max-idle-connections" : {
                    "displayName" : "Max Idle Connections",
                    "identifiesControllerService" : false,
                    "name" : "max-idle-connections",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-user" : {
                    "displayName" : "Proxy Username",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-user",
                    "sensitive" : false
                  },
                  "Read Timeout" : {
                    "displayName" : "Read Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Read Timeout",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-password" : {
                    "displayName" : "Proxy Password",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-password",
                    "sensitive" : true
                  },
                  "ignore-response-content" : {
                    "displayName" : "Ignore response's content",
                    "identifiesControllerService" : false,
                    "name" : "ignore-response-content",
                    "sensitive" : false
                  },
                  "Proxy Port" : {
                    "displayName" : "Proxy Port",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Port",
                    "sensitive" : false
                  },
                  "SSL Context Service" : {
                    "displayName" : "SSL Context Service",
                    "identifiesControllerService" : true,
                    "name" : "SSL Context Service",
                    "sensitive" : false
                  },
                  "Digest Authentication" : {
                    "displayName" : "Use Digest Authentication",
                    "identifiesControllerService" : false,
                    "name" : "Digest Authentication",
                    "sensitive" : false
                  },
                  "HTTP Method" : {
                    "displayName" : "HTTP Method",
                    "identifiesControllerService" : false,
                    "name" : "HTTP Method",
                    "sensitive" : false
                  },
                  "Add Response Headers to Request" : {
                    "displayName" : "Add Response Headers to Request",
                    "identifiesControllerService" : false,
                    "name" : "Add Response Headers to Request",
                    "sensitive" : false
                  },
                  "Basic Authentication Username" : {
                    "displayName" : "Basic Authentication Username",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Username",
                    "sensitive" : false
                  },
                  "Include Date Header" : {
                    "displayName" : "Include Date Header",
                    "identifiesControllerService" : false,
                    "name" : "Include Date Header",
                    "sensitive" : false
                  },
                  "Penalize on \"No Retry\"" : {
                    "displayName" : "Penalize on \"No Retry\"",
                    "identifiesControllerService" : false,
                    "name" : "Penalize on \"No Retry\"",
                    "sensitive" : false
                  },
                  "X-FHIR-TENANT-ID" : {
                    "displayName" : "X-FHIR-TENANT-ID",
                    "identifiesControllerService" : false,
                    "name" : "X-FHIR-TENANT-ID",
                    "sensitive" : false
                  },
                  "Useragent" : {
                    "displayName" : "Useragent",
                    "identifiesControllerService" : false,
                    "name" : "Useragent",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "42980193-0ad7-363c-9261-cccb62d447ce",
                  "name" : "API Failed",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "199ae61c-65e6-39f7-b7e8-072c43d79b50",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "id" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "id" : "fb149496-a43e-33fe-b02b-f71f6974cd95",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "92b6a24b-3fe4-301d-b369-7659b6fe95c4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "401Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "413f914c-17e6-3bf7-8dd1-2a456c3e2a9f",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "d7fe7f8a-0259-337b-90c3-0988e045c3e6",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "b4e5e296-7909-3e4b-a7ed-e80b6df4e3a6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "19c074d9-7be3-3d5f-8a75-cded6c0cefbd",
                  "name" : "Update Bundle Put or Post entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "id" : "d7c3add8-0aae-364e-8cd7-d0eacb891ca9",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "45270e19-a41a-36bb-870c-ac716bae53f0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "413f914c-17e6-3bf7-8dd1-2a456c3e2a9f",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "b0801c11-0536-3741-8493-a84c9460331c",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "e372a1c0-daee-34de-8ada-ccc8c60a0149",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "1674ca70-32f0-38f6-8a3a-06f7e92f06a9",
                  "name" : "Route on api failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "42dc03c6-c593-331d-a5bb-f8ea1d6078c6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "19c074d9-7be3-3d5f-8a75-cded6c0cefbd",
                  "name" : "Update Bundle Put or Post entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : -856.0,
                  "y" : 1304.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "id" : "d7c3add8-0aae-364e-8cd7-d0eacb891ca9",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "53852637-c7ef-3e95-9107-e5b9d923753e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "dcd64017-cc6d-31cc-907d-664128717907",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "0dfd9016-fba6-3835-bb08-c071d8bdccab",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "split" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "998d73eb-1801-3a7d-b5bb-fb2504e753f6",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "id" : "d7c3add8-0aae-364e-8cd7-d0eacb891ca9",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "2bdf9afc-912a-3228-bc4b-4cb1710e7b28",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "id" : "353e7150-b7b9-3e3b-9b65-a926d3ecc570",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "19c074d9-7be3-3d5f-8a75-cded6c0cefbd",
                  "name" : "Update Bundle Put or Post entries",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "c61f491e-3065-3156-ba41-70cbd487bb39",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "matched", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "884c7b1e-0666-3a16-abc8-99f873ee61db",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "1674ca70-32f0-38f6-8a3a-06f7e92f06a9",
                  "name" : "Route on api failure",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "2599c57c-64c8-3a4c-b77e-b9b8282978d1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "No Retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "33b1244e-f6ed-3eb0-a083-16919dd85ec5",
                  "name" : "Split",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "a46c4d34-7b62-34b6-942f-28370eba6429",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "dcd64017-cc6d-31cc-907d-664128717907",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "884c7b1e-0666-3a16-abc8-99f873ee61db",
                  "name" : "Get Bundle Id",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "661f0365-8251-3761-a3c4-9b56db9b88a1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "cb152768-ae6a-3ce8-a9f8-d41ae249243d",
                  "name" : "Input Bundle",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "413f914c-17e6-3bf7-8dd1-2a456c3e2a9f",
                  "name" : "Check 401 error",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "78348367-d7fe-3195-b1b6-2868d0bf625f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "b0801c11-0536-3741-8493-a84c9460331c",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 336.0,
                  "y" : 432.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "8f8ee359-454c-3ac9-aa22-e32914606b25",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "943cf094-4cc4-323a-a485-764f8d64b887",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "175ea3df-b6e1-3d04-8874-6bad352aabe8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "dcd64017-cc6d-31cc-907d-664128717907",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "998d73eb-1801-3a7d-b5bb-fb2504e753f6",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "c0459327-f32a-368c-b1c4-d01ec3f28bb2",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "bundle_error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "1674ca70-32f0-38f6-8a3a-06f7e92f06a9",
                  "name" : "Route on api failure",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "beea2a20-43f9-3e05-8875-4c3fa74e37ee",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "af4ba1f0-433d-381e-8aa2-d410e362e918",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "943cf094-4cc4-323a-a485-764f8d64b887",
                  "name" : "Failed getting resource from entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "0d40356b-a549-34b6-9785-aaa249eda6bd",
                  "name" : "Route on api success code",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "4f3b47de-d8ec-394c-8c14-5760344194a0",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Response" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 216.0,
                  "y" : 344.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "15a987e1-efa9-3406-8035-3d977628e3a5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "id" : "264de5e2-acfa-3463-b4bf-30c501079499",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "f60e1d8c-4a35-3238-a361-bc411fd892fb",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "api_success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "0d40356b-a549-34b6-9785-aaa249eda6bd",
                  "name" : "Route on api success code",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "b0ce19fd-1059-3a00-b8f8-21ae74abf66e",
                  "name" : "Success",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "59fa16e8-f87f-393f-b470-886ed3aba361",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "id" : "797ee2e8-0207-3461-a4bc-b65d5f7acba5",
                  "name" : "Output",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "id" : "fb149496-a43e-33fe-b02b-f71f6974cd95",
                  "name" : "Input",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "60eba357-c530-33d7-b285-9ab97832af59",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "retries_exceeded" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "a67e7edd-965d-3d84-8001-8dcc943ccf47",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "404Error" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "b0801c11-0536-3741-8493-a84c9460331c",
                  "name" : "Check 404 error",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "beea2a20-43f9-3e05-8875-4c3fa74e37ee",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "4e3292e9-49c9-3972-8149-f375d62f2ba5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "2395657f-ea2d-3fd6-b8f4-19d715483ba9",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "2395657f-ea2d-3fd6-b8f4-19d715483ba9",
                  "name" : "Get Bundle entries failed",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "ac517a7b-888d-381a-a4a6-f37237a4b558",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "998d73eb-1801-3a7d-b5bb-fb2504e753f6",
                  "name" : "Get Bundle Entries",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 360.0,
                  "y" : 528.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                  "name" : "RetryFlowFile",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "39bfb8a9-1948-3018-96d0-ff7593bf677d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                  "name" : "POST Resource Bundle to FHIR",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "beea2a20-43f9-3e05-8875-4c3fa74e37ee",
                  "name" : "Failure",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "5317182e-c666-30dd-843c-19a7dbdbafc1",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                  "id" : "d7fe7f8a-0259-337b-90c3-0988e045c3e6",
                  "name" : "Update Bundle failed",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "cb152768-ae6a-3ce8-a9f8-d41ae249243d",
                "name" : "Input Bundle",
                "position" : {
                  "x" : 584.0,
                  "y" : -344.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "height" : 48.0,
                "identifier" : "1bd6c3be-f8ae-3345-8a23-43c4f4926454",
                "label" : "Attempt to store each entry individually",
                "position" : {
                  "x" : 816.0,
                  "y" : 760.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 232.0
              }, {
                "componentType" : "LABEL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "height" : 48.0,
                "identifier" : "7dc43dbf-623e-305d-94b3-cb5418d7e748",
                "label" : "Retry 5xx and 404 errors",
                "position" : {
                  "x" : -616.0,
                  "y" : 744.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 200.0
              } ],
              "name" : "Handle Resource Bundle",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "b0ce19fd-1059-3a00-b8f8-21ae74abf66e",
                "name" : "Success",
                "position" : {
                  "x" : 1232.0,
                  "y" : 920.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "beea2a20-43f9-3e05-8875-4c3fa74e37ee",
                "name" : "Failure",
                "position" : {
                  "x" : 1800.0,
                  "y" : 1416.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "42980193-0ad7-363c-9261-cccb62d447ce",
                "name" : "API Failed",
                "position" : {
                  "x" : -576.0,
                  "y" : 1912.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "33b1244e-f6ed-3eb0-a083-16919dd85ec5",
                "name" : "Split",
                "position" : {
                  "x" : 568.0,
                  "y" : 1440.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
              "position" : {
                "x" : 1344.0,
                "y" : -40.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "f2a081e0-250e-3fce-877c-e701b86084bf",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "80026de0-5de5-395d-aa3d-7f4a85d45d95",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "3ee23581-269a-3a78-8c64-1301d2a63ee0",
                    "name" : "Set content-type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "d35ac009-2c12-3b1e-b622-8722ae149a7d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "80026de0-5de5-395d-aa3d-7f4a85d45d95",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "797ee2e8-0207-3461-a4bc-b65d5f7acba5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "45ade0ff-6d7e-34dd-9599-65486fed31b2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "e1d90d93-4e34-332d-b7d2-99848b493b45",
                    "name" : "Set Mime.Type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "2ac9a399-13f4-30d6-b4e2-b9ad05b3328b",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "582ecaa9-2aaf-3030-bb1f-3a63b7b3d05e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "65b50030-3bcb-3298-a087-a679979bb578",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 2872.0,
                    "y" : 0.0
                  }, {
                    "x" : 2872.0,
                    "y" : 560.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "01ef0a79-1623-3aa6-acb3-a117491b4e12",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "2ac9a399-13f4-30d6-b4e2-b9ad05b3328b",
                    "name" : "Set Content-Type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "797ee2e8-0207-3461-a4bc-b65d5f7acba5",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "7eb7c7f7-a9c9-3bbc-9d99-7e52cb24f23d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "83183510-db3b-3ab1-a449-33f6529b47cc",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "83183510-db3b-3ab1-a449-33f6529b47cc",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "ab2cd26d-a7f6-3022-9153-ea19772d62a8",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "70d587c3-a48e-3105-9796-9c4fc794bb60",
                    "name" : "Set mime.type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "13e541df-c504-3890-8361-c66b24b99256",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "80026de0-5de5-395d-aa3d-7f4a85d45d95",
                    "name" : "Determine if content-type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "e8a06f0a-75be-306b-8392-6a968492b6f5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "65b50030-3bcb-3298-a087-a679979bb578",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "65b50030-3bcb-3298-a087-a679979bb578",
                    "name" : "Determine if Content-Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "32cb6aa5-56e5-3f8b-a165-d3b66b6c86f3",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "264de5e2-acfa-3463-b4bf-30c501079499",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                    "name" : "Determine if mime.type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "f555f47e-33e8-3cb9-a447-621ad014f3f6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "3ee23581-269a-3a78-8c64-1301d2a63ee0",
                    "name" : "Set content-type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "e1d90d93-4e34-332d-b7d2-99848b493b45",
                    "name" : "Set Mime.Type to json",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "a423f549-636f-301f-be86-b40850dc19fe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "fhir.json" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "83183510-db3b-3ab1-a449-33f6529b47cc",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "83183510-db3b-3ab1-a449-33f6529b47cc",
                    "name" : "Determine if Mime.Type FHIR JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "34d6f115-1571-3d57-8e1f-fb4001988240",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                    "id" : "70d587c3-a48e-3105-9796-9c4fc794bb60",
                    "name" : "Set mime.type to json",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "264de5e2-acfa-3463-b4bf-30c501079499",
                  "name" : "Input",
                  "position" : {
                    "x" : 1672.0,
                    "y" : -256.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Handle FHIR+Json Content Type",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "797ee2e8-0207-3461-a4bc-b65d5f7acba5",
                  "name" : "Output",
                  "position" : {
                    "x" : 1672.0,
                    "y" : 1160.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1160.0,
                  "y" : 536.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "80026de0-5de5-395d-aa3d-7f4a85d45d95",
                  "name" : "Determine if content-type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 176.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${content-type:notNull():and(\n        ${content-type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "2ac9a399-13f4-30d6-b4e2-b9ad05b3328b",
                  "name" : "Set Content-Type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2312.0,
                    "y" : -64.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "Content-Type" : "${Content-Type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "059f67c2-79f7-3269-96ae-66a63db88d60",
                  "name" : "Determine if mime.type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 496.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${mime.type:notNull():and(\n        ${mime.type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "70d587c3-a48e-3105-9796-9c4fc794bb60",
                  "name" : "Set mime.type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2280.0,
                    "y" : 608.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "${mime.type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "83183510-db3b-3ab1-a449-33f6529b47cc",
                  "name" : "Determine if Mime.Type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : 816.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${Mime.Type:notNull():and(\n        ${Mime.Type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "3ee23581-269a-3a78-8c64-1301d2a63ee0",
                  "name" : "Set content-type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2304.0,
                    "y" : 176.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "content-type" : "${content-type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "content-type" : {
                      "displayName" : "content-type",
                      "identifiesControllerService" : false,
                      "name" : "content-type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "e1d90d93-4e34-332d-b7d2-99848b493b45",
                  "name" : "Set Mime.Type to json",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2280.0,
                    "y" : 824.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "Mime.Type" : "${Mime.Type:replace('fhir+json', 'json')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Mime.Type" : {
                      "displayName" : "Mime.Type",
                      "identifiesControllerService" : false,
                      "name" : "Mime.Type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ddcfaba3-fb8d-3161-9c3d-854c9d3eca0e",
                  "identifier" : "65b50030-3bcb-3298-a087-a679979bb578",
                  "name" : "Determine if Content-Type FHIR JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1616.0,
                    "y" : -64.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "fhir.json" : "${Content-Type:notNull():and(\n        ${Content-Type:contains('fhir+json')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "fhir.json" : {
                      "displayName" : "fhir.json",
                      "identifiesControllerService" : false,
                      "name" : "fhir.json",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                    "id" : "353e7150-b7b9-3e3b-9b65-a926d3ecc570",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "identifier" : "72335f94-7ec5-3924-a52b-7e7974b07b07",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                    "id" : "fb149496-a43e-33fe-b02b-f71f6974cd95",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "identifier" : "fb149496-a43e-33fe-b02b-f71f6974cd95",
                  "name" : "Input",
                  "position" : {
                    "x" : 990.4060390693144,
                    "y" : 133.25964456900573
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ {
                  "componentType" : "LABEL",
                  "groupIdentifier" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "height" : 104.0,
                  "identifier" : "74de6acd-cf8b-3a5b-b6ca-92c8fa688c35",
                  "label" : "Implement stopping the processing of this batch",
                  "position" : {
                    "x" : 968.0,
                    "y" : -128.0
                  },
                  "style" : {
                    "font-size" : "12px"
                  },
                  "width" : 368.0
                } ],
                "name" : "Stop Processing",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "d98d2327-1751-3b81-ac8e-2c25deafd79e",
                  "identifier" : "353e7150-b7b9-3e3b-9b65-a926d3ecc570",
                  "name" : "Output",
                  "position" : {
                    "x" : 984.0,
                    "y" : 408.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -656.0,
                  "y" : 1192.0
                },
                "processGroups" : [ ],
                "processors" : [ ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 80.0,
                    "y" : 752.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "c17a0233-8749-3505-927f-4d592a27839c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 912.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "461415f6-9b8b-3dfe-a059-4b1c3348e952",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "a4de10a7-012e-3708-bf80-0730ed7a85b0",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 600.0,
                    "y" : 768.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "01431a36-f993-3ae4-b7f6-f6d893e94b4b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                    "name" : "Output",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "d5c151fd-6347-302a-9f81-cdb6857b9b45",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 464.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "7837225d-669f-3aa4-873b-98b6b708d31a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "6a92fd5d-5426-3407-8687-3c6cf2d48cbb",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "a4de10a7-012e-3708-bf80-0730ed7a85b0",
                    "name" : "Clear Flow File Contents",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "0e91f4c9-2544-3173-a651-839e27131d1c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "b0eb671b-15b2-3e8b-8c26-22025c9ea042",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 200.0,
                    "y" : 376.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                    "name" : "EvaluateJsonPath",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "6a16ab8f-9360-3455-b71f-a9cf79640c57",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "6a92fd5d-5426-3407-8687-3c6cf2d48cbb",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "6a92fd5d-5426-3407-8687-3c6cf2d48cbb",
                    "name" : "AttributesToJSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "c8fe7dcd-85ce-31f7-a8d4-32707c23f137",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "codesWithOperationOutcomes" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "b0eb671b-15b2-3e8b-8c26-22025c9ea042",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "b0eb671b-15b2-3e8b-8c26-22025c9ea042",
                    "name" : "Route on api failure",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "f58028ab-a758-3e60-9326-1884a17ba43f",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                    "id" : "d7c3add8-0aae-364e-8cd7-d0eacb891ca9",
                    "name" : "Input",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "d7c3add8-0aae-364e-8cd7-d0eacb891ca9",
                  "name" : "Input",
                  "position" : {
                    "x" : 416.0,
                    "y" : -240.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "ResponseBodyAttributeToFlowFileContent",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "cbbdee72-6069-36ea-b8a5-7b72a0a6e43b",
                  "name" : "Output",
                  "position" : {
                    "x" : 200.0,
                    "y" : 904.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -648.0,
                  "y" : 1576.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "6a92fd5d-5426-3407-8687-3c6cf2d48cbb",
                  "name" : "AttributesToJSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 144.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "Null Value" : "false",
                    "Attributes List" : "responseBody",
                    "Include Core Attributes" : "false"
                  },
                  "propertyDescriptors" : {
                    "attributes-to-json-regex" : {
                      "displayName" : "Attributes Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-json-regex",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Null Value" : {
                      "displayName" : "Null Value",
                      "identifiesControllerService" : false,
                      "name" : "Null Value",
                      "sensitive" : false
                    },
                    "Attributes List" : {
                      "displayName" : "Attributes List",
                      "identifiesControllerService" : false,
                      "name" : "Attributes List",
                      "sensitive" : false
                    },
                    "Include Core Attributes" : {
                      "displayName" : "Include Core Attributes",
                      "identifiesControllerService" : false,
                      "name" : "Include Core Attributes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.AttributesToJSON",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "13c37918-6ad0-3ac3-bc00-e88dc68d12e1",
                  "name" : "EvaluateJsonPath",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 136.0,
                    "y" : 504.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-content",
                    "responseBody" : "$.responseBody",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "responseBody" : {
                      "displayName" : "responseBody",
                      "identifiesControllerService" : false,
                      "name" : "responseBody",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "a4de10a7-012e-3708-bf80-0730ed7a85b0",
                  "name" : "Clear Flow File Contents",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 736.0,
                    "y" : 144.0
                  },
                  "properties" : {
                    "Regular Expression" : ".",
                    "Replacement Value" : "",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Always Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "cf2eb8e1-7f8b-38a2-aece-5409904c7f1b",
                  "identifier" : "b0eb671b-15b2-3e8b-8c26-22025c9ea042",
                  "name" : "Route on api failure",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 360.0,
                    "y" : -112.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "codesWithOperationOutcomes" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "codesWithOperationOutcomes" : {
                      "displayName" : "codesWithOperationOutcomes",
                      "identifiesControllerService" : false,
                      "name" : "codesWithOperationOutcomes",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ "original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "998d73eb-1801-3a7d-b5bb-fb2504e753f6",
                "name" : "Get Bundle Entries",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 515.2889740217876,
                  "y" : 820.7085145211089
                },
                "properties" : {
                  "Null Value Representation" : "empty string",
                  "JsonPath Expression" : "$.entry"
                },
                "propertyDescriptors" : {
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "JsonPath Expression" : {
                    "displayName" : "JsonPath Expression",
                    "identifiesControllerService" : false,
                    "name" : "JsonPath Expression",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.SplitJson",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "d7fe7f8a-0259-337b-90c3-0988e045c3e6",
                "name" : "Update Bundle failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1752.0,
                  "y" : 48.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Update Bundle failed",
                  "errorMessage" : "Type: ${resourceType}, Id: ${resourceId}, File: ${filename}"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "943cf094-4cc4-323a-a485-764f8d64b887",
                "name" : "Failed getting resource from entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1032.0,
                  "y" : 1336.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Failed getting resource from entry",
                  "errorMessage" : "Type: ${resourceType}, Id: ${resourceId}, File: ${filename}"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "884c7b1e-0666-3a16-abc8-99f873ee61db",
                "name" : "Get Bundle Id",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 528.0,
                  "y" : -176.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "Return Type" : "auto-detect",
                  "bundleId" : "$.id",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "warn"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "bundleId" : {
                    "displayName" : "bundleId",
                    "identifiesControllerService" : false,
                    "name" : "bundleId",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-scripting-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "19c074d9-7be3-3d5f-8a75-cded6c0cefbd",
                "name" : "Update Bundle Put or Post entries",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 523.2889740217876,
                  "y" : 52.708514521108924
                },
                "properties" : {
                  "Script Engine" : "python",
                  "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2020\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\nclass PyStreamCallback(StreamCallback):\n    def __init__(self):\n        pass\n    \n    def process(self, inputStream, outputStream):\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        inputFHIRResource = json.loads(inputText, object_pairs_hook=OrderedDict)\n\n        # need to rebuild the resource bundle with type transaction.\n        outputFHIRResource = OrderedDict()\n\n        if inputFHIRResource[\"resourceType\"] == \"Bundle\":\n            # recreate the bundle resource  \n            outputFHIRResource[\"resourceType\"] = \"Bundle\"\n            outputFHIRResource[\"type\"] = \"transaction\"\n    \n            if \"id\" in inputFHIRResource:\n                outputFHIRResource[\"id\"] = inputFHIRResource[\"id\"]\n    \n            # build the new entry list by grabbing the resource and setting the request\n            newEntryList = []\n            for anEntry in inputFHIRResource[\"entry\"]:                    \n                newEntry = OrderedDict()\n                isDeleteEntry = False\n                \n                if \"request\" in anEntry:\n                    requestEntry = anEntry[\"request\"]\n                    if requestEntry[\"method\"] == \"DELETE\":\n                        newEntry[\"request\"] = requestEntry\n                        isDeleteEntry = True\n                \n                if not isDeleteEntry:    \n                    newEntry [\"resource\"] = anEntry[\"resource\"]\n        \n                    requestEntry = OrderedDict()\n                    resourceType = newEntry[\"resource\"] [\"resourceType\"]\n        \n                    if \"id\" in newEntry[\"resource\"]:\n                        requestEntry = {\"method\": \"PUT\", \"url\": resourceType + '/' + newEntry[\"resource\"] [\"id\"]}\n                    else:\n                        requestEntry = {\"method\": \"POST\", \"url\": resourceType}\n            \n                    newEntry[\"request\"] = requestEntry\n            \n                newEntryList.append(newEntry)\n\n            outputFHIRResource[\"entry\"] = newEntryList\n        else:\n            # not a resource bundle, just pass it along\n            outputFHIRResource = inputFHIRResource\n\n        outputStream.write(bytearray(json.dumps(outputFHIRResource, indent=4).encode(\"utf-8\")))\n\nflowFile = session.get()\nif (flowFile != None):\n    flowFile = session.write(flowFile, PyStreamCallback())\n    flowFile = session.putAttribute(flowFile, \"filename\", flowFile.getAttribute('filename').split('.')[0] + '_updated.json')\n    \nsession.transfer(flowFile, REL_SUCCESS)\nsession.commit()\n"
                },
                "propertyDescriptors" : {
                  "Script File" : {
                    "displayName" : "Script File",
                    "identifiesControllerService" : false,
                    "name" : "Script File",
                    "sensitive" : false
                  },
                  "Script Engine" : {
                    "displayName" : "Script Engine",
                    "identifiesControllerService" : false,
                    "name" : "Script Engine",
                    "sensitive" : false
                  },
                  "Script Body" : {
                    "displayName" : "Script Body",
                    "identifiesControllerService" : false,
                    "name" : "Script Body",
                    "sensitive" : false
                  },
                  "Module Directory" : {
                    "displayName" : "Module Directory",
                    "identifiesControllerService" : false,
                    "name" : "Module Directory",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.script.ExecuteScript",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "accda221-ad96-36d4-bf45-251bfca11ed0",
                "name" : "RetryFlowFile",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -640.0,
                  "y" : 808.0
                },
                "properties" : {
                  "penalize-retries" : "true",
                  "maximum-retries" : "3",
                  "Fail on Non-numerical Overwrite" : "false",
                  "reuse-mode" : "fail",
                  "retry-attribute" : "postBundleResource.retries"
                },
                "propertyDescriptors" : {
                  "penalize-retries" : {
                    "displayName" : "Penalize Retries",
                    "identifiesControllerService" : false,
                    "name" : "penalize-retries",
                    "sensitive" : false
                  },
                  "maximum-retries" : {
                    "displayName" : "Maximum Retries",
                    "identifiesControllerService" : false,
                    "name" : "maximum-retries",
                    "sensitive" : false
                  },
                  "Fail on Non-numerical Overwrite" : {
                    "displayName" : "Fail on Non-numerical Overwrite",
                    "identifiesControllerService" : false,
                    "name" : "Fail on Non-numerical Overwrite",
                    "sensitive" : false
                  },
                  "reuse-mode" : {
                    "displayName" : "Reuse Mode",
                    "identifiesControllerService" : false,
                    "name" : "reuse-mode",
                    "sensitive" : false
                  },
                  "retry-attribute" : {
                    "displayName" : "Retry Attribute",
                    "identifiesControllerService" : false,
                    "name" : "retry-attribute",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RetryFlowFile",
                "yieldDuration" : "30 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "413f914c-17e6-3bf7-8dd1-2a456c3e2a9f",
                "name" : "Check 401 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 16.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "401Error" : "${invokehttp.status.code:equals('401')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "401Error" : {
                    "displayName" : "401Error",
                    "identifiesControllerService" : false,
                    "name" : "401Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "1674ca70-32f0-38f6-8a3a-06f7e92f06a9",
                "name" : "Route on api failure",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 520.0,
                  "y" : 568.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "bundle_error" : "${invokehttp.status.code:equals('400'):or(\n        ${invokehttp.status.code:equals('422')}\n)}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "bundle_error" : {
                    "displayName" : "bundle_error",
                    "identifiesControllerService" : false,
                    "name" : "bundle_error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "0d40356b-a549-34b6-9785-aaa249eda6bd",
                "name" : "Route on api success code",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1176.0,
                  "y" : 288.0
                },
                "properties" : {
                  "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                  "Routing Strategy" : "Route to Property name"
                },
                "propertyDescriptors" : {
                  "api_success" : {
                    "displayName" : "api_success",
                    "identifiesControllerService" : false,
                    "name" : "api_success",
                    "sensitive" : false
                  },
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "b0801c11-0536-3741-8493-a84c9460331c",
                "name" : "Check 404 error",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 16.0,
                  "y" : 816.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "404Error" : "${invokehttp.status.code:equals('404')}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "404Error" : {
                    "displayName" : "404Error",
                    "identifiesControllerService" : false,
                    "name" : "404Error",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "dcd64017-cc6d-31cc-907d-664128717907",
                "name" : "Get Resource From Entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 512.0,
                  "y" : 1072.0
                },
                "properties" : {
                  "Destination" : "flowfile-content",
                  "resource" : "$.resource",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resource" : {
                    "displayName" : "resource",
                    "identifiesControllerService" : false,
                    "name" : "resource",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "Original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "6150b95e-b482-3025-a447-cc8d0db7e1c8",
                "name" : "POST Resource Bundle to FHIR",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 523.2889740217876,
                  "y" : 284.7085145211089
                },
                "properties" : {
                  "use-etag" : "false",
                  "Prefer" : "return=OperationOutcome",
                  "Proxy Type" : "http",
                  "Basic Authentication Password" : "#{FHIR_UserPwd}",
                  "Connection Timeout" : "5 secs",
                  "send-message-body" : "true",
                  "set-form-filename" : "true",
                  "Always Output Response" : "true",
                  "etag-max-cache-size" : "10MB",
                  "idle-timeout" : "5 mins",
                  "Put Response Body In Attribute" : "responseBody",
                  "Use Chunked Encoding" : "false",
                  "Follow Redirects" : "True",
                  "Remote URL" : "#{FHIR_URL}${fhirUrlSuffix}",
                  "Content-Type" : "application/json",
                  "max-idle-connections" : "5",
                  "Read Timeout" : "15 secs",
                  "Max Length To Put In Attribute" : "2048",
                  "ignore-response-content" : "false",
                  "Digest Authentication" : "false",
                  "HTTP Method" : "POST",
                  "Add Response Headers to Request" : "false",
                  "Basic Authentication Username" : "#{FHIR_User}",
                  "Include Date Header" : "True",
                  "Penalize on \"No Retry\"" : "false",
                  "X-FHIR-TENANT-ID" : "${tenantId}"
                },
                "propertyDescriptors" : {
                  "Proxy Host" : {
                    "displayName" : "Proxy Host",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Host",
                    "sensitive" : false
                  },
                  "Attributes to Send" : {
                    "displayName" : "Attributes to Send",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Send",
                    "sensitive" : false
                  },
                  "use-etag" : {
                    "displayName" : "Use HTTP ETag",
                    "identifiesControllerService" : false,
                    "name" : "use-etag",
                    "sensitive" : false
                  },
                  "proxy-configuration-service" : {
                    "displayName" : "Proxy Configuration Service",
                    "identifiesControllerService" : true,
                    "name" : "proxy-configuration-service",
                    "sensitive" : false
                  },
                  "Prefer" : {
                    "displayName" : "Prefer",
                    "identifiesControllerService" : false,
                    "name" : "Prefer",
                    "sensitive" : false
                  },
                  "Proxy Type" : {
                    "displayName" : "Proxy Type",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Type",
                    "sensitive" : false
                  },
                  "Basic Authentication Password" : {
                    "displayName" : "Basic Authentication Password",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Password",
                    "sensitive" : true
                  },
                  "Connection Timeout" : {
                    "displayName" : "Connection Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Connection Timeout",
                    "sensitive" : false
                  },
                  "send-message-body" : {
                    "displayName" : "Send Message Body",
                    "identifiesControllerService" : false,
                    "name" : "send-message-body",
                    "sensitive" : false
                  },
                  "set-form-filename" : {
                    "displayName" : "Set Flowfile Form Data File Name",
                    "identifiesControllerService" : false,
                    "name" : "set-form-filename",
                    "sensitive" : false
                  },
                  "Always Output Response" : {
                    "displayName" : "Always Output Response",
                    "identifiesControllerService" : false,
                    "name" : "Always Output Response",
                    "sensitive" : false
                  },
                  "etag-max-cache-size" : {
                    "displayName" : "Maximum ETag Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "etag-max-cache-size",
                    "sensitive" : false
                  },
                  "idle-timeout" : {
                    "displayName" : "Idle Timeout",
                    "identifiesControllerService" : false,
                    "name" : "idle-timeout",
                    "sensitive" : false
                  },
                  "Put Response Body In Attribute" : {
                    "displayName" : "Put Response Body In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Response Body In Attribute",
                    "sensitive" : false
                  },
                  "Use Chunked Encoding" : {
                    "displayName" : "Use Chunked Encoding",
                    "identifiesControllerService" : false,
                    "name" : "Use Chunked Encoding",
                    "sensitive" : false
                  },
                  "Follow Redirects" : {
                    "displayName" : "Follow Redirects",
                    "identifiesControllerService" : false,
                    "name" : "Follow Redirects",
                    "sensitive" : false
                  },
                  "Remote URL" : {
                    "displayName" : "Remote URL",
                    "identifiesControllerService" : false,
                    "name" : "Remote URL",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  },
                  "form-body-form-name" : {
                    "displayName" : "Flowfile Form Data Name",
                    "identifiesControllerService" : false,
                    "name" : "form-body-form-name",
                    "sensitive" : false
                  },
                  "max-idle-connections" : {
                    "displayName" : "Max Idle Connections",
                    "identifiesControllerService" : false,
                    "name" : "max-idle-connections",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-user" : {
                    "displayName" : "Proxy Username",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-user",
                    "sensitive" : false
                  },
                  "Read Timeout" : {
                    "displayName" : "Read Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Read Timeout",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-password" : {
                    "displayName" : "Proxy Password",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-password",
                    "sensitive" : true
                  },
                  "ignore-response-content" : {
                    "displayName" : "Ignore response's content",
                    "identifiesControllerService" : false,
                    "name" : "ignore-response-content",
                    "sensitive" : false
                  },
                  "Proxy Port" : {
                    "displayName" : "Proxy Port",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Port",
                    "sensitive" : false
                  },
                  "SSL Context Service" : {
                    "displayName" : "SSL Context Service",
                    "identifiesControllerService" : true,
                    "name" : "SSL Context Service",
                    "sensitive" : false
                  },
                  "Digest Authentication" : {
                    "displayName" : "Use Digest Authentication",
                    "identifiesControllerService" : false,
                    "name" : "Digest Authentication",
                    "sensitive" : false
                  },
                  "HTTP Method" : {
                    "displayName" : "HTTP Method",
                    "identifiesControllerService" : false,
                    "name" : "HTTP Method",
                    "sensitive" : false
                  },
                  "Add Response Headers to Request" : {
                    "displayName" : "Add Response Headers to Request",
                    "identifiesControllerService" : false,
                    "name" : "Add Response Headers to Request",
                    "sensitive" : false
                  },
                  "Basic Authentication Username" : {
                    "displayName" : "Basic Authentication Username",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Username",
                    "sensitive" : false
                  },
                  "Include Date Header" : {
                    "displayName" : "Include Date Header",
                    "identifiesControllerService" : false,
                    "name" : "Include Date Header",
                    "sensitive" : false
                  },
                  "Penalize on \"No Retry\"" : {
                    "displayName" : "Penalize on \"No Retry\"",
                    "identifiesControllerService" : false,
                    "name" : "Penalize on \"No Retry\"",
                    "sensitive" : false
                  },
                  "X-FHIR-TENANT-ID" : {
                    "displayName" : "X-FHIR-TENANT-ID",
                    "identifiesControllerService" : false,
                    "name" : "X-FHIR-TENANT-ID",
                    "sensitive" : false
                  },
                  "Useragent" : {
                    "displayName" : "Useragent",
                    "identifiesControllerService" : false,
                    "name" : "Useragent",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "85c0cdcf-e724-346a-898c-2dbaf027f7b1",
                "identifier" : "2395657f-ea2d-3fd6-b8f4-19d715483ba9",
                "name" : "Get Bundle entries failed",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1056.0,
                  "y" : 1072.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "errorType" : "Get Bundle entries failed",
                  "errorMessage" : "Type: ${resourceType}, Id: ${resourceId}, File: ${filename}"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "errorType" : {
                    "displayName" : "errorType",
                    "identifiesControllerService" : false,
                    "name" : "errorType",
                    "sensitive" : false
                  },
                  "errorMessage" : {
                    "displayName" : "errorMessage",
                    "identifiesControllerService" : false,
                    "name" : "errorMessage",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "f63fd999-f1df-3270-a8f8-533f1c46c4af",
              "name" : "Invalid Json Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2416.0,
                "y" : -792.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Invalid JSON",
                "errorMessage" : "File: ${filename}",
                "invokehttp.status.message" : "Invalid JSON"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "e0127c8f-16d6-3c20-83d5-e64336358e01",
              "name" : "Null check for Resource Type or Id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -480.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "isNull" : "${resourceType:isEmpty():or(${resourceId:isEmpty()})}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "isNull" : {
                  "displayName" : "isNull",
                  "identifiesControllerService" : false,
                  "name" : "isNull",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "c58e5274-42a9-32d2-8d86-69b84922453e",
              "name" : "Error getting type or id",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2424.0,
                "y" : -520.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "invokehttp.status.code" : "400",
                "errorType" : "Unable to get ID or TYPE",
                "errorMessage" : "Type: ${resourceType}, id: ${resourceId}, File: ${filename}",
                "invokehttp.status.message" : "Resource id or type not set"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "invokehttp.status.code" : {
                  "displayName" : "invokehttp.status.code",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.code",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "invokehttp.status.message" : {
                  "displayName" : "invokehttp.status.message",
                  "identifiesControllerService" : false,
                  "name" : "invokehttp.status.message",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "81cc6f63-6cf3-3518-af4e-1a067f4ee624",
              "name" : "Bundle or other resource type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1808.0,
                "y" : -272.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "bundle" : "${resourceType:equals('Bundle')}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "bundle" : {
                  "displayName" : "bundle",
                  "identifiesControllerService" : false,
                  "name" : "bundle",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "failure" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "6982ed6a-120e-3456-b472-b272d36a504c",
              "name" : "Clear Flow File Contents",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3040.0,
                "y" : -640.0
              },
              "properties" : {
                "Regular Expression" : ".",
                "Replacement Value" : "",
                "Evaluation Mode" : "Entire text",
                "Line-by-Line Evaluation Mode" : "All",
                "Character Set" : "UTF-8",
                "Maximum Buffer Size" : "1 MB",
                "Replacement Strategy" : "Always Replace"
              },
              "propertyDescriptors" : {
                "Regular Expression" : {
                  "displayName" : "Search Value",
                  "identifiesControllerService" : false,
                  "name" : "Regular Expression",
                  "sensitive" : false
                },
                "Replacement Value" : {
                  "displayName" : "Replacement Value",
                  "identifiesControllerService" : false,
                  "name" : "Replacement Value",
                  "sensitive" : false
                },
                "Evaluation Mode" : {
                  "displayName" : "Evaluation Mode",
                  "identifiesControllerService" : false,
                  "name" : "Evaluation Mode",
                  "sensitive" : false
                },
                "Line-by-Line Evaluation Mode" : {
                  "displayName" : "Line-by-Line Evaluation Mode",
                  "identifiesControllerService" : false,
                  "name" : "Line-by-Line Evaluation Mode",
                  "sensitive" : false
                },
                "Character Set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "Character Set",
                  "sensitive" : false
                },
                "Maximum Buffer Size" : {
                  "displayName" : "Maximum Buffer Size",
                  "identifiesControllerService" : false,
                  "name" : "Maximum Buffer Size",
                  "sensitive" : false
                },
                "Replacement Strategy" : {
                  "displayName" : "Replacement Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Replacement Strategy",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.ReplaceText",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "unmatched" ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "40b8f19d-b001-3b17-9b9c-dc985d224aab",
              "name" : "Retrieve Resource Id and Type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -696.0
              },
              "properties" : {
                "Destination" : "flowfile-attribute",
                "resourceId" : "$.id",
                "Return Type" : "auto-detect",
                "Null Value Representation" : "empty string",
                "Path Not Found Behavior" : "warn",
                "resourceType" : "$.resourceType"
              },
              "propertyDescriptors" : {
                "Destination" : {
                  "displayName" : "Destination",
                  "identifiesControllerService" : false,
                  "name" : "Destination",
                  "sensitive" : false
                },
                "resourceId" : {
                  "displayName" : "resourceId",
                  "identifiesControllerService" : false,
                  "name" : "resourceId",
                  "sensitive" : false
                },
                "Return Type" : {
                  "displayName" : "Return Type",
                  "identifiesControllerService" : false,
                  "name" : "Return Type",
                  "sensitive" : false
                },
                "Null Value Representation" : {
                  "displayName" : "Null Value Representation",
                  "identifiesControllerService" : false,
                  "name" : "Null Value Representation",
                  "sensitive" : false
                },
                "Path Not Found Behavior" : {
                  "displayName" : "Path Not Found Behavior",
                  "identifiesControllerService" : false,
                  "name" : "Path Not Found Behavior",
                  "sensitive" : false
                },
                "resourceType" : {
                  "displayName" : "resourceType",
                  "identifiesControllerService" : false,
                  "name" : "resourceType",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "903cd9ab-a116-3ab3-8f37-be4acac358d3",
              "name" : "Set Attributes",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1816.0,
                "y" : -904.0
              },
              "properties" : {
                "FHIRResourceTag" : "${startDate}_${batchId}",
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "sourceBatchId" : "${batchId}",
                "integratorId" : "${kafka.topic:getDelimitedField(3,'.')}",
                "log.prefix" : "{ \"trex_hri_pipeline\": { \"kafka.topic\": \"${kafka.topic}\", \"kafka.partition\": \"${kafka.partition}\", \"kafka.offset\": \"${kafka.offset}\", \"kafka.timestamp\": \"${kafka.timestamp}\" }}\n",
                "tenantId" : "${kafka.topic:getDelimitedField(2,'.')}",
                "failureTopic" : "${kafka.topic:substringBeforeLast('.')}.error"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "FHIRResourceTag" : {
                  "displayName" : "FHIRResourceTag",
                  "identifiesControllerService" : false,
                  "name" : "FHIRResourceTag",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "sourceBatchId" : {
                  "displayName" : "sourceBatchId",
                  "identifiesControllerService" : false,
                  "name" : "sourceBatchId",
                  "sensitive" : false
                },
                "integratorId" : {
                  "displayName" : "integratorId",
                  "identifiesControllerService" : false,
                  "name" : "integratorId",
                  "sensitive" : false
                },
                "log.prefix" : {
                  "displayName" : "log.prefix",
                  "identifiesControllerService" : false,
                  "name" : "log.prefix",
                  "sensitive" : false
                },
                "tenantId" : {
                  "displayName" : "tenantId",
                  "identifiesControllerService" : false,
                  "name" : "tenantId",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "failureTopic" : {
                  "displayName" : "failureTopic",
                  "identifiesControllerService" : false,
                  "name" : "failureTopic",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "2fb8374e-c8d0-393f-ab8d-7658580d227a",
              "name" : "FHIR Store Error",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 2600.0,
                "y" : 360.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "FHIR Storage Failed",
                "errorMessage" : "Type: ${resourceType}, File: ${filename}, ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "NONE",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "443ed7c8-0072-3a3e-9845-8f55f307f828",
              "name" : "Log Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 3040.0,
                "y" : -320.0
              },
              "properties" : {
                "log-message" : "${errorMessage}",
                "log-level" : "error",
                "log-prefix" : "${errorType}"
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "d7bf1d1b-1606-3986-b3e6-16fe96e9da2b",
              "identifier" : "859df2ef-9fe1-3f55-8fcb-dbf357a7c5f0",
              "name" : "Route on api success code",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1920.0,
                "y" : 352.0
              },
              "properties" : {
                "api_success" : "${invokehttp.status.code:startsWith('2'):and(\n        ${invokehttp.status.code:length():equals(3)}\n)}",
                "Routing Strategy" : "Route to Property name"
              },
              "propertyDescriptors" : {
                "api_success" : {
                  "displayName" : "api_success",
                  "identifiesControllerService" : false,
                  "name" : "api_success",
                  "sensitive" : false
                },
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          }, {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a619b8ff-87fb-3995-bd28-1762558345fa",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "07fc3d36-f4c3-3ee2-a997-d3d35826a5e6",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a642d545-2c65-3566-a60f-c9f3e2b2cd0c",
                "name" : "Error",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 91.90096124963486,
                "y" : 1913.144754828182
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "ca66a4a4-e7b3-355c-80a6-86a592da323c",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "2db60f90-c3af-317c-b35a-b4ecffe00db8",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "contentEmpty" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "e0eb7690-823b-399d-89ea-fe81306f8e27",
                "name" : "ContentEmpty?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a3cad687-8fa2-3d2b-8267-0aeba9f64ff4",
                "name" : "LogMessage",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "dba6ddf6-966a-310b-9d05-dc29f5924a64",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "4a4a14c5-98a3-352d-bafe-732359203a54",
                "name" : "Kafka Post Failure",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a3cad687-8fa2-3d2b-8267-0aeba9f64ff4",
                "name" : "LogMessage",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "ce1bca8c-0025-3d57-96be-708090df5c0e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "3c26de70-7718-34e2-8442-f928d04ecd7b",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "cc76494e-f410-365d-aef0-0e69eba0badd",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "2bc6f8bd-d1ea-397d-aae4-71dbaabdeff5",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "ae536f34-22af-3e52-bd3a-dabe7a4febe7",
                "name" : "Success",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "03f0f923-f734-3603-bc6a-b8efc3326a96",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "aba99e8c-3574-365c-9bc0-79cc5e02bfe2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a619b8ff-87fb-3995-bd28-1762558345fa",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "ca66a4a4-e7b3-355c-80a6-86a592da323c",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "071274d1-790b-3fc1-8982-110e2aaabd1b",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "314c15df-db66-352d-8d31-42cb095979f3",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "314c15df-db66-352d-8d31-42cb095979f3",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "9a485bfe-484a-39a5-91a7-85d064ee7da2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "03f0f923-f734-3603-bc6a-b8efc3326a96",
                "name" : "Set Batch Id to Outgoing message batch",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "3c26de70-7718-34e2-8442-f928d04ecd7b",
                "name" : "Error Message Build Failure",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "ad4f00f3-f72a-38bd-823b-120c2519d8f9",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a619b8ff-87fb-3995-bd28-1762558345fa",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "ca66a4a4-e7b3-355c-80a6-86a592da323c",
                "name" : "Output",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "6718caeb-0130-3c35-9951-ab2ab89fb03e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a3cad687-8fa2-3d2b-8267-0aeba9f64ff4",
                "name" : "LogMessage",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "4a4a14c5-98a3-352d-bafe-732359203a54",
                "name" : "Kafka Post Failure",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "7d0dfdac-e297-370d-8cf6-9e12794c77aa",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "314c15df-db66-352d-8d31-42cb095979f3",
                "name" : "Publish Error/Warning to Kafka",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "a619b8ff-87fb-3995-bd28-1762558345fa",
                "name" : "Build Error Message",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "fd10a0b8-5837-3851-8a9d-ca3c9d4b4982",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "e0eb7690-823b-399d-89ea-fe81306f8e27",
                "name" : "ContentEmpty?",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "e0eb7690-823b-399d-89ea-fe81306f8e27",
                "name" : "ContentEmpty?",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "26c1b62d-18f7-3bfe-8b9f-e0c5d6ed2f71",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure", "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
                "id" : "cc76494e-f410-365d-aef0-0e69eba0badd",
                "name" : "Strip Information Messages",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "ae536f34-22af-3e52-bd3a-dabe7a4febe7",
              "name" : "Success",
              "position" : {
                "x" : -32.0,
                "y" : 1064.0
              },
              "type" : "INPUT_PORT"
            }, {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "a642d545-2c65-3566-a60f-c9f3e2b2cd0c",
              "name" : "Error",
              "position" : {
                "x" : 600.0,
                "y" : 1072.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "Build and Post Error Messages",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "ca66a4a4-e7b3-355c-80a6-86a592da323c",
              "name" : "Output",
              "position" : {
                "x" : 595.9009612496349,
                "y" : 2353.144754828182
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
            "position" : {
              "x" : 1240.0,
              "y" : 1816.0
            },
            "processGroups" : [ ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "03f0f923-f734-3603-bc6a-b8efc3326a96",
              "name" : "Set Batch Id to Outgoing message batch",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 539.9009612496349,
                "y" : 1697.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "batchId" : "${outgoingBatchId}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                },
                "batchId" : {
                  "displayName" : "batchId",
                  "identifiesControllerService" : false,
                  "name" : "batchId",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "4a4a14c5-98a3-352d-bafe-732359203a54",
              "name" : "Kafka Post Failure",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1011.9009612496349,
                "y" : 2097.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "Kafka Post Failure of Error/Warning",
                "errorMessage" : "Type: ${resourceType}, File: ${filename}, ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "cc76494e-f410-365d-aef0-0e69eba0badd",
              "name" : "Strip Information Messages",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -84.09903875036514,
                "y" : 1233.144754828182
              },
              "properties" : {
                "Script Engine" : "python",
                "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2020\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\nclass PyStreamCallback(StreamCallback):\n    def __init__(self):\n        pass\n    \n    def process(self, inputStream, outputStream):\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n            \n        # Error Details\n        if inputText:\n            operationOutcomeResource = json.loads(inputText, object_pairs_hook=OrderedDict)   \n            clear = False         \n\n            if \"resourceType\" in operationOutcomeResource:\n                if operationOutcomeResource[\"resourceType\"] == \"OperationOutcome\":          \n                    if \"issue\" in operationOutcomeResource:\n                        newIssues = []\n                        for anIssue in operationOutcomeResource[\"issue\"]:\n                            if anIssue[\"severity\"] != \"information\":\n                                newIssues.append(anIssue)\n\n                        if len(newIssues) == 0:\n                            clear = True\n                        else:\n                            operationOutcomeResource[\"issue\"] = newIssues\n                elif operationOutcomeResource[\"resourceType\"] == \"Bundle\":\n                    if \"entry\" in operationOutcomeResource:\n                        newEntries = []\n                        for anEntry in operationOutcomeResource[\"entry\"]:\n                            keepEntry = True\n                            resource = anEntry[\"resource\"]\n                            if resource[\"resourceType\"] == \"OperationOutcome\":\n                                if \"issue\" in resource:\n                                    newIssues = []\n                                    for anIssue in resource[\"issue\"]:\n                                        if anIssue[\"severity\"] != \"information\":\n                                            newIssues.append(anIssue)\n\n                                    if len(newIssues) != 0:\n                                        resource[\"issue\"] = newIssues\n                                    else:\n                                        keepEntry = False\n                            if keepEntry:\n                                newEntries.append(anEntry)\n                                    \n                        if len(newEntries) == 0:\n                            clear = True\n                        else:\n                            operationOutcomeResource[\"entry\"] = newEntries\n\n            if clear:\n                outputStream.write(bytearray(''))\n            else:\n                outputStream.write(bytearray(json.dumps(operationOutcomeResource, indent=4).encode(\"utf-8\")))\n\nflowFile = session.get()\nflowFile = session.write(flowFile, PyStreamCallback())\nflowFile = session.putAttribute(flowFile, \"Content-Length\", str(flowFile.getSize()))\n\nsession.transfer(flowFile, REL_SUCCESS)\nsession.commit()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "e0eb7690-823b-399d-89ea-fe81306f8e27",
              "name" : "ContentEmpty?",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -84.09903875036514,
                "y" : 1473.144754828182
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "contentEmpty" : "${Content-Length:equals(0)}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "contentEmpty" : {
                  "displayName" : "contentEmpty",
                  "identifiesControllerService" : false,
                  "name" : "contentEmpty",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "3c26de70-7718-34e2-8442-f928d04ecd7b",
              "name" : "Error Message Build Failure",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1299.9009612496347,
                "y" : 1481.144754828182
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "errorType" : "Error Message Build Failure",
                "errorMessage" : "Type: ${resourceType}, File: ${filename}, ${invokehttp.status.code}: ${invokehttp.status.message}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "errorType" : {
                  "displayName" : "errorType",
                  "identifiesControllerService" : false,
                  "name" : "errorType",
                  "sensitive" : false
                },
                "errorMessage" : {
                  "displayName" : "errorMessage",
                  "identifiesControllerService" : false,
                  "name" : "errorMessage",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-scripting-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "a619b8ff-87fb-3995-bd28-1762558345fa",
              "name" : "Build Error Message",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 539.9009612496349,
                "y" : 1473.144754828182
              },
              "properties" : {
                "Script Engine" : "python",
                "Script Body" : "'''\n IBM Confidential\n OCO Source Materials\n \n (c) Copyright IBM Corp. 2020\n \n The source code for this program is not published or otherwise divested\n of its trade secrets, irrespective of what has been deposited with the\n U.S. Copyright Office.\n'''\nimport json\nimport java.io\nfrom org.apache.commons.io import IOUtils\nfrom java.nio.charset import StandardCharsets\nfrom org.apache.nifi.processor.io import StreamCallback\nfrom collections import OrderedDict\n\nclass PyStreamCallback(StreamCallback):\n    def __init__(self, flowFile):\n        self.ff = flowFile\n        pass\n    \n    def process(self, inputStream, outputStream):\n        inputText = IOUtils.toString(inputStream, StandardCharsets.UTF_8)\n        outputErrorMessage = OrderedDict()\n        \n        #Source Batch Id \n        sourceBatchId = self.ff.getAttribute(\"batchId\")\n        if sourceBatchId:\n            outputErrorMessage[\"sourceBatchId\"] = sourceBatchId\n        \n        #Notification Batch Id \n        notificationBatchId = self.ff.getAttribute(\"outgoingBatchId\")\n        if notificationBatchId:\n            outputErrorMessage[\"notificationBatchId\"] = notificationBatchId\n        \n        #Batch Name \n        batchName = self.ff.getAttribute(\"batchName\")\n        if batchName:\n            outputErrorMessage[\"name\"] = batchName        \n            \n        #DataType  \n        dataType = self.ff.getAttribute(\"dataType\")\n        if dataType:\n            outputErrorMessage[\"dataType\"] = dataType        \n\n        #FHIR Resource id  \n        fhirResourceId = self.ff.getAttribute(\"resourceId\")\n        if fhirResourceId:\n            outputErrorMessage[\"fhirResourceId\"] = fhirResourceId        \n\n        #FHIR Resource Type  \n        fhirResourceType = self.ff.getAttribute(\"resourceType\")\n        if fhirResourceType:\n            outputErrorMessage[\"fhirResourceType\"] = fhirResourceType        \n\n        #Bundle Resource id  \n        bundleResourceId = self.ff.getAttribute(\"bundleId\")\n        if bundleResourceId:\n            outputErrorMessage[\"bundleResourceId\"] = bundleResourceId        \n\n        #Bundle Entry Index  \n        bundleEntryIndex = self.ff.getAttribute(\"fragment.index\")\n        if bundleEntryIndex:\n            outputErrorMessage[\"bundleEntryIndex\"] = bundleEntryIndex        \n\n        # Adapter name\n        outputErrorMessage[\"adapterName\"] = \"Interop FHIR Adapter\"\n        \n        #FHIR Resource Tag  \n        fhirResourceTag = self.ff.getAttribute(\"FHIRResourceTag\")\n        if fhirResourceTag:\n            outputErrorMessage[\"fhirResourceTag\"] = fhirResourceTag        \n\n        #Status Code\n        statusCode = self.ff.getAttribute(\"invokehttp.status.code\")\n        if statusCode:\n            outputErrorMessage[\"statusCode\"] = statusCode\n            \n        #Status Message\n        statusMessage = self.ff.getAttribute(\"invokehttp.status.message\")\n        if statusMessage:\n            outputErrorMessage[\"statusMessage\"] = statusMessage\n            \n        # Error Details\n        if inputText:\n            operationOutcomeResource = json.loads(inputText, object_pairs_hook=OrderedDict)\n            if \"issue\" in operationOutcomeResource:\n                newIssues = []\n           \n                for anIssue in operationOutcomeResource[\"issue\"]:\n                    if anIssue[\"severity\"] != \"information\":\n                        newIssues.append(anIssue)\n\n                if len(newIssues) != 0:\n                    operationOutcomeResource[\"issue\"] = newIssues\n            \n            outputErrorMessage[\"errorDetails\"] = operationOutcomeResource\n        \n        outputStream.write(bytearray(json.dumps(outputErrorMessage, indent=4).encode(\"utf-8\")))\n\nflowFile = session.get()\nflowFile = session.write(flowFile, PyStreamCallback(flowFile))\n    \nsession.transfer(flowFile, REL_SUCCESS)\nsession.commit()\n"
              },
              "propertyDescriptors" : {
                "Script File" : {
                  "displayName" : "Script File",
                  "identifiesControllerService" : false,
                  "name" : "Script File",
                  "sensitive" : false
                },
                "Script Engine" : {
                  "displayName" : "Script Engine",
                  "identifiesControllerService" : false,
                  "name" : "Script Engine",
                  "sensitive" : false
                },
                "Script Body" : {
                  "displayName" : "Script Body",
                  "identifiesControllerService" : false,
                  "name" : "Script Body",
                  "sensitive" : false
                },
                "Module Directory" : {
                  "displayName" : "Module Directory",
                  "identifiesControllerService" : false,
                  "name" : "Module Directory",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.script.ExecuteScript",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "a3cad687-8fa2-3d2b-8267-0aeba9f64ff4",
              "name" : "LogMessage",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1299.9009612496347,
                "y" : 2313.144754828182
              },
              "properties" : {
                "log-level" : "info"
              },
              "propertyDescriptors" : {
                "log-message" : {
                  "displayName" : "Log message",
                  "identifiesControllerService" : false,
                  "name" : "log-message",
                  "sensitive" : false
                },
                "log-level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "log-level",
                  "sensitive" : false
                },
                "log-prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "log-prefix",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.LogMessage",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-kafka-2-6-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "07c9872c-9796-3b8a-af4b-11e5658733c8",
              "identifier" : "314c15df-db66-352d-8d31-42cb095979f3",
              "name" : "Publish Error/Warning to Kafka",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 536.0,
                "y" : 1912.0
              },
              "properties" : {
                "compression.type" : "none",
                "attribute-name-regex" : "batchId",
                "bootstrap.servers" : "#{kafka.brokers}",
                "sasl.mechanism" : "PLAIN",
                "max.block.ms" : "5 sec",
                "message-header-encoding" : "UTF-8",
                "ack.wait.time" : "5 secs",
                "sasl.username" : "#{kafka.auth.user}",
                "use-transactions" : "true",
                "acks" : "all",
                "security.protocol" : "PLAINTEXT",
                "max.request.size" : "1 MB",
                "sasl.token.auth" : "false",
                "partitioner.class" : "org.apache.kafka.clients.producer.internals.DefaultPartitioner",
                "topic" : "${failureTopic}",
                "sasl.password" : "#{kafka.auth.password}",
                "key-attribute-encoding" : "utf-8"
              },
              "propertyDescriptors" : {
                "compression.type" : {
                  "displayName" : "Compression Type",
                  "identifiesControllerService" : false,
                  "name" : "compression.type",
                  "sensitive" : false
                },
                "attribute-name-regex" : {
                  "displayName" : "Attributes to Send as Headers (Regex)",
                  "identifiesControllerService" : false,
                  "name" : "attribute-name-regex",
                  "sensitive" : false
                },
                "bootstrap.servers" : {
                  "displayName" : "Kafka Brokers",
                  "identifiesControllerService" : false,
                  "name" : "bootstrap.servers",
                  "sensitive" : false
                },
                "sasl.kerberos.principal" : {
                  "displayName" : "Kerberos Principal",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.principal",
                  "sensitive" : false
                },
                "sasl.kerberos.service.name" : {
                  "displayName" : "Kerberos Service Name",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.service.name",
                  "sensitive" : false
                },
                "kerberos-credentials-service" : {
                  "displayName" : "Kerberos Credentials Service",
                  "identifiesControllerService" : true,
                  "name" : "kerberos-credentials-service",
                  "sensitive" : false
                },
                "kafka-key" : {
                  "displayName" : "Kafka Key",
                  "identifiesControllerService" : false,
                  "name" : "kafka-key",
                  "sensitive" : false
                },
                "partition" : {
                  "displayName" : "Partition",
                  "identifiesControllerService" : false,
                  "name" : "partition",
                  "sensitive" : false
                },
                "sasl.mechanism" : {
                  "displayName" : "SASL Mechanism",
                  "identifiesControllerService" : false,
                  "name" : "sasl.mechanism",
                  "sensitive" : false
                },
                "max.block.ms" : {
                  "displayName" : "Max Metadata Wait Time",
                  "identifiesControllerService" : false,
                  "name" : "max.block.ms",
                  "sensitive" : false
                },
                "message-header-encoding" : {
                  "displayName" : "Message Header Encoding",
                  "identifiesControllerService" : false,
                  "name" : "message-header-encoding",
                  "sensitive" : false
                },
                "message-demarcator" : {
                  "displayName" : "Message Demarcator",
                  "identifiesControllerService" : false,
                  "name" : "message-demarcator",
                  "sensitive" : false
                },
                "transactional-id-prefix" : {
                  "displayName" : "Transactional Id Prefix",
                  "identifiesControllerService" : false,
                  "name" : "transactional-id-prefix",
                  "sensitive" : false
                },
                "ack.wait.time" : {
                  "displayName" : "Acknowledgment Wait Time",
                  "identifiesControllerService" : false,
                  "name" : "ack.wait.time",
                  "sensitive" : false
                },
                "sasl.username" : {
                  "displayName" : "Username",
                  "identifiesControllerService" : false,
                  "name" : "sasl.username",
                  "sensitive" : false
                },
                "use-transactions" : {
                  "displayName" : "Use Transactions",
                  "identifiesControllerService" : false,
                  "name" : "use-transactions",
                  "sensitive" : false
                },
                "acks" : {
                  "displayName" : "Delivery Guarantee",
                  "identifiesControllerService" : false,
                  "name" : "acks",
                  "sensitive" : false
                },
                "security.protocol" : {
                  "displayName" : "Security Protocol",
                  "identifiesControllerService" : false,
                  "name" : "security.protocol",
                  "sensitive" : false
                },
                "ssl.context.service" : {
                  "displayName" : "SSL Context Service",
                  "identifiesControllerService" : true,
                  "name" : "ssl.context.service",
                  "sensitive" : false
                },
                "max.request.size" : {
                  "displayName" : "Max Request Size",
                  "identifiesControllerService" : false,
                  "name" : "max.request.size",
                  "sensitive" : false
                },
                "sasl.token.auth" : {
                  "displayName" : "Token Auth",
                  "identifiesControllerService" : false,
                  "name" : "sasl.token.auth",
                  "sensitive" : false
                },
                "partitioner.class" : {
                  "displayName" : "Partitioner class",
                  "identifiesControllerService" : false,
                  "name" : "partitioner.class",
                  "sensitive" : false
                },
                "sasl.kerberos.keytab" : {
                  "displayName" : "Kerberos Keytab",
                  "identifiesControllerService" : false,
                  "name" : "sasl.kerberos.keytab",
                  "sensitive" : false
                },
                "topic" : {
                  "displayName" : "Topic Name",
                  "identifiesControllerService" : false,
                  "name" : "topic",
                  "sensitive" : false
                },
                "sasl.password" : {
                  "displayName" : "Password",
                  "identifiesControllerService" : false,
                  "name" : "sasl.password",
                  "sensitive" : true
                },
                "key-attribute-encoding" : {
                  "displayName" : "Key Attribute Encoding",
                  "identifiesControllerService" : false,
                  "name" : "key-attribute-encoding",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "36278c36-cf3c-3c7f-ad06-e847a7393135",
            "name" : "Set To Failure",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1552.0,
              "y" : 1536.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedSuccessfully" : "false"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "resourceSavedSuccessfully" : {
                "displayName" : "resourceSavedSuccessfully",
                "identifiesControllerService" : false,
                "name" : "resourceSavedSuccessfully",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "1c9d72fb-07e6-3bb0-9bf7-ca6406927ba2",
            "name" : "Set To Success",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1032.0,
              "y" : 1536.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "resourceSavedSuccessfully" : "true"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "resourceSavedSuccessfully" : {
                "displayName" : "resourceSavedSuccessfully",
                "identifiesControllerService" : false,
                "name" : "resourceSavedSuccessfully",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          }, {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-standard-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "da3492c5-9b31-3c99-bb52-c3e24c87ddb3",
            "identifier" : "a8a394cd-d41a-3e68-a937-1673df25d2bf",
            "name" : "Is Successful",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1256.0,
              "y" : 2120.0
            },
            "properties" : {
              "Routing Strategy" : "Route to 'match' if all match",
              "success" : "${resourceSavedSuccessfully:equals(\"true\")}"
            },
            "propertyDescriptors" : {
              "Routing Strategy" : {
                "displayName" : "Routing Strategy",
                "identifiesControllerService" : false,
                "name" : "Routing Strategy",
                "sensitive" : false
              },
              "success" : {
                "displayName" : "success",
                "identifiesControllerService" : false,
                "name" : "success",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "inputPorts" : [ ],
          "labels" : [ ],
          "name" : "Enrich FHIR Data",
          "outputPorts" : [ ],
          "position" : {
            "x" : 680.0,
            "y" : 2152.0
          },
          "processGroups" : [ ],
          "processors" : [ ],
          "remoteProcessGroups" : [ ],
          "variables" : { },
          "versionedFlowCoordinates" : {
            "bucketId" : "c601a7b4-f047-461e-ac13-2f140f8fb9b2",
            "flowId" : "1681a7e6-fdfe-4956-9ce1-6c9302f3b32f",
            "registryUrl" : "http://172.17.0.1:18082",
            "version" : 2
          }
        } ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-kafka-2-6-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "eb1a2fb3-8a8f-3ba4-9e0d-6a430ac00eb2",
          "name" : "Consume From Kafka Topic",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 434.63286583616025,
            "y" : 1632.5007721983177
          },
          "properties" : {
            "header-name-regex" : "batchId*",
            "sasl.username" : "#{kafka.auth.user}",
            "max.poll.records" : "10000",
            "group.id" : "#{kafka.consumer.group}",
            "bootstrap.servers" : "#{kafka.brokers}",
            "topic_type" : "pattern",
            "security.protocol" : "PLAINTEXT",
            "max-uncommit-offset-wait" : "1 secs",
            "sasl.mechanism" : "PLAIN",
            "sasl.token.auth" : "false",
            "honor-transactions" : "true",
            "Communications Timeout" : "60 secs",
            "topic" : "#{kafka.topic.in}",
            "message-header-encoding" : "UTF-8",
            "sasl.password" : "#{kafka.auth.password}",
            "key-attribute-encoding" : "utf-8",
            "auto.offset.reset" : "earliest"
          },
          "propertyDescriptors" : {
            "header-name-regex" : {
              "displayName" : "Headers to Add as Attributes (Regex)",
              "identifiesControllerService" : false,
              "name" : "header-name-regex",
              "sensitive" : false
            },
            "sasl.username" : {
              "displayName" : "Username",
              "identifiesControllerService" : false,
              "name" : "sasl.username",
              "sensitive" : false
            },
            "max.poll.records" : {
              "displayName" : "Max Poll Records",
              "identifiesControllerService" : false,
              "name" : "max.poll.records",
              "sensitive" : false
            },
            "group.id" : {
              "displayName" : "Group ID",
              "identifiesControllerService" : false,
              "name" : "group.id",
              "sensitive" : false
            },
            "bootstrap.servers" : {
              "displayName" : "Kafka Brokers",
              "identifiesControllerService" : false,
              "name" : "bootstrap.servers",
              "sensitive" : false
            },
            "topic_type" : {
              "displayName" : "Topic Name Format",
              "identifiesControllerService" : false,
              "name" : "topic_type",
              "sensitive" : false
            },
            "sasl.kerberos.principal" : {
              "displayName" : "Kerberos Principal",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.principal",
              "sensitive" : false
            },
            "sasl.kerberos.service.name" : {
              "displayName" : "Kerberos Service Name",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.service.name",
              "sensitive" : false
            },
            "security.protocol" : {
              "displayName" : "Security Protocol",
              "identifiesControllerService" : false,
              "name" : "security.protocol",
              "sensitive" : false
            },
            "kerberos-credentials-service" : {
              "displayName" : "Kerberos Credentials Service",
              "identifiesControllerService" : true,
              "name" : "kerberos-credentials-service",
              "sensitive" : false
            },
            "ssl.context.service" : {
              "displayName" : "SSL Context Service",
              "identifiesControllerService" : true,
              "name" : "ssl.context.service",
              "sensitive" : false
            },
            "max-uncommit-offset-wait" : {
              "displayName" : "Max Uncommitted Time",
              "identifiesControllerService" : false,
              "name" : "max-uncommit-offset-wait",
              "sensitive" : false
            },
            "sasl.mechanism" : {
              "displayName" : "SASL Mechanism",
              "identifiesControllerService" : false,
              "name" : "sasl.mechanism",
              "sensitive" : false
            },
            "sasl.token.auth" : {
              "displayName" : "Token Auth",
              "identifiesControllerService" : false,
              "name" : "sasl.token.auth",
              "sensitive" : false
            },
            "sasl.kerberos.keytab" : {
              "displayName" : "Kerberos Keytab",
              "identifiesControllerService" : false,
              "name" : "sasl.kerberos.keytab",
              "sensitive" : false
            },
            "honor-transactions" : {
              "displayName" : "Honor Transactions",
              "identifiesControllerService" : false,
              "name" : "honor-transactions",
              "sensitive" : false
            },
            "Communications Timeout" : {
              "displayName" : "Communications Timeout",
              "identifiesControllerService" : false,
              "name" : "Communications Timeout",
              "sensitive" : false
            },
            "topic" : {
              "displayName" : "Topic Name(s)",
              "identifiesControllerService" : false,
              "name" : "topic",
              "sensitive" : false
            },
            "message-header-encoding" : {
              "displayName" : "Message Header Encoding",
              "identifiesControllerService" : false,
              "name" : "message-header-encoding",
              "sensitive" : false
            },
            "sasl.password" : {
              "displayName" : "Password",
              "identifiesControllerService" : false,
              "name" : "sasl.password",
              "sensitive" : true
            },
            "message-demarcator" : {
              "displayName" : "Message Demarcator",
              "identifiesControllerService" : false,
              "name" : "message-demarcator",
              "sensitive" : false
            },
            "key-attribute-encoding" : {
              "displayName" : "Key Attribute Encoding",
              "identifiesControllerService" : false,
              "name" : "key-attribute-encoding",
              "sensitive" : false
            },
            "auto.offset.reset" : {
              "displayName" : "Offset Reset",
              "identifiesControllerService" : false,
              "name" : "auto.offset.reset",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-update-attribute-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "a3711f4e-b8df-36fd-8c8b-0d2b271074db",
          "identifier" : "82b11cd4-a584-3e81-9993-b1767d419240",
          "name" : "Add Common Attributes",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 698.6328658361602,
            "y" : 1888.5007721983177
          },
          "properties" : {
            "batchName" : "trex-2019-10-07",
            "Store State" : "Do not store state",
            "canonical-value-lookup-cache-size" : "100",
            "dataType" : "claims",
            "outgoingBatchId" : "#{outgoingBatchId}",
            "startDate" : "2019-10-30T12:34:00Z"
          },
          "propertyDescriptors" : {
            "batchName" : {
              "displayName" : "batchName",
              "identifiesControllerService" : false,
              "name" : "batchName",
              "sensitive" : false
            },
            "Delete Attributes Expression" : {
              "displayName" : "Delete Attributes Expression",
              "identifiesControllerService" : false,
              "name" : "Delete Attributes Expression",
              "sensitive" : false
            },
            "Store State" : {
              "displayName" : "Store State",
              "identifiesControllerService" : false,
              "name" : "Store State",
              "sensitive" : false
            },
            "canonical-value-lookup-cache-size" : {
              "displayName" : "Cache Value Lookup Cache Size",
              "identifiesControllerService" : false,
              "name" : "canonical-value-lookup-cache-size",
              "sensitive" : false
            },
            "dataType" : {
              "displayName" : "dataType",
              "identifiesControllerService" : false,
              "name" : "dataType",
              "sensitive" : false
            },
            "Stateful Variables Initial Value" : {
              "displayName" : "Stateful Variables Initial Value",
              "identifiesControllerService" : false,
              "name" : "Stateful Variables Initial Value",
              "sensitive" : false
            },
            "outgoingBatchId" : {
              "displayName" : "outgoingBatchId",
              "identifiesControllerService" : false,
              "name" : "outgoingBatchId",
              "sensitive" : false
            },
            "startDate" : {
              "displayName" : "startDate",
              "identifiesControllerService" : false,
              "name" : "startDate",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "variables" : { }
      },
      "flowEncodingVersion" : "1.0",
      "parameterContexts" : {
        "Clinical Ingestion Kafka Parameter Context" : {
          "name" : "Clinical Ingestion Kafka Parameter Context",
          "parameters" : [ {
            "description" : "A unique group identifier used by Kafka to assure that messages consumed from topic belong to this process.",
            "name" : "kafka.consumer.group",
            "sensitive" : false,
            "value" : "ClinicalIngestionGroup"
          }, {
            "description" : "The URL locations of kafka brokers to be watched for incoming messages.  Do not include protocol (https://) in the list.",
            "name" : "kafka.brokers",
            "sensitive" : false,
            "value" : "tcp-client:80"
          }, {
            "description" : "The username used to authenticate with kafka.  Usually this is set to \"token\" and an apikey is used for the password.",
            "name" : "kafka.auth.user",
            "sensitive" : false,
            "value" : "token"
          }, {
            "description" : "The password used by kafka for authentication. This may contain an apikey instead of password, in which case kafka.auth.user should be set to \"topic\"",
            "name" : "kafka.auth.password",
            "sensitive" : true
          }, {
            "description" : "The name of the kafka topic this flow will watch for new data to consume.",
            "name" : "kafka.topic.in",
            "sensitive" : false,
            "value" : "clinical.ingestion.topic"
          }, {
            "description" : "",
            "name" : "outgoingBatchId",
            "sensitive" : false,
            "value" : "Batch###"
          }, {
            "description" : "",
            "name" : "Password",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "SASL Mechanism",
            "sensitive" : false,
            "value" : ""
          } ]
        },
        "Clinical Ingestion FHIR Parameter Context" : {
          "name" : "Clinical Ingestion FHIR Parameter Context",
          "parameters" : [ {
            "description" : "The port to listen for FHIR Resources posted to this nifi instance to consume by this pipeline",
            "name" : "FHIR_LISTEN_PORT",
            "sensitive" : false,
            "value" : "7001"
          }, {
            "description" : "The password for the username specified by FHIR_User. This will be used to access the specified FHIR server.",
            "name" : "FHIR_UserPwd",
            "sensitive" : true
          }, {
            "description" : "This username for the FHIR server used for this flow.",
            "name" : "FHIR_User",
            "sensitive" : false,
            "value" : "fhiruser"
          }, {
            "description" : "The URL for the FHIR server used by this flow.",
            "name" : "FHIR_URL",
            "sensitive" : false,
            "value" : "http://fhir-server/fhir-server/api/v4/"
          } ]
        }
      }
    }
  }
}