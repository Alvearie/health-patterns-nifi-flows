{
  "header" : {
    "dataModelVersion" : "3"
  },
  "content" : {
    "flowSnapshot" : {
      "externalControllerServices" : { },
      "flowContents" : {
        "comments" : "",
        "componentType" : "PROCESS_GROUP",
        "connections" : [ {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "6c9d141e-6742-33b2-a97a-895439a69c86",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "94128dc9-5c35-3120-abca-a2db06bc100c",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "999b58a8-6ff0-3451-a03d-36fc062cdb87",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "7dbe18ae-c663-310a-9045-ebe598d59c2b",
            "name" : "Enriched FHIR resource",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "b657c52d-cef2-3cd7-89c5-575e3a38f2b7",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "unmatched" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "6c9d141e-6742-33b2-a97a-895439a69c86",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "id" : "5006a911-4828-31a4-8076-dd2276fb85fd",
            "name" : "FHIR Bundle",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "0b6318f8-8070-3804-aa17-c98a5a76a912",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "DeidentifyData" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "999b58a8-6ff0-3451-a03d-36fc062cdb87",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "7dbe18ae-c663-310a-9045-ebe598d59c2b",
            "name" : "Enriched FHIR resource",
            "type" : "OUTPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "31db93e3-69eb-3782-b6f3-e122776e075e",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "id" : "5f5fb25c-2b0c-3f89-a533-b850a705dcb2",
            "name" : "Output",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "id" : "463ff63f-290d-373f-a4b0-a3e75da08ecb",
            "name" : "Input",
            "type" : "INPUT_PORT"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "c083b15c-6e14-33d2-a9d8-bb5d73d9c55d",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "ResolveTerminology" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "6c9d141e-6742-33b2-a97a-895439a69c86",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "999b58a8-6ff0-3451-a03d-36fc062cdb87",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "2a0bf3a7-7863-3de3-b4ae-b77231f4ecbd",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "3562985a-8c51-3ccb-b947-b7891ae4db31",
            "name" : "FHIR resource",
            "type" : "INPUT_PORT"
          },
          "zIndex" : 0
        }, {
          "backPressureDataSizeThreshold" : "1 GB",
          "backPressureObjectThreshold" : 10000,
          "bends" : [ ],
          "componentType" : "CONNECTION",
          "destination" : {
            "comments" : "",
            "groupId" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
            "id" : "6c9d141e-6742-33b2-a97a-895439a69c86",
            "name" : "RouteOnAttribute",
            "type" : "PROCESSOR"
          },
          "flowFileExpiration" : "0 sec",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "8dd3bf5b-ad7e-3d72-a4bb-fbe78e17bb86",
          "labelIndex" : 1,
          "loadBalanceCompression" : "DO_NOT_COMPRESS",
          "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
          "name" : "",
          "partitioningAttribute" : "",
          "prioritizers" : [ ],
          "selectedRelationships" : [ "" ],
          "source" : {
            "comments" : "",
            "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "id" : "9f47bbf9-2516-3026-8aeb-4ee4e047a085",
            "name" : "FHIR Resource",
            "type" : "OUTPUT_PORT"
          },
          "zIndex" : 0
        } ],
        "controllerServices" : [ ],
        "flowFileConcurrency" : "UNBOUNDED",
        "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
        "funnels" : [ ],
        "identifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
        "inputPorts" : [ {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "INPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "3562985a-8c51-3ccb-b947-b7891ae4db31",
          "name" : "FHIR resource",
          "position" : {
            "x" : 352.0,
            "y" : 632.0
          },
          "type" : "INPUT_PORT"
        } ],
        "labels" : [ {
          "componentType" : "LABEL",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "height" : 208.0,
          "identifier" : "37b3da4c-8254-3d01-9dd6-e430e4d12ad5",
          "label" : "Run through Terminology Service",
          "position" : {
            "x" : 272.0,
            "y" : 1040.0
          },
          "style" : {
            "background-color" : "#eb8931",
            "font-size" : "18px"
          },
          "width" : 1040.0
        }, {
          "componentType" : "LABEL",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "height" : 208.0,
          "identifier" : "1f5bb8fb-c40d-303f-ba14-c3d906e429cc",
          "label" : "De-identify data",
          "position" : {
            "x" : 272.0,
            "y" : 752.0
          },
          "style" : {
            "background-color" : "#be2633",
            "font-size" : "18px"
          },
          "width" : 1040.0
        } ],
        "name" : "Enrich FHIR Data",
        "outputPorts" : [ {
          "allowRemoteAccess" : false,
          "comments" : "",
          "componentType" : "OUTPUT_PORT",
          "concurrentlySchedulableTaskCount" : 1,
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "7dbe18ae-c663-310a-9045-ebe598d59c2b",
          "name" : "Enriched FHIR resource",
          "position" : {
            "x" : 656.0,
            "y" : 1384.0
          },
          "type" : "OUTPUT_PORT"
        } ],
        "position" : {
          "x" : 680.0,
          "y" : 2152.0
        },
        "processGroups" : [ {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
              "id" : "5f5fb25c-2b0c-3f89-a533-b850a705dcb2",
              "name" : "Output",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "66e1a03a-355e-3d9a-b82b-3f0f87622e5f",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
              "id" : "6af877cd-42ea-31d7-a8e5-8a47b7bb83ce",
              "name" : "UpdateAttribute",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
              "id" : "6af877cd-42ea-31d7-a8e5-8a47b7bb83ce",
              "name" : "UpdateAttribute",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "f5da9b63-6745-3727-bf74-963a8ba78540",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "id" : "90bb3556-577c-3694-81fa-ef1edb133927",
              "name" : "translated-fhir-bundles",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "id" : "3c794e57-8972-306d-9b0f-bb3b60398fb9",
              "name" : "fhir-bundles",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "e1f2454e-fc55-3131-b181-a292ef5b9d31",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
              "id" : "463ff63f-290d-373f-a4b0-a3e75da08ecb",
              "name" : "Input",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "463ff63f-290d-373f-a4b0-a3e75da08ecb",
            "name" : "Input",
            "position" : {
              "x" : 224.0,
              "y" : 520.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "Resolve Terminology",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "5f5fb25c-2b0c-3f89-a533-b850a705dcb2",
            "name" : "Output",
            "position" : {
              "x" : 2152.0,
              "y" : 520.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "Clinical Ingestion Kafka Parameter Context",
          "position" : {
            "x" : 912.0,
            "y" : 1056.0
          },
          "processGroups" : [ {
            "comments" : "(C) Copyright IBM Corp. 2020, 2020\nSPDX-License-Identifier: Apache-2.0",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "id" : "ec087fd7-8f2c-3898-b433-b663f0ce97f3",
                "name" : "fhir-bundles",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "b3eb1630-4d23-3c53-bdf5-b7fb311f1c61",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "This is a test processor that will read FHIR bundles (such as those produced by synthea) from a directory located at NIFI_HOME/temp.\n\nThis processor is meant to be used for testing only.",
                "groupId" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
                "id" : "5daf5a86-b357-3090-b741-a1441ede8108",
                "name" : "Test Only: Read Mock Bundles",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "id" : "ec087fd7-8f2c-3898-b433-b663f0ce97f3",
                "name" : "fhir-bundles",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "a6f954dd-20e4-31fd-9e3b-c9c192490dd2",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
                "id" : "3c794e57-8972-306d-9b0f-bb3b60398fb9",
                "name" : "fhir-bundles",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
                "id" : "90bb3556-577c-3694-81fa-ef1edb133927",
                "name" : "translated-fhir-bundles",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "6021b390-3394-3622-b981-2ca5d242eede",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "id" : "a94885a1-98fb-3317-96c0-b9c0c1a958a4",
                "name" : "translated-fhir-bundles",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ {
              "bundle" : {
                "artifact" : "nifi-distributed-cache-services-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "CONTROLLER_SERVICE",
              "controllerServiceApis" : [ {
                "bundle" : {
                  "artifact" : "nifi-standard-services-api-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
              }, {
                "bundle" : {
                  "artifact" : "nifi-standard-services-api-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
              } ],
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "22666e61-4eed-3430-9789-3e9095c20016",
              "name" : "Terminology Mapping Cache Client",
              "properties" : {
                "Server Port" : "4557",
                "Server Hostname" : "localhost",
                "Communications Timeout" : "30 secs"
              },
              "propertyDescriptors" : {
                "SSL Context Service" : {
                  "displayName" : "SSL Context Service",
                  "identifiesControllerService" : true,
                  "name" : "SSL Context Service",
                  "sensitive" : false
                },
                "Server Port" : {
                  "displayName" : "Server Port",
                  "identifiesControllerService" : false,
                  "name" : "Server Port",
                  "sensitive" : false
                },
                "Server Hostname" : {
                  "displayName" : "Server Hostname",
                  "identifiesControllerService" : false,
                  "name" : "Server Hostname",
                  "sensitive" : false
                },
                "Communications Timeout" : {
                  "displayName" : "Communications Timeout",
                  "identifiesControllerService" : false,
                  "name" : "Communications Timeout",
                  "sensitive" : false
                }
              },
              "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
            } ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "3c794e57-8972-306d-9b0f-bb3b60398fb9",
              "name" : "fhir-bundles",
              "position" : {
                "x" : -352.0,
                "y" : -200.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ ],
            "name" : "FHIR Terminology Mapping",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "90bb3556-577c-3694-81fa-ef1edb133927",
              "name" : "translated-fhir-bundles",
              "position" : {
                "x" : 576.0,
                "y" : -192.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
            "position" : {
              "x" : 824.0,
              "y" : 472.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "7d3b9c1f-90b9-3265-8d25-8e82ce4059e9",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "a4c7a7e8-1e73-3b57-bae0-d859dbac4dc8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "c197665f-2af1-3d14-8d4b-8e733046a939",
                  "name" : "Extract Resource Exists Attribute",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 1332.3072509765625,
                  "y" : 610.3463134765625
                }, {
                  "x" : 1332.3072509765625,
                  "y" : 660.3463134765625
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                  "name" : "Create Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "a6bba928-d495-3a09-8ac8-59f0b3089108",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                  "name" : "Create Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "7d3b9c1f-90b9-3265-8d25-8e82ce4059e9",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "95a940a9-5b7d-3062-929b-2adb1323fbf3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "No Retry", "Failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                  "name" : "Find Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                  "name" : "Create Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "1ccd0cfb-098e-308c-8d20-6a4258a01894",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8b377752-a323-37f1-9c29-acfde7e15a83",
                  "name" : "Adjust MIME Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "a672a44a-232c-3ffa-96d4-2b6208b3c2f2",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "704ee0a4-3389-34ae-bba6-c54961f788ca",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "No Retry", "Failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                  "name" : "Create Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "a672a44a-232c-3ffa-96d4-2b6208b3c2f2",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "66272e5d-d29a-393b-8924-6c40d2c5383d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "3fbbb66c-cf05-3fb7-b313-ae8d474554b9",
                  "name" : "Prepare Create Request Body",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "7d3b9c1f-90b9-3265-8d25-8e82ce4059e9",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "b62d323a-2dd2-3ed7-8e98-e43665d0c66a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "b6e8bee3-965f-3448-aa95-b7d39786f004",
                  "name" : "Extract Resource Properties",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8b377752-a323-37f1-9c29-acfde7e15a83",
                  "name" : "Adjust MIME Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "bf4dabd0-46cd-3c12-b656-0209d1776d5e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "3fbbb66c-cf05-3fb7-b313-ae8d474554b9",
                  "name" : "Prepare Create Request Body",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "38c8b1f5-a2a7-36de-9b33-917a37c3dead",
                  "name" : "Log Resource Created",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "4f54819d-0f4a-30b0-a2e2-3b92c99f26aa",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Response" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                  "name" : "Create Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "618bb3b5-2f52-3910-ab47-9ce31cacdb3e",
                  "name" : "Extract Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "3b1ad11c-d8e8-37e6-858a-0c2af5e745a6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "b6e8bee3-965f-3448-aa95-b7d39786f004",
                  "name" : "Extract Resource Properties",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "3fbbb66c-cf05-3fb7-b313-ae8d474554b9",
                  "name" : "Prepare Create Request Body",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "3621e3a7-9c8f-3ceb-9159-12894b9c1ec5",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "resourceDoesNotExist" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "126e8d04-5f80-3f0e-b82a-aa3b8f8f3a4f",
                  "name" : "If (Resource exists) then/else",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "126e8d04-5f80-3f0e-b82a-aa3b8f8f3a4f",
                  "name" : "If (Resource exists) then/else",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "e0df2129-a738-3396-9532-82f2b42d9e89",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "c197665f-2af1-3d14-8d4b-8e733046a939",
                  "name" : "Extract Resource Exists Attribute",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "b6e8bee3-965f-3448-aa95-b7d39786f004",
                  "name" : "Extract Resource Properties",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "01a310e8-6c7a-328a-a726-2ac88da0ff05",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "id" : "fb3fc92f-8f6d-3993-92f7-3f8ffe291f46",
                  "name" : "resources",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                  "name" : "Find Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "3d576878-40f3-3299-b5b2-40f6b48d4d44",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "618bb3b5-2f52-3910-ab47-9ce31cacdb3e",
                  "name" : "Extract Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "76704b91-b397-3c73-9cb0-822f5659a23d",
                  "name" : "Log Resource Exists",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "7dee788a-01ad-3447-b742-19e786cf1c84",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "resourceExists" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "126e8d04-5f80-3f0e-b82a-aa3b8f8f3a4f",
                  "name" : "If (Resource exists) then/else",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 765.0,
                  "y" : 239.0
                }, {
                  "x" : 765.0,
                  "y" : 289.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                  "name" : "Find Resource",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "5b3e5ae9-50c7-349f-a151-7cf3965d71dc",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Retry" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                  "name" : "Find Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "7d3b9c1f-90b9-3265-8d25-8e82ce4059e9",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "ebd49f39-7f53-3302-bcb2-8c3e8899b58b",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "618bb3b5-2f52-3910-ab47-9ce31cacdb3e",
                  "name" : "Extract Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "c197665f-2af1-3d14-8d4b-8e733046a939",
                  "name" : "Extract Resource Exists Attribute",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "58a36986-43b7-3158-8173-91cd6826f5cb",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "Response" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                  "id" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                  "name" : "Find Resource",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
              "inputPorts" : [ ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "height" : 144.0,
                "identifier" : "f1aa712a-2a95-313f-a052-172b9407d3c7",
                "label" : "The purpose of this flow is to install the necessary ValueSets, and \nConceptMaps in the FHIR server that will be used for Terminology Matching.\n\nInstructions:\n- Go into the Get Resources Process Group \n- Copy/paste any of the existing GenerateFlowFile Processors in there\n- Set the text to the FHIR resource that needs to be installed",
                "position" : {
                  "x" : 728.0,
                  "y" : -88.0
                },
                "style" : {
                  "font-size" : "14px"
                },
                "width" : 544.0
              } ],
              "name" : "Install Prerequisite Resources",
              "outputPorts" : [ ],
              "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
              "position" : {
                "x" : 16.0,
                "y" : -504.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "fb3fc92f-8f6d-3993-92f7-3f8ffe291f46",
                    "name" : "resources",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "dc802c6d-f051-37be-8a7f-052e4093ab42",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "ed09e6ab-747f-3ae4-892a-9c5e51362eea",
                    "name" : "ValueSet (CDM sex-assigned-at-birth)",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "fb3fc92f-8f6d-3993-92f7-3f8ffe291f46",
                    "name" : "resources",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "f276e11d-94e1-3fb7-94f6-d2a7b1cac943",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "a81e09c9-8dd2-333d-a2e7-c5914396d57f",
                    "name" : "ValueSet (US-core birthsex)",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "fb3fc92f-8f6d-3993-92f7-3f8ffe291f46",
                    "name" : "resources",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "9ebd9a71-590c-3fdb-bb5b-d1f18afcc53c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "9dd40e87-f65f-3685-9543-79772945375a",
                    "id" : "4142a95f-0f6b-3501-b4e8-ffca4985d4e8",
                    "name" : "ConceptMap (US-Core sex to CDM)",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                "inputPorts" : [ ],
                "labels" : [ ],
                "name" : "Get Resources",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "fb3fc92f-8f6d-3993-92f7-3f8ffe291f46",
                  "name" : "resources",
                  "position" : {
                    "x" : 368.0,
                    "y" : 48.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : -320.0,
                  "y" : -144.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "ed09e6ab-747f-3ae4-892a-9c5e51362eea",
                  "name" : "ValueSet (CDM sex-assigned-at-birth)",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -72.0,
                    "y" : -408.0
                  },
                  "properties" : {
                    "character-set" : "UTF-8",
                    "File Size" : "0B",
                    "mime-type" : "application/json",
                    "generate-ff-custom-text" : "{\n  \"resourceType\": \"ValueSet\",\n  \"id\": \"sex-assigned-at-birth-vs\",\n  \"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n  \"version\": \"0.1.0\",\n  \"name\": \"SexAssignedAtBirthValueSet\",\n  \"title\": \"Sex Assigned At Birth Value Set\",\n  \"status\": \"active\",\n  \"date\": \"2020-10-21T18:53:02+00:00\",\n  \"contact\": [\n    {\n      \"name\": \"Kim Kenna\",\n      \"telecom\": [\n        {\n          \"system\": \"email\",\n          \"value\": \"sloand@us.ibm.com\"\n        }\n      ]\n    },\n    {\n      \"name\": \"Jill Doty\",\n      \"telecom\": [\n        {\n          \"system\": \"email\",\n          \"value\": \"jdoty@us.ibm.com\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"Sex assigned at birth based on observation by a physician.  Also called phenotype, or how the genes were expressed, based on the observation of the doctor. This assignment may not match the gender Identity of the person, which will not be known until the newborn is older.\",\n  \"compose\": {\n    \"include\": [\n      {\n        \"system\": \"http://ibm.com/fhir/cdm/CodeSystem/sex-assigned-at-birth-code-system\"\n      }\n    ]\n  }\n}",
                    "Batch Size" : "1",
                    "Unique FlowFiles" : "false",
                    "Data Format" : "Text"
                  },
                  "propertyDescriptors" : {
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "File Size" : {
                      "displayName" : "File Size",
                      "identifiesControllerService" : false,
                      "name" : "File Size",
                      "sensitive" : false
                    },
                    "mime-type" : {
                      "displayName" : "Mime Type",
                      "identifiesControllerService" : false,
                      "name" : "mime-type",
                      "sensitive" : false
                    },
                    "generate-ff-custom-text" : {
                      "displayName" : "Custom Text",
                      "identifiesControllerService" : false,
                      "name" : "generate-ff-custom-text",
                      "sensitive" : false
                    },
                    "Batch Size" : {
                      "displayName" : "Batch Size",
                      "identifiesControllerService" : false,
                      "name" : "Batch Size",
                      "sensitive" : false
                    },
                    "Unique FlowFiles" : {
                      "displayName" : "Unique FlowFiles",
                      "identifiesControllerService" : false,
                      "name" : "Unique FlowFiles",
                      "sensitive" : false
                    },
                    "Data Format" : {
                      "displayName" : "Data Format",
                      "identifiesControllerService" : false,
                      "name" : "Data Format",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "3600 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "a81e09c9-8dd2-333d-a2e7-c5914396d57f",
                  "name" : "ValueSet (US-core birthsex)",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 712.0,
                    "y" : -408.0
                  },
                  "properties" : {
                    "character-set" : "UTF-8",
                    "File Size" : "0B",
                    "mime-type" : "application/json",
                    "generate-ff-custom-text" : "{\n  \"resourceType\": \"ValueSet\",\n  \"id\": \"birthsex\",\n  \"url\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n  \"identifier\": [\n    {\n      \"system\": \"urn:ietf:rfc:3986\",\n      \"value\": \"urn:oid:2.16.840.1.113762.1.4.1021.24\"\n    }\n  ],\n  \"version\": \"3.1.0\",\n  \"name\": \"BirthSex\",\n  \"title\": \"Birth Sex\",\n  \"status\": \"active\",\n  \"date\": \"2019-05-21T00:00:00+10:00\",\n  \"publisher\": \"HL7 US Realm Steering Committee\",\n  \"contact\": [\n    {\n      \"telecom\": [\n        {\n          \"system\": \"other\",\n          \"value\": \"http://hl7.org/fhir\"\n        }\n      ]\n    }\n  ],\n  \"description\": \"Codes for assigning sex at birth as specified by the [Office of the National Coordinator for Health IT (ONC)](https://www.healthit.gov/newsroom/about-onc)\",\n  \"jurisdiction\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"urn:iso:std:iso:3166\",\n          \"code\": \"US\",\n          \"display\": \"United States of America\"\n        }\n      ]\n    }\n  ],\n  \"compose\": {\n    \"include\": [\n      {\n        \"system\": \"http://terminology.hl7.org/CodeSystem/v3-AdministrativeGender\",\n        \"concept\": [\n          {\n            \"code\": \"F\",\n            \"display\": \"Female\"\n          },\n          {\n            \"code\": \"M\",\n            \"display\": \"Male\"\n          }\n        ]\n      },\n      {\n        \"system\": \"http://terminology.hl7.org/CodeSystem/v3-NullFlavor\",\n        \"concept\": [\n          {\n            \"code\": \"UNK\",\n            \"display\": \"Unknown\"\n          }\n        ]\n      }\n    ]\n  }\n}",
                    "Batch Size" : "1",
                    "Unique FlowFiles" : "false",
                    "Data Format" : "Text"
                  },
                  "propertyDescriptors" : {
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "File Size" : {
                      "displayName" : "File Size",
                      "identifiesControllerService" : false,
                      "name" : "File Size",
                      "sensitive" : false
                    },
                    "mime-type" : {
                      "displayName" : "Mime Type",
                      "identifiesControllerService" : false,
                      "name" : "mime-type",
                      "sensitive" : false
                    },
                    "generate-ff-custom-text" : {
                      "displayName" : "Custom Text",
                      "identifiesControllerService" : false,
                      "name" : "generate-ff-custom-text",
                      "sensitive" : false
                    },
                    "Batch Size" : {
                      "displayName" : "Batch Size",
                      "identifiesControllerService" : false,
                      "name" : "Batch Size",
                      "sensitive" : false
                    },
                    "Unique FlowFiles" : {
                      "displayName" : "Unique FlowFiles",
                      "identifiesControllerService" : false,
                      "name" : "Unique FlowFiles",
                      "sensitive" : false
                    },
                    "Data Format" : {
                      "displayName" : "Data Format",
                      "identifiesControllerService" : false,
                      "name" : "Data Format",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "3600 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "9dd40e87-f65f-3685-9543-79772945375a",
                  "identifier" : "4142a95f-0f6b-3501-b4e8-ffca4985d4e8",
                  "name" : "ConceptMap (US-Core sex to CDM)",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 320.0,
                    "y" : -408.0
                  },
                  "properties" : {
                    "character-set" : "UTF-8",
                    "File Size" : "0B",
                    "mime-type" : "application/json",
                    "generate-ff-custom-text" : "{\n\t\"resourceType\": \"ConceptMap\",\n\t\"id\": \"100\",\n\t\"url\": \"http://ibm.com/fhir/integration-squad/ConceptMap/100\",\n\t\"identifier\": {\n\t\t\"system\": \"urn:ietf:rfc:3986\",\n\t\t\"value\": \"urn:uuid:53cd62ee-033e-414c-9f58-3ca97b5ffc3b\"\n\t},\n\t\"version\": \"4.0.1\",\n\t\"name\": \"FHIR-v4-To-IBM-CDM-Birth-Sex\",\n\t\"title\": \"FHIR/v4 to IBM CDM Birth Sex Mapping\",\n\t\"status\": \"draft\",\n\t\"experimental\": true,\n\t\"date\": \"2020-10-29\",\n\t\"publisher\": \"IBM Watson Health\",\n\t\"contact\": [\n\t\t{\n\t\t\t\"name\": \"Integration Squad\",\n\t\t\t\"telecom\": [\n\t\t\t\t{\n\t\t\t\t\t\"system\": \"url\",\n\t\t\t\t\t\"value\": \"http://ibm.com\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"description\": \"A mapping between the FHIR v4 birhtsex and IBM CDM's sex-assigned-at-birth-vs\",\n\t\"useContext\": [\n\t\t{\n\t\t\t\"code\": {\n\t\t\t\t\"system\": \"http://terminology.hl7.org/CodeSystem/usage-context-type\",\n\t\t\t\t\"code\": \"venue\"\n\t\t\t},\n\t\t\t\"valueCodeableConcept\": {\n\t\t\t\t\"text\": \"for CCDA Usage\"\n\t\t\t}\n\t\t}\n\t],\n\t\"jurisdiction\": [\n\t\t{\n\t\t\t\"coding\": [\n\t\t\t\t{\n\t\t\t\t\t\"system\": \"urn:iso:std:iso:3166\",\n\t\t\t\t\t\"code\": \"US\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"purpose\": \"To automatically map incoming generic FHIR resources to CDM\",\n\t\"copyright\": \"Creative Commons 0\",\n\t\"sourceUri\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n\t\"targetUri\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\"group\": [\n\t\t{\n\t\t\t\"source\": \"http://hl7.org/fhir/us/core/ValueSet/birthsex\",\n\t\t\t\"target\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\"element\": [\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"F\",\n\t\t\t\t\t\"display\": \"Female\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\t\"display\": \"Female\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"M\",\n\t\t\t\t\t\"display\": \"Male\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"male\",\n\t\t\t\t\t\t\t\"display\": \"Male\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"code\": \"UNK\",\n\t\t\t\t\t\"display\": \"Unknown\",\n\t\t\t\t\t\"target\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"code\": \"unknown\",\n\t\t\t\t\t\t\t\"display\": \"Unknown\",\n\t\t\t\t\t\t\t\"equivalence\": \"equivalent\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                    "Batch Size" : "1",
                    "Unique FlowFiles" : "false",
                    "Data Format" : "Text"
                  },
                  "propertyDescriptors" : {
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "File Size" : {
                      "displayName" : "File Size",
                      "identifiesControllerService" : false,
                      "name" : "File Size",
                      "sensitive" : false
                    },
                    "mime-type" : {
                      "displayName" : "Mime Type",
                      "identifiesControllerService" : false,
                      "name" : "mime-type",
                      "sensitive" : false
                    },
                    "generate-ff-custom-text" : {
                      "displayName" : "Custom Text",
                      "identifiesControllerService" : false,
                      "name" : "generate-ff-custom-text",
                      "sensitive" : false
                    },
                    "Batch Size" : {
                      "displayName" : "Batch Size",
                      "identifiesControllerService" : false,
                      "name" : "Batch Size",
                      "sensitive" : false
                    },
                    "Unique FlowFiles" : {
                      "displayName" : "Unique FlowFiles",
                      "identifiesControllerService" : false,
                      "name" : "Unique FlowFiles",
                      "sensitive" : false
                    },
                    "Data Format" : {
                      "displayName" : "Data Format",
                      "identifiesControllerService" : false,
                      "name" : "Data Format",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "3600 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.GenerateFlowFile",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "ERROR",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "a672a44a-232c-3ffa-96d4-2b6208b3c2f2",
                "name" : "Error Log",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1440.0,
                  "y" : 200.0
                },
                "properties" : {
                  "character-set" : "windows-1252",
                  "Log Level" : "info",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "false"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#f53d00"
                },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "8b377752-a323-37f1-9c29-acfde7e15a83",
                "name" : "Adjust MIME Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 848.0,
                  "y" : 392.0
                },
                "properties" : {
                  "filename" : "patient.json",
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "mime.type" : "application/json"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "filename" : {
                    "displayName" : "filename",
                    "identifiesControllerService" : false,
                    "name" : "filename",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "mime.type" : {
                    "displayName" : "mime.type",
                    "identifiesControllerService" : false,
                    "name" : "mime.type",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "3fbbb66c-cf05-3fb7-b313-ae8d474554b9",
                "name" : "Prepare Create Request Body",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 848.0,
                  "y" : 200.0
                },
                "properties" : {
                  "Regular Expression" : "(?s)(^.*$)",
                  "Replacement Value" : "${resource}",
                  "Evaluation Mode" : "Entire text",
                  "Line-by-Line Evaluation Mode" : "All",
                  "Character Set" : "UTF-8",
                  "Maximum Buffer Size" : "1 MB",
                  "Replacement Strategy" : "Regex Replace"
                },
                "propertyDescriptors" : {
                  "Regular Expression" : {
                    "displayName" : "Search Value",
                    "identifiesControllerService" : false,
                    "name" : "Regular Expression",
                    "sensitive" : false
                  },
                  "Replacement Value" : {
                    "displayName" : "Replacement Value",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Value",
                    "sensitive" : false
                  },
                  "Evaluation Mode" : {
                    "displayName" : "Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Evaluation Mode",
                    "sensitive" : false
                  },
                  "Line-by-Line Evaluation Mode" : {
                    "displayName" : "Line-by-Line Evaluation Mode",
                    "identifiesControllerService" : false,
                    "name" : "Line-by-Line Evaluation Mode",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  },
                  "Maximum Buffer Size" : {
                    "displayName" : "Maximum Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Buffer Size",
                    "sensitive" : false
                  },
                  "Replacement Strategy" : {
                    "displayName" : "Replacement Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Replacement Strategy",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.ReplaceText",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "ERROR",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "7d3b9c1f-90b9-3265-8d25-8e82ce4059e9",
                "name" : "Error Log",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -320.0,
                  "y" : 232.0
                },
                "properties" : {
                  "character-set" : "windows-1252",
                  "Log Level" : "info",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "false"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#f53d00"
                },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "Original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "8e4248cf-1780-3e32-b43f-93b0a99c6e3b",
                "name" : "Find Resource",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : 200.0
                },
                "properties" : {
                  "use-etag" : "false",
                  "Proxy Type" : "http",
                  "Basic Authentication Password" : "#{FHIR_UserPwd}",
                  "Connection Timeout" : "5 secs",
                  "send-message-body" : "true",
                  "set-form-filename" : "true",
                  "Always Output Response" : "false",
                  "etag-max-cache-size" : "10MB",
                  "idle-timeout" : "5 mins",
                  "Use Chunked Encoding" : "false",
                  "Follow Redirects" : "True",
                  "Remote URL" : "#{FHIR_URL}/${resourceType}?url=${resourceURL}",
                  "Content-Type" : "${mime.type}",
                  "max-idle-connections" : "5",
                  "Read Timeout" : "15 secs",
                  "Max Length To Put In Attribute" : "256",
                  "ignore-response-content" : "false",
                  "Digest Authentication" : "false",
                  "HTTP Method" : "GET",
                  "Add Response Headers to Request" : "false",
                  "Basic Authentication Username" : "#{FHIR_User}",
                  "Include Date Header" : "True",
                  "Penalize on \"No Retry\"" : "false"
                },
                "propertyDescriptors" : {
                  "Proxy Host" : {
                    "displayName" : "Proxy Host",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Host",
                    "sensitive" : false
                  },
                  "Attributes to Send" : {
                    "displayName" : "Attributes to Send",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Send",
                    "sensitive" : false
                  },
                  "use-etag" : {
                    "displayName" : "Use HTTP ETag",
                    "identifiesControllerService" : false,
                    "name" : "use-etag",
                    "sensitive" : false
                  },
                  "proxy-configuration-service" : {
                    "displayName" : "Proxy Configuration Service",
                    "identifiesControllerService" : true,
                    "name" : "proxy-configuration-service",
                    "sensitive" : false
                  },
                  "Proxy Type" : {
                    "displayName" : "Proxy Type",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Type",
                    "sensitive" : false
                  },
                  "Basic Authentication Password" : {
                    "displayName" : "Basic Authentication Password",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Password",
                    "sensitive" : true
                  },
                  "Connection Timeout" : {
                    "displayName" : "Connection Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Connection Timeout",
                    "sensitive" : false
                  },
                  "send-message-body" : {
                    "displayName" : "Send Message Body",
                    "identifiesControllerService" : false,
                    "name" : "send-message-body",
                    "sensitive" : false
                  },
                  "set-form-filename" : {
                    "displayName" : "Set Flowfile Form Data File Name",
                    "identifiesControllerService" : false,
                    "name" : "set-form-filename",
                    "sensitive" : false
                  },
                  "Always Output Response" : {
                    "displayName" : "Always Output Response",
                    "identifiesControllerService" : false,
                    "name" : "Always Output Response",
                    "sensitive" : false
                  },
                  "etag-max-cache-size" : {
                    "displayName" : "Maximum ETag Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "etag-max-cache-size",
                    "sensitive" : false
                  },
                  "idle-timeout" : {
                    "displayName" : "Idle Timeout",
                    "identifiesControllerService" : false,
                    "name" : "idle-timeout",
                    "sensitive" : false
                  },
                  "Put Response Body In Attribute" : {
                    "displayName" : "Put Response Body In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Response Body In Attribute",
                    "sensitive" : false
                  },
                  "Use Chunked Encoding" : {
                    "displayName" : "Use Chunked Encoding",
                    "identifiesControllerService" : false,
                    "name" : "Use Chunked Encoding",
                    "sensitive" : false
                  },
                  "Follow Redirects" : {
                    "displayName" : "Follow Redirects",
                    "identifiesControllerService" : false,
                    "name" : "Follow Redirects",
                    "sensitive" : false
                  },
                  "Remote URL" : {
                    "displayName" : "Remote URL",
                    "identifiesControllerService" : false,
                    "name" : "Remote URL",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  },
                  "form-body-form-name" : {
                    "displayName" : "Flowfile Form Data Name",
                    "identifiesControllerService" : false,
                    "name" : "form-body-form-name",
                    "sensitive" : false
                  },
                  "max-idle-connections" : {
                    "displayName" : "Max Idle Connections",
                    "identifiesControllerService" : false,
                    "name" : "max-idle-connections",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-user" : {
                    "displayName" : "Proxy Username",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-user",
                    "sensitive" : false
                  },
                  "Read Timeout" : {
                    "displayName" : "Read Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Read Timeout",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-password" : {
                    "displayName" : "Proxy Password",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-password",
                    "sensitive" : true
                  },
                  "ignore-response-content" : {
                    "displayName" : "Ignore response's content",
                    "identifiesControllerService" : false,
                    "name" : "ignore-response-content",
                    "sensitive" : false
                  },
                  "Proxy Port" : {
                    "displayName" : "Proxy Port",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Port",
                    "sensitive" : false
                  },
                  "SSL Context Service" : {
                    "displayName" : "SSL Context Service",
                    "identifiesControllerService" : true,
                    "name" : "SSL Context Service",
                    "sensitive" : false
                  },
                  "Digest Authentication" : {
                    "displayName" : "Use Digest Authentication",
                    "identifiesControllerService" : false,
                    "name" : "Digest Authentication",
                    "sensitive" : false
                  },
                  "HTTP Method" : {
                    "displayName" : "HTTP Method",
                    "identifiesControllerService" : false,
                    "name" : "HTTP Method",
                    "sensitive" : false
                  },
                  "Add Response Headers to Request" : {
                    "displayName" : "Add Response Headers to Request",
                    "identifiesControllerService" : false,
                    "name" : "Add Response Headers to Request",
                    "sensitive" : false
                  },
                  "Basic Authentication Username" : {
                    "displayName" : "Basic Authentication Username",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Username",
                    "sensitive" : false
                  },
                  "Include Date Header" : {
                    "displayName" : "Include Date Header",
                    "identifiesControllerService" : false,
                    "name" : "Include Date Header",
                    "sensitive" : false
                  },
                  "Penalize on \"No Retry\"" : {
                    "displayName" : "Penalize on \"No Retry\"",
                    "identifiesControllerService" : false,
                    "name" : "Penalize on \"No Retry\"",
                    "sensitive" : false
                  },
                  "Useragent" : {
                    "displayName" : "Useragent",
                    "identifiesControllerService" : false,
                    "name" : "Useragent",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "b6e8bee3-965f-3448-aa95-b7d39786f004",
                "name" : "Extract Resource Properties",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : -144.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "resourceURL" : "url",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "resourceName" : "name",
                  "Path Not Found Behavior" : "warn",
                  "resourceType" : "resourceType"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resourceURL" : {
                    "displayName" : "resourceURL",
                    "identifiesControllerService" : false,
                    "name" : "resourceURL",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "resourceName" : {
                    "displayName" : "resourceName",
                    "identifiesControllerService" : false,
                    "name" : "resourceName",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  },
                  "resourceType" : {
                    "displayName" : "resourceType",
                    "identifiesControllerService" : false,
                    "name" : "resourceType",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ffffff"
                },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "c197665f-2af1-3d14-8d4b-8e733046a939",
                "name" : "Extract Resource Exists Attribute",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : 384.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "Return Type" : "auto-detect",
                  "resourceCount" : "total",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "warn"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "resourceCount" : {
                    "displayName" : "resourceCount",
                    "identifiesControllerService" : false,
                    "name" : "resourceCount",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ffffff"
                },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "618bb3b5-2f52-3910-ab47-9ce31cacdb3e",
                "name" : "Extract Resource",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : 32.0
                },
                "properties" : {
                  "Enable Unicode Predefined Character Classes" : "false",
                  "Permit Whitespace and Comments in Pattern" : "false",
                  "Enable Unicode-aware Case Folding" : "false",
                  "resource" : "(.*)",
                  "Enable DOTALL Mode" : "true",
                  "Enable Unix Lines Mode" : "false",
                  "Maximum Buffer Size" : "1 MB",
                  "Enable Canonical Equivalence" : "false",
                  "Enable Case-insensitive Matching" : "false",
                  "Enable Multiline Mode" : "true",
                  "Maximum Capture Group Length" : "1000000",
                  "Enable Literal Parsing of the Pattern" : "false",
                  "Character Set" : "UTF-8",
                  "Include Capture Group 0" : "true",
                  "extract-text-enable-repeating-capture-group" : "false"
                },
                "propertyDescriptors" : {
                  "Enable Unicode Predefined Character Classes" : {
                    "displayName" : "Enable Unicode Predefined Character Classes",
                    "identifiesControllerService" : false,
                    "name" : "Enable Unicode Predefined Character Classes",
                    "sensitive" : false
                  },
                  "Permit Whitespace and Comments in Pattern" : {
                    "displayName" : "Permit Whitespace and Comments in Pattern",
                    "identifiesControllerService" : false,
                    "name" : "Permit Whitespace and Comments in Pattern",
                    "sensitive" : false
                  },
                  "Enable Unicode-aware Case Folding" : {
                    "displayName" : "Enable Unicode-aware Case Folding",
                    "identifiesControllerService" : false,
                    "name" : "Enable Unicode-aware Case Folding",
                    "sensitive" : false
                  },
                  "resource" : {
                    "displayName" : "resource",
                    "identifiesControllerService" : false,
                    "name" : "resource",
                    "sensitive" : false
                  },
                  "Enable DOTALL Mode" : {
                    "displayName" : "Enable DOTALL Mode",
                    "identifiesControllerService" : false,
                    "name" : "Enable DOTALL Mode",
                    "sensitive" : false
                  },
                  "Enable Unix Lines Mode" : {
                    "displayName" : "Enable Unix Lines Mode",
                    "identifiesControllerService" : false,
                    "name" : "Enable Unix Lines Mode",
                    "sensitive" : false
                  },
                  "Maximum Buffer Size" : {
                    "displayName" : "Maximum Buffer Size",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Buffer Size",
                    "sensitive" : false
                  },
                  "Enable Canonical Equivalence" : {
                    "displayName" : "Enable Canonical Equivalence",
                    "identifiesControllerService" : false,
                    "name" : "Enable Canonical Equivalence",
                    "sensitive" : false
                  },
                  "Enable Case-insensitive Matching" : {
                    "displayName" : "Enable Case-insensitive Matching",
                    "identifiesControllerService" : false,
                    "name" : "Enable Case-insensitive Matching",
                    "sensitive" : false
                  },
                  "Enable Multiline Mode" : {
                    "displayName" : "Enable Multiline Mode",
                    "identifiesControllerService" : false,
                    "name" : "Enable Multiline Mode",
                    "sensitive" : false
                  },
                  "Maximum Capture Group Length" : {
                    "displayName" : "Maximum Capture Group Length",
                    "identifiesControllerService" : false,
                    "name" : "Maximum Capture Group Length",
                    "sensitive" : false
                  },
                  "Enable Literal Parsing of the Pattern" : {
                    "displayName" : "Enable Literal Parsing of the Pattern",
                    "identifiesControllerService" : false,
                    "name" : "Enable Literal Parsing of the Pattern",
                    "sensitive" : false
                  },
                  "Character Set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "Character Set",
                    "sensitive" : false
                  },
                  "Include Capture Group 0" : {
                    "displayName" : "Include Capture Group 0",
                    "identifiesControllerService" : false,
                    "name" : "Include Capture Group 0",
                    "sensitive" : false
                  },
                  "extract-text-enable-repeating-capture-group" : {
                    "displayName" : "Enable repeating capture group",
                    "identifiesControllerService" : false,
                    "name" : "extract-text-enable-repeating-capture-group",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.ExtractText",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "126e8d04-5f80-3f0e-b82a-aa3b8f8f3a4f",
                "name" : "If (Resource exists) then/else",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : 568.0
                },
                "properties" : {
                  "resourceExists" : "${resourceCount:ge(1)}",
                  "Routing Strategy" : "Route to Property name",
                  "resourceDoesNotExist" : "${resourceCount:ge(1):not()}"
                },
                "propertyDescriptors" : {
                  "resourceExists" : {
                    "displayName" : "resourceExists",
                    "identifiesControllerService" : false,
                    "name" : "resourceExists",
                    "sensitive" : false
                  },
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "resourceDoesNotExist" : {
                    "displayName" : "resourceDoesNotExist",
                    "identifiesControllerService" : false,
                    "name" : "resourceDoesNotExist",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ffffff"
                },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "INFO",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "76704b91-b397-3c73-9cb0-822f5659a23d",
                "name" : "Log Resource Exists",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 296.0,
                  "y" : 768.0
                },
                "properties" : {
                  "log-message" : "${resourceType} '${resourceName}' exists",
                  "log-level" : "info"
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#2de05a"
                },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "INFO",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "38c8b1f5-a2a7-36de-9b33-917a37c3dead",
                "name" : "Log Resource Created",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 848.0,
                  "y" : 768.0
                },
                "properties" : {
                  "log-message" : "${resourceType} '${resourceName}' was created",
                  "log-level" : "info"
                },
                "propertyDescriptors" : {
                  "log-message" : {
                    "displayName" : "Log message",
                    "identifiesControllerService" : false,
                    "name" : "log-message",
                    "sensitive" : false
                  },
                  "log-level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "log-level",
                    "sensitive" : false
                  },
                  "log-prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "log-prefix",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#2de05a"
                },
                "type" : "org.apache.nifi.processors.standard.LogMessage",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "Original" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "de2e1baf-5697-3da9-bbce-f70bac258626",
                "identifier" : "0fdd5b9d-bc71-3634-b14e-b5c6f9da0da4",
                "name" : "Create Resource",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 848.0,
                  "y" : 576.0
                },
                "properties" : {
                  "use-etag" : "false",
                  "Proxy Type" : "http",
                  "Basic Authentication Password" : "#{FHIR_UserPwd}",
                  "Connection Timeout" : "5 secs",
                  "send-message-body" : "true",
                  "set-form-filename" : "true",
                  "Always Output Response" : "false",
                  "etag-max-cache-size" : "10MB",
                  "idle-timeout" : "5 mins",
                  "Use Chunked Encoding" : "false",
                  "Follow Redirects" : "True",
                  "Remote URL" : "#{FHIR_URL}/${resourceType}",
                  "Content-Type" : "${mime.type}",
                  "max-idle-connections" : "5",
                  "Read Timeout" : "15 secs",
                  "Max Length To Put In Attribute" : "256",
                  "ignore-response-content" : "false",
                  "Digest Authentication" : "false",
                  "HTTP Method" : "POST",
                  "Add Response Headers to Request" : "false",
                  "Basic Authentication Username" : "#{FHIR_User}",
                  "Include Date Header" : "True",
                  "Penalize on \"No Retry\"" : "false"
                },
                "propertyDescriptors" : {
                  "Proxy Host" : {
                    "displayName" : "Proxy Host",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Host",
                    "sensitive" : false
                  },
                  "Attributes to Send" : {
                    "displayName" : "Attributes to Send",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Send",
                    "sensitive" : false
                  },
                  "use-etag" : {
                    "displayName" : "Use HTTP ETag",
                    "identifiesControllerService" : false,
                    "name" : "use-etag",
                    "sensitive" : false
                  },
                  "proxy-configuration-service" : {
                    "displayName" : "Proxy Configuration Service",
                    "identifiesControllerService" : true,
                    "name" : "proxy-configuration-service",
                    "sensitive" : false
                  },
                  "Proxy Type" : {
                    "displayName" : "Proxy Type",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Type",
                    "sensitive" : false
                  },
                  "Basic Authentication Password" : {
                    "displayName" : "Basic Authentication Password",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Password",
                    "sensitive" : true
                  },
                  "Connection Timeout" : {
                    "displayName" : "Connection Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Connection Timeout",
                    "sensitive" : false
                  },
                  "send-message-body" : {
                    "displayName" : "Send Message Body",
                    "identifiesControllerService" : false,
                    "name" : "send-message-body",
                    "sensitive" : false
                  },
                  "set-form-filename" : {
                    "displayName" : "Set Flowfile Form Data File Name",
                    "identifiesControllerService" : false,
                    "name" : "set-form-filename",
                    "sensitive" : false
                  },
                  "Always Output Response" : {
                    "displayName" : "Always Output Response",
                    "identifiesControllerService" : false,
                    "name" : "Always Output Response",
                    "sensitive" : false
                  },
                  "etag-max-cache-size" : {
                    "displayName" : "Maximum ETag Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "etag-max-cache-size",
                    "sensitive" : false
                  },
                  "idle-timeout" : {
                    "displayName" : "Idle Timeout",
                    "identifiesControllerService" : false,
                    "name" : "idle-timeout",
                    "sensitive" : false
                  },
                  "Put Response Body In Attribute" : {
                    "displayName" : "Put Response Body In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Put Response Body In Attribute",
                    "sensitive" : false
                  },
                  "Use Chunked Encoding" : {
                    "displayName" : "Use Chunked Encoding",
                    "identifiesControllerService" : false,
                    "name" : "Use Chunked Encoding",
                    "sensitive" : false
                  },
                  "Follow Redirects" : {
                    "displayName" : "Follow Redirects",
                    "identifiesControllerService" : false,
                    "name" : "Follow Redirects",
                    "sensitive" : false
                  },
                  "Remote URL" : {
                    "displayName" : "Remote URL",
                    "identifiesControllerService" : false,
                    "name" : "Remote URL",
                    "sensitive" : false
                  },
                  "Content-Type" : {
                    "displayName" : "Content-Type",
                    "identifiesControllerService" : false,
                    "name" : "Content-Type",
                    "sensitive" : false
                  },
                  "form-body-form-name" : {
                    "displayName" : "Flowfile Form Data Name",
                    "identifiesControllerService" : false,
                    "name" : "form-body-form-name",
                    "sensitive" : false
                  },
                  "max-idle-connections" : {
                    "displayName" : "Max Idle Connections",
                    "identifiesControllerService" : false,
                    "name" : "max-idle-connections",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-user" : {
                    "displayName" : "Proxy Username",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-user",
                    "sensitive" : false
                  },
                  "Read Timeout" : {
                    "displayName" : "Read Timeout",
                    "identifiesControllerService" : false,
                    "name" : "Read Timeout",
                    "sensitive" : false
                  },
                  "Max Length To Put In Attribute" : {
                    "displayName" : "Max Length To Put In Attribute",
                    "identifiesControllerService" : false,
                    "name" : "Max Length To Put In Attribute",
                    "sensitive" : false
                  },
                  "invokehttp-proxy-password" : {
                    "displayName" : "Proxy Password",
                    "identifiesControllerService" : false,
                    "name" : "invokehttp-proxy-password",
                    "sensitive" : true
                  },
                  "ignore-response-content" : {
                    "displayName" : "Ignore response's content",
                    "identifiesControllerService" : false,
                    "name" : "ignore-response-content",
                    "sensitive" : false
                  },
                  "Proxy Port" : {
                    "displayName" : "Proxy Port",
                    "identifiesControllerService" : false,
                    "name" : "Proxy Port",
                    "sensitive" : false
                  },
                  "SSL Context Service" : {
                    "displayName" : "SSL Context Service",
                    "identifiesControllerService" : true,
                    "name" : "SSL Context Service",
                    "sensitive" : false
                  },
                  "Digest Authentication" : {
                    "displayName" : "Use Digest Authentication",
                    "identifiesControllerService" : false,
                    "name" : "Digest Authentication",
                    "sensitive" : false
                  },
                  "HTTP Method" : {
                    "displayName" : "HTTP Method",
                    "identifiesControllerService" : false,
                    "name" : "HTTP Method",
                    "sensitive" : false
                  },
                  "Add Response Headers to Request" : {
                    "displayName" : "Add Response Headers to Request",
                    "identifiesControllerService" : false,
                    "name" : "Add Response Headers to Request",
                    "sensitive" : false
                  },
                  "Basic Authentication Username" : {
                    "displayName" : "Basic Authentication Username",
                    "identifiesControllerService" : false,
                    "name" : "Basic Authentication Username",
                    "sensitive" : false
                  },
                  "Include Date Header" : {
                    "displayName" : "Include Date Header",
                    "identifiesControllerService" : false,
                    "name" : "Include Date Header",
                    "sensitive" : false
                  },
                  "Penalize on \"No Retry\"" : {
                    "displayName" : "Penalize on \"No Retry\"",
                    "identifiesControllerService" : false,
                    "name" : "Penalize on \"No Retry\"",
                    "sensitive" : false
                  },
                  "Useragent" : {
                    "displayName" : "Useragent",
                    "identifiesControllerService" : false,
                    "name" : "Useragent",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                  "name" : "Wait For All Extensions Processing",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "b7ea9949-c396-322f-a5c9-4ff44f58790f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "id" : "2e88528f-4084-314e-9842-fe3957c33dd4",
                  "name" : "original-fhir-bundles",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "id" : "57127424-b641-32a5-9cb5-520b112243ac",
                  "name" : "fhir-bundle",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "03f8a72c-f666-3f33-9537-f4d110520000",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "ec087fd7-8f2c-3898-b433-b663f0ce97f3",
                  "name" : "fhir-bundles",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "a94885a1-98fb-3317-96c0-b9c0c1a958a4",
                  "name" : "translated-fhir-bundles",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "299ef812-b97a-3fd0-8f3a-97aff801110e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "id" : "436f36bf-f528-3b47-bf0f-898d1e111e56",
                  "name" : "fhir-bundles",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 584.0,
                  "y" : -552.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "id" : "a9404be9-6605-3ccc-98f3-01a75f86a5c3",
                  "name" : "processed-bundle",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "13c85cd9-b5e5-3358-9705-e0b8dfd58f32",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                  "name" : "Wait For All Extensions Processing",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 408.0,
                  "y" : -824.0
                }, {
                  "x" : 496.0,
                  "y" : -840.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                  "name" : "Wait For All Extensions Processing",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "7b35ac10-5956-3d4c-9b93-1b14a28d944a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "wait" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                  "name" : "Wait For All Extensions Processing",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "id" : "d68cfd85-0adc-3963-9d0e-b152598330c0",
                  "name" : "extensions",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "3078008f-7e91-38ea-936d-36fc7c854e6d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "extension-with-code" ],
                "source" : {
                  "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "65236e8c-3b6d-3005-9c27-f9478585a22d",
                  "name" : "If \"code\" Then/Else",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "The ID of the ConceptMap that will be used to $translate.",
                  "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "id" : "a95ef02c-98f4-3af5-92fa-e97a9b116d29",
                  "name" : "ConceptMap ID",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "950a0af6-7782-3e79-bf44-8c47820d018f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "id" : "3799b1f5-fdbb-3d2c-8ef6-f5a8a64203b4",
                  "name" : "concept-map-id",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "id" : "ed801e5b-5127-38b7-9bc1-eb1553223269",
                  "name" : "fhir-bundles",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "6c30cb2b-2c1e-3aa3-ba9f-291a3ac2e4f4",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "id" : "9e32ad38-750a-3586-8456-bde5b0bcecb8",
                  "name" : "success",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "2e9bc130-21eb-38f0-8fab-9d9d5e237b1e",
                  "name" : "Notify Extension Processed (No T9N)",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "f6750968-0a6c-34d8-896c-e2579cbaaf6f",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "extension-without-code" ],
                "source" : {
                  "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "65236e8c-3b6d-3005-9c27-f9478585a22d",
                  "name" : "If \"code\" Then/Else",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "2b21898a-24a7-3eeb-9a5a-719737f480ce",
                  "name" : "Notify Extension Processed (T9N)",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "9fb570c4-6676-3c09-babf-12f6956cbae6",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ "org.apache.nifi.prioritizer.NewestFlowFileFirstPrioritizer" ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "id" : "29e166a7-5c69-3a36-a3fa-ac883c6352da",
                  "name" : "updated-bundle-file",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "65236e8c-3b6d-3005-9c27-f9478585a22d",
                  "name" : "If \"code\" Then/Else",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "41637231-8b54-389b-b477-6ace9a96227d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "id" : "2704b2ef-8058-320d-a536-12d2e79a9a1d",
                  "name" : "fhir-bundle-extensions",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 1,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "id" : "2645be87-29d4-33eb-a193-bf9e15b930fc",
                  "name" : "translated-system-and-code",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "1a16d2b1-77c6-384a-a721-face8ec1b3a3",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                  "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "id" : "61b82be6-2018-3e36-ac2d-d47bc2290c00",
                  "name" : "translated system and code",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ {
                  "x" : 352.0,
                  "y" : -552.0
                } ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "id" : "60db15b5-137f-3d3c-a5cb-1386afab4664",
                  "name" : "error-or-expired-bundle",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "a3dff88c-f60e-31ef-a683-f0da4c0f9e46",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "expired", "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                  "id" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                  "name" : "Wait For All Extensions Processing",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ {
                "bundle" : {
                  "artifact" : "nifi-lookup-services-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "CONTROLLER_SERVICE",
                "controllerServiceApis" : [ {
                  "bundle" : {
                    "artifact" : "nifi-standard-services-api-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "type" : "org.apache.nifi.lookup.StringLookupService"
                }, {
                  "bundle" : {
                    "artifact" : "nifi-standard-services-api-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "type" : "org.apache.nifi.lookup.LookupService"
                } ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "98f25974-eb81-3592-8d6a-18edbfce6932",
                "name" : "StructureDefinition <-> ValueSet Map",
                "properties" : {
                  "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : "http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth",
                  "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : "http://hl7.org/fhir/us/core/ValueSet/birthsex"
                },
                "propertyDescriptors" : {
                  "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs" : {
                    "displayName" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
                    "identifiesControllerService" : false,
                    "name" : "http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs",
                    "sensitive" : false
                  },
                  "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex" : {
                    "displayName" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
                    "identifiesControllerService" : false,
                    "name" : "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
                    "sensitive" : false
                  }
                },
                "type" : "org.apache.nifi.lookup.SimpleKeyValueLookupService"
              } ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "ec087fd7-8f2c-3898-b433-b663f0ce97f3",
                "name" : "fhir-bundles",
                "position" : {
                  "x" : 232.0,
                  "y" : -1176.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Translate Codes",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "a94885a1-98fb-3317-96c0-b9c0c1a958a4",
                "name" : "translated-fhir-bundles",
                "position" : {
                  "x" : 328.0,
                  "y" : -224.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 16.0,
                "y" : -288.0
              },
              "processGroups" : [ {
                "comments" : "Input:\n- FHIR Bundle resources with a boolean \"translated\" field\n\nOutput: \n- The same FHIR Bundle resources but with some logging to the Bulletin Board",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e90683ed-d396-3def-a4ec-b3590866fa03",
                    "name" : "No Translation Needed",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "3b6f4288-d123-312f-9c11-0e43ab8f08a9",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "translated" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "7f449b34-1201-387d-b666-c7f17666d2c0",
                    "name" : "If \"translated\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "7f449b34-1201-387d-b666-c7f17666d2c0",
                    "name" : "If \"translated\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "2ff6a112-e6eb-3515-88f5-b6b49b3d793b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "a9404be9-6605-3ccc-98f3-01a75f86a5c3",
                    "name" : "processed-bundle",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e7506680-47b0-3c36-ac5a-89b40ec83317",
                    "name" : "Load Translated Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "68cc3a7a-ee2a-35ed-a073-283a9da6d447",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "70937d40-4220-3f73-adb8-c29c626488fa",
                    "name" : "Error Processing Bundle Extensions",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "436f36bf-f528-3b47-bf0f-898d1e111e56",
                    "name" : "fhir-bundles",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "92856de7-e142-3b62-9cc0-9779e090636a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e7506680-47b0-3c36-ac5a-89b40ec83317",
                    "name" : "Load Translated Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e7506680-47b0-3c36-ac5a-89b40ec83317",
                    "name" : "Load Translated Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "946c273b-e959-39ef-b585-d7b659481dca",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "c678f4d0-b6c8-33af-9815-487f7e4b5c3e",
                    "name" : "No Translation Needed",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "c678f4d0-b6c8-33af-9815-487f7e4b5c3e",
                    "name" : "No Translation Needed",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "7e32e4c8-e207-3125-bf48-8a5569062550",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "not-translated" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "7f449b34-1201-387d-b666-c7f17666d2c0",
                    "name" : "If \"translated\" Then/Else",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e7506680-47b0-3c36-ac5a-89b40ec83317",
                    "name" : "Load Translated Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "afb08406-1bfa-3f02-bf4d-f24ea62ff979",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "e90683ed-d396-3def-a4ec-b3590866fa03",
                    "name" : "No Translation Needed",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "70937d40-4220-3f73-adb8-c29c626488fa",
                    "name" : "Error Processing Bundle Extensions",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "effc7409-a55e-32c2-b7d6-9604f28b99b8",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                    "id" : "60db15b5-137f-3d3c-a5cb-1386afab4664",
                    "name" : "error-or-expired-bundle",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "a9404be9-6605-3ccc-98f3-01a75f86a5c3",
                  "name" : "processed-bundle",
                  "position" : {
                    "x" : 648.0,
                    "y" : -1152.0
                  },
                  "type" : "INPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "60db15b5-137f-3d3c-a5cb-1386afab4664",
                  "name" : "error-or-expired-bundle",
                  "position" : {
                    "x" : 80.0,
                    "y" : -1152.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Process Results",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "436f36bf-f528-3b47-bf0f-898d1e111e56",
                  "name" : "fhir-bundles",
                  "position" : {
                    "x" : 472.0,
                    "y" : -312.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 264.0,
                  "y" : -488.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "INFO",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "c678f4d0-b6c8-33af-9815-487f7e4b5c3e",
                  "name" : "No Translation Needed",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 432.0,
                    "y" : -816.0
                  },
                  "properties" : {
                    "log-message" : "Bundle '${bundle.identifier}' didn't include any translatable extensions.",
                    "log-level" : "info"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#2de05a"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "ERROR",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "70937d40-4220-3f73-adb8-c29c626488fa",
                  "name" : "Error Processing Bundle Extensions",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 32.0,
                    "y" : -816.0
                  },
                  "properties" : {
                    "log-message" : "There was an error processing all extensions for FHIR Bundle `${bundle.identifier}",
                    "log-level" : "error"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#f53d00"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "INFO",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "e90683ed-d396-3def-a4ec-b3590866fa03",
                  "name" : "No Translation Needed",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 832.0,
                    "y" : -824.0
                  },
                  "properties" : {
                    "log-message" : "Bundle '${bundle.identifier}' had some translated extensions.",
                    "log-level" : "info"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#2de05a"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "permission.denied", "not.found" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "e7506680-47b0-3c36-ac5a-89b40ec83317",
                  "name" : "Load Translated Bundle File",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 392.0,
                    "y" : -528.0
                  },
                  "properties" : {
                    "Move Conflict Strategy" : "Rename",
                    "Log level when file not found" : "ERROR",
                    "Log level when permission denied" : "ERROR",
                    "File to Fetch" : "temp/terminology-flow/${filename}",
                    "Completion Strategy" : "None"
                  },
                  "propertyDescriptors" : {
                    "Move Conflict Strategy" : {
                      "displayName" : "Move Conflict Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Move Conflict Strategy",
                      "sensitive" : false
                    },
                    "Log level when file not found" : {
                      "displayName" : "Log level when file not found",
                      "identifiesControllerService" : false,
                      "name" : "Log level when file not found",
                      "sensitive" : false
                    },
                    "Move Destination Directory" : {
                      "displayName" : "Move Destination Directory",
                      "identifiesControllerService" : false,
                      "name" : "Move Destination Directory",
                      "sensitive" : false
                    },
                    "Log level when permission denied" : {
                      "displayName" : "Log level when permission denied",
                      "identifiesControllerService" : false,
                      "name" : "Log level when permission denied",
                      "sensitive" : false
                    },
                    "File to Fetch" : {
                      "displayName" : "File to Fetch",
                      "identifiesControllerService" : false,
                      "name" : "File to Fetch",
                      "sensitive" : false
                    },
                    "Completion Strategy" : {
                      "displayName" : "Completion Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Completion Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.FetchFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "33413dc8-4431-3517-8ae1-eaef4cc2612b",
                  "identifier" : "7f449b34-1201-387d-b666-c7f17666d2c0",
                  "name" : "If \"translated\" Then/Else",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 592.0,
                    "y" : -1024.0
                  },
                  "properties" : {
                    "Routing Strategy" : "Route to Property name",
                    "translated" : "${translated:equals('true')}",
                    "not-translated" : "${translated:equals('true'):not()}"
                  },
                  "propertyDescriptors" : {
                    "Routing Strategy" : {
                      "displayName" : "Routing Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Routing Strategy",
                      "sensitive" : false
                    },
                    "translated" : {
                      "displayName" : "translated",
                      "identifiesControllerService" : false,
                      "name" : "translated",
                      "sensitive" : false
                    },
                    "not-translated" : {
                      "displayName" : "not-translated",
                      "identifiesControllerService" : false,
                      "name" : "not-translated",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "Input:\nFHIR Bundles\n\nOutput:\n1) The original FHIR Bundles with the corresponding fragment.identifier and fragment.counts attributes based on the number of \"extensions\" that were extracted from each.\n\n2) The individual \"extension\" JSON object extracted from each Bundle, with their corresponding fragment.identifier and fragment.index so that they can be matched against the Bundle where they came from.\n\n3) The resulting flow files will include a couple of attributes: \"url\" with the extension \"URL\" field, and \"code\" with the extension \"valueCode\" field. If the extension is not of type \"valueCode\" it will still be output but the attribute will be empty.\n\n4) The actual JSON extension text will also be included as an attribute called \"extension\"",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "dac276e0-880e-30b8-ac8e-b77fb54cbdbf",
                    "name" : "Extract Extension as Attribute",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "607ec824-2524-3f0a-9f5f-f2a92bd48ce4",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "b6aabdf5-007d-3ee9-9fe4-cf538979b30f",
                    "name" : "Extract Extension URL & Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "2704b2ef-8058-320d-a536-12d2e79a9a1d",
                    "name" : "fhir-bundle-extensions",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "9a6fec60-af06-301b-8f4c-47b86229289e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "dac276e0-880e-30b8-ac8e-b77fb54cbdbf",
                    "name" : "Extract Extension as Attribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "b6aabdf5-007d-3ee9-9fe4-cf538979b30f",
                    "name" : "Extract Extension URL & Code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "2f510522-d435-32b5-bea2-cb2e5bd5f686",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "split" ],
                  "source" : {
                    "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "80edd094-8c4b-3a2e-aa35-73159061b29f",
                    "name" : "Extract Bundle Extensions",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "2e88528f-4084-314e-9842-fe3957c33dd4",
                    "name" : "original-fhir-bundles",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "0858ba00-67d0-3b56-8534-7fbc1d615e6c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "original" ],
                  "source" : {
                    "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "80edd094-8c4b-3a2e-aa35-73159061b29f",
                    "name" : "Extract Bundle Extensions",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "80edd094-8c4b-3a2e-aa35-73159061b29f",
                    "name" : "Extract Bundle Extensions",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "4ad6dc1c-da47-39b9-a73b-ca327d13bd13",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                    "id" : "ed801e5b-5127-38b7-9bc1-eb1553223269",
                    "name" : "fhir-bundles",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "ed801e5b-5127-38b7-9bc1-eb1553223269",
                  "name" : "fhir-bundles",
                  "position" : {
                    "x" : 264.0,
                    "y" : -1296.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Extract Bundle Extensions",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "2e88528f-4084-314e-9842-fe3957c33dd4",
                  "name" : "original-fhir-bundles",
                  "position" : {
                    "x" : 704.0,
                    "y" : -1144.0
                  },
                  "type" : "OUTPUT_PORT"
                }, {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "2704b2ef-8058-320d-a536-12d2e79a9a1d",
                  "name" : "fhir-bundle-extensions",
                  "position" : {
                    "x" : 272.0,
                    "y" : -648.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 760.0,
                  "y" : -984.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "This processor extracts the actual JSON text of the extension as an attribute called \"extension\"",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "dac276e0-880e-30b8-ac8e-b77fb54cbdbf",
                  "name" : "Extract Extension as Attribute",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 224.0,
                    "y" : -824.0
                  },
                  "properties" : {
                    "Enable Unicode Predefined Character Classes" : "false",
                    "Permit Whitespace and Comments in Pattern" : "false",
                    "Enable Unicode-aware Case Folding" : "false",
                    "extension" : "(.*)",
                    "Enable DOTALL Mode" : "true",
                    "Enable Unix Lines Mode" : "false",
                    "Maximum Buffer Size" : "1 MB",
                    "Enable Canonical Equivalence" : "false",
                    "Enable Case-insensitive Matching" : "false",
                    "Enable Multiline Mode" : "true",
                    "Maximum Capture Group Length" : "10000",
                    "Enable Literal Parsing of the Pattern" : "false",
                    "Character Set" : "UTF-8",
                    "Include Capture Group 0" : "false",
                    "extract-text-enable-repeating-capture-group" : "false"
                  },
                  "propertyDescriptors" : {
                    "Enable Unicode Predefined Character Classes" : {
                      "displayName" : "Enable Unicode Predefined Character Classes",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unicode Predefined Character Classes",
                      "sensitive" : false
                    },
                    "Permit Whitespace and Comments in Pattern" : {
                      "displayName" : "Permit Whitespace and Comments in Pattern",
                      "identifiesControllerService" : false,
                      "name" : "Permit Whitespace and Comments in Pattern",
                      "sensitive" : false
                    },
                    "Enable Unicode-aware Case Folding" : {
                      "displayName" : "Enable Unicode-aware Case Folding",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unicode-aware Case Folding",
                      "sensitive" : false
                    },
                    "extension" : {
                      "displayName" : "extension",
                      "identifiesControllerService" : false,
                      "name" : "extension",
                      "sensitive" : false
                    },
                    "Enable DOTALL Mode" : {
                      "displayName" : "Enable DOTALL Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable DOTALL Mode",
                      "sensitive" : false
                    },
                    "Enable Unix Lines Mode" : {
                      "displayName" : "Enable Unix Lines Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable Unix Lines Mode",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Enable Canonical Equivalence" : {
                      "displayName" : "Enable Canonical Equivalence",
                      "identifiesControllerService" : false,
                      "name" : "Enable Canonical Equivalence",
                      "sensitive" : false
                    },
                    "Enable Case-insensitive Matching" : {
                      "displayName" : "Enable Case-insensitive Matching",
                      "identifiesControllerService" : false,
                      "name" : "Enable Case-insensitive Matching",
                      "sensitive" : false
                    },
                    "Enable Multiline Mode" : {
                      "displayName" : "Enable Multiline Mode",
                      "identifiesControllerService" : false,
                      "name" : "Enable Multiline Mode",
                      "sensitive" : false
                    },
                    "Maximum Capture Group Length" : {
                      "displayName" : "Maximum Capture Group Length",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Capture Group Length",
                      "sensitive" : false
                    },
                    "Enable Literal Parsing of the Pattern" : {
                      "displayName" : "Enable Literal Parsing of the Pattern",
                      "identifiesControllerService" : false,
                      "name" : "Enable Literal Parsing of the Pattern",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Include Capture Group 0" : {
                      "displayName" : "Include Capture Group 0",
                      "identifiesControllerService" : false,
                      "name" : "Include Capture Group 0",
                      "sensitive" : false
                    },
                    "extract-text-enable-repeating-capture-group" : {
                      "displayName" : "Enable repeating capture group",
                      "identifiesControllerService" : false,
                      "name" : "extract-text-enable-repeating-capture-group",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ExtractText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "A FHIR Bundle may have multiple FHIR Resources (e.g. Patient, Observation, Encounter, MedicationRequest, etc.) and each of those FHIR Resources may have multiple \"extensions\". Some of those extensions may need to be translated. This processor extracts all of those extensions and sends the off to processing. \n\nThis processor additionally sends the original files from where the extensions were obtained to Wait, until all of the extensions from each FHIR Bundle are processed.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "80edd094-8c4b-3a2e-aa35-73159061b29f",
                  "name" : "Extract Bundle Extensions",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 216.0,
                    "y" : -1200.0
                  },
                  "properties" : {
                    "Null Value Representation" : "empty string",
                    "JsonPath Expression" : "$.entry[*].resource.extension[*]"
                  },
                  "propertyDescriptors" : {
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "JsonPath Expression" : {
                      "displayName" : "JsonPath Expression",
                      "identifiesControllerService" : false,
                      "name" : "JsonPath Expression",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.SplitJson",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "After the extension JSON objects have been extracted, this processor will save the corresponding URL and valueCode in attributes called \"url\" and \"code\" respectively.\n\nSample extensions:\n\n\t\t\t\t\"extension\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-mothersMaidenName\",\n\t\t\t\t\t\t\"valueString\": \"Graciela518 Badillo851\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",\n\t\t\t\t\t\t\"valueAddress\": {\n\t\t\t\t\t\t\t\"city\": \"Caguas\",\n\t\t\t\t\t\t\t\"state\": \"Puerto Rico\",\n\t\t\t\t\t\t\t\"country\": \"PR\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"url\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"valueCode\": \"female\"\n\t\t\t\t\t},\n",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "384bb988-808f-36a7-ae2e-48c12ec9cd5c",
                  "identifier" : "b6aabdf5-007d-3ee9-9fe4-cf538979b30f",
                  "name" : "Extract Extension URL & Code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 216.0,
                    "y" : -1008.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "code" : "valueCode",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "url" : "url",
                    "Path Not Found Behavior" : "ignore"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "code" : {
                      "displayName" : "code",
                      "identifiesControllerService" : false,
                      "name" : "code",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "url" : {
                      "displayName" : "url",
                      "identifiesControllerService" : false,
                      "name" : "url",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "Input:\n- Attribute: conceptMapID, which will be used to invoke the $translate method on that ConceptMap\n- Attribute: code, which is the code to be translated\n\nOutput:\n- Attribute: translatedCode and translatedCodeSystem, with the translated code and the translated URL that will go in the extension object.\n",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "61b82be6-2018-3e36-ac2d-d47bc2290c00",
                    "name" : "translated system and code",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "b13fcd7c-25c3-3638-ad77-3c78c529075b",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "c6196b47-633b-387f-8db1-026f29a00a1f",
                    "name" : "Get StructureDefinition from ValueSet ",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "bd8afbc1-138a-3db4-bac5-b30a6a9a6f1c",
                    "name" : "Extract New System & Code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "788d57b3-b38b-3e37-94e3-c770c8152cb5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "d8c3b0e7-fde2-35cf-a10f-391facd1fc5b",
                    "name" : "Extract New System & Code Array",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 512.0,
                    "y" : -552.0
                  }, {
                    "x" : 504.0,
                    "y" : -520.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "98f6073e-6414-3b9f-9292-8f2e7ee2ff33",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "0913544c-34be-3ca1-9807-b4ac97098cb5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "concept-map-id",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "The ID of the ConceptMap that will be used to $translate.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "a95ef02c-98f4-3af5-92fa-e97a9b116d29",
                    "name" : "ConceptMap ID",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "2287ad5c-0b48-369d-8cff-34cba258da60",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "96b3b27b-6e74-39ba-b056-97724abe3679",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1144.0,
                    "y" : -512.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "9f43293b-78a4-38a3-9f1c-02ac252f58b2",
                    "name" : "Log Didn't Find Code Translation",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "d206a577-76bc-300a-8fc0-324f640a4b41",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1144.0,
                    "y" : -615.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "9f43293b-78a4-38a3-9f1c-02ac252f58b2",
                    "name" : "Log Didn't Find Code Translation",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "07a84d02-0cc0-3fc4-9b82-b445f50a0119",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "df763755-467d-3f16-8bc8-df77b10e4061",
                    "name" : "Translate Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "c6196b47-633b-387f-8db1-026f29a00a1f",
                    "name" : "Get StructureDefinition from ValueSet ",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "8ea29dd2-3182-38c6-b57d-cebe9d9454ec",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "bd8afbc1-138a-3db4-bac5-b30a6a9a6f1c",
                    "name" : "Extract New System & Code",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1160.0,
                    "y" : -192.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "619889c4-86fc-319d-91a1-e5873069bf79",
                    "name" : "Log Didn't Find Code Translation",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "d19c7f48-1df8-392c-a26f-ef77e0b2538a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "d8c3b0e7-fde2-35cf-a10f-391facd1fc5b",
                    "name" : "Extract New System & Code Array",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "d8c3b0e7-fde2-35cf-a10f-391facd1fc5b",
                    "name" : "Extract New System & Code Array",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "8c8745de-21c8-3c83-b489-7864e68131d6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "2287ad5c-0b48-369d-8cff-34cba258da60",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1152.0,
                    "y" : -96.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "619889c4-86fc-319d-91a1-e5873069bf79",
                    "name" : "Log Didn't Find Code Translation",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "d61bc481-d1e6-3dcc-90a0-0d98982e2cee",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "unmatched" ],
                  "source" : {
                    "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                    "groupId" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                    "id" : "d8c3b0e7-fde2-35cf-a10f-391facd1fc5b",
                    "name" : "Extract New System & Code Array",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "The ID of the ConceptMap that will be used to $translate.",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "a95ef02c-98f4-3af5-92fa-e97a9b116d29",
                  "name" : "ConceptMap ID",
                  "position" : {
                    "x" : 688.0,
                    "y" : -728.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Translate Code",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "This output port will produce flowfiles that contain a couple of attribute \"translatedCode\" and \"translatedSystem\", which will complement the incoming \"code\" and \"system\".\n",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "61b82be6-2018-3e36-ac2d-d47bc2290c00",
                  "name" : "translated system and code",
                  "position" : {
                    "x" : 688.0,
                    "y" : 368.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                "position" : {
                  "x" : 1304.0,
                  "y" : -664.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The purpose of this processor is to extract the translated code from the Terminology Service JSON response.\nThe JSON response looks something like the following:\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n\nThis processor searches the response for a valueCoding.system and a valueCoding.code fields, and since it's a search it puts them in an array.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "d8c3b0e7-fde2-35cf-a10f-391facd1fc5b",
                  "name" : "Extract New System & Code Array",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 640.0,
                    "y" : -208.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "newCodeSystems" : "$..valueCoding.system",
                    "Return Type" : "json",
                    "Null Value Representation" : "empty string",
                    "newCodes" : "$..valueCoding.code",
                    "Path Not Found Behavior" : "warn"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "newCodeSystems" : {
                      "displayName" : "newCodeSystems",
                      "identifiesControllerService" : false,
                      "name" : "newCodeSystems",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "newCodes" : {
                      "displayName" : "newCodes",
                      "identifiesControllerService" : false,
                      "name" : "newCodes",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "5 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "ERROR",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "9f43293b-78a4-38a3-9f1c-02ac252f58b2",
                  "name" : "Log Didn't Find Code Translation",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1296.0,
                    "y" : -600.0
                  },
                  "properties" : {
                    "log-message" : "Translate request failed: GET #{FHIR_URL}/ConceptMap/${conceptMapID}/$translate?code=${code}&system=${valueSet}&_format=json",
                    "log-level" : "error"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#f53d00"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "df763755-467d-3f16-8bc8-df77b10e4061",
                  "name" : "Translate Code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 640.0,
                    "y" : -608.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}/ConceptMap/${conceptMapID}/$translate?code=${code}&system=${valueSet}&_format=json",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "GET",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "c6196b47-633b-387f-8db1-026f29a00a1f",
                  "name" : "Get StructureDefinition from ValueSet ",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 632.0,
                    "y" : 176.0
                  },
                  "properties" : {
                    "translatedCodeSystem" : "${translatedTarget}",
                    "lookup-service" : "98f25974-eb81-3592-8d6a-18edbfce6932",
                    "include-empty-values" : "true"
                  },
                  "propertyDescriptors" : {
                    "translatedCodeSystem" : {
                      "displayName" : "translatedCodeSystem",
                      "identifiesControllerService" : false,
                      "name" : "translatedCodeSystem",
                      "sensitive" : false
                    },
                    "lookup-service" : {
                      "displayName" : "Lookup Service",
                      "identifiesControllerService" : true,
                      "name" : "lookup-service",
                      "sensitive" : false
                    },
                    "include-empty-values" : {
                      "displayName" : "Include Empty Values",
                      "identifiesControllerService" : false,
                      "name" : "include-empty-values",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.LookupAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "619889c4-86fc-319d-91a1-e5873069bf79",
                  "name" : "Log Didn't Find Code Translation",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1312.0,
                    "y" : -208.0
                  },
                  "properties" : {
                    "log-message" : "Could not find `valueCoding` in the $translate JSON response provided.",
                    "log-level" : "warn"
                  },
                  "propertyDescriptors" : {
                    "log-message" : {
                      "displayName" : "Log message",
                      "identifiesControllerService" : false,
                      "name" : "log-message",
                      "sensitive" : false
                    },
                    "log-level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "log-level",
                      "sensitive" : false
                    },
                    "log-prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "log-prefix",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffff0f"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogMessage",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "2287ad5c-0b48-369d-8cff-34cba258da60",
                  "name" : "Adjust MIME Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 640.0,
                    "y" : -400.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "application/json"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "This processor expects that the \"system\" field in the $translate result will have a Value that can be looked up in the StructurDefinition <> ValueSet KeyValue store, that can be mapped to the desired StructureDefinition URL:\n\nFor instance, given the translation result below, there should be an entry from:\n\nhttp://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs -> http://ibm.com/fhir/cdm/StructureDefinition/sex-assigned-at-birth\n\n{\n\t\"resourceType\": \"Parameters\",\n\t\"parameter\": [\n\t\t{\n\t\t\t\"name\": \"result\",\n\t\t\t\"valueBoolean\": true\n\t\t},\n\t\t{\n\t\t\t\"name\": \"match\",\n\t\t\t\"part\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"equivalence\",\n\t\t\t\t\t\"valueCode\": \"equivalent\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"concept\",\n\t\t\t\t\t\"valueCoding\": {\n\t\t\t\t\t\t\"system\": \"http://ibm.com/fhir/cdm/ValueSet/sex-assigned-at-birth-vs\",\n\t\t\t\t\t\t\"code\": \"female\",\n\t\t\t\t\t\t\"display\": \"Female\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "01f5aab3-1fab-3ca5-90ea-ed67d661c245",
                  "identifier" : "bd8afbc1-138a-3db4-bac5-b30a6a9a6f1c",
                  "name" : "Extract New System & Code",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 632.0,
                    "y" : -8.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "translatedTarget" : "${newCodeSystems:jsonPath('$[0]')}",
                    "translatedCode" : "${newCodes:jsonPath('$[0]')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "translatedTarget" : {
                      "displayName" : "translatedTarget",
                      "identifiesControllerService" : false,
                      "name" : "translatedTarget",
                      "sensitive" : false
                    },
                    "translatedCode" : {
                      "displayName" : "translatedCode",
                      "identifiesControllerService" : false,
                      "name" : "translatedCode",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "Input:\nA FHIR Bundle\n\nOutput:\n- The FHIR Bundle persisted in the file system in NIFI_HOME/temp/terminology-flow/{uuid}\n- An attribute set with the bundle identifier bundle.identifier.\n- An attribute called \"translated\" set to false",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "9e32ad38-750a-3586-8456-bde5b0bcecb8",
                    "name" : "success",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "9af68990-3589-358b-9a5e-15678513507a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Each FHIR Bundle that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the bundle. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR bundle that we saved in the previous step.\n\nThis processor will save the ID of this bundle in an attribute called bundle.identifier.",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "5f36cb85-a9e5-36c2-b931-8281513e59a3",
                    "name" : "Set Bundle Identifier",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The original FHIR bundle needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming bundle to the NIFI_HOME/temp/terminology-flow/{uuid}",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "c7a78944-b449-3a2c-ab94-bfa3e2967828",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "d61f33fc-7487-3f75-9a12-efd974481964",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "57127424-b641-32a5-9cb5-520b112243ac",
                    "name" : "fhir-bundle",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Each FHIR Bundle that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the bundle. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR bundle that we saved in the previous step.\n\nThis processor will save the ID of this bundle in an attribute called bundle.identifier.",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "5f36cb85-a9e5-36c2-b931-8281513e59a3",
                    "name" : "Set Bundle Identifier",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "4fe23574-b042-3c52-81aa-40540a67ab55",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The original FHIR bundle needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming bundle to the NIFI_HOME/temp/terminology-flow/{uuid}",
                    "groupId" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                    "id" : "c7a78944-b449-3a2c-ab94-bfa3e2967828",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "57127424-b641-32a5-9cb5-520b112243ac",
                  "name" : "fhir-bundle",
                  "position" : {
                    "x" : 752.0,
                    "y" : -1104.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Persist Bundle",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "9e32ad38-750a-3586-8456-bde5b0bcecb8",
                  "name" : "success",
                  "position" : {
                    "x" : 760.0,
                    "y" : -536.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 760.0,
                  "y" : -1232.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The original FHIR bundle needs to be saved to the file system, because it may be too large to carry over as an Attribute, and we will need to carry over the transformation as flowfiles. We save it to the file system and we will pull it out when we need to modify it.\n\nThis processor saves the incoming bundle to the NIFI_HOME/temp/terminology-flow/{uuid}",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "c7a78944-b449-3a2c-ab94-bfa3e2967828",
                  "name" : "Save Original Bundle File",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 704.0,
                    "y" : -976.0
                  },
                  "properties" : {
                    "Create Missing Directories" : "true",
                    "Directory" : "temp/terminology-flow",
                    "Conflict Resolution Strategy" : "replace"
                  },
                  "propertyDescriptors" : {
                    "Group" : {
                      "displayName" : "Group",
                      "identifiesControllerService" : false,
                      "name" : "Group",
                      "sensitive" : false
                    },
                    "Owner" : {
                      "displayName" : "Owner",
                      "identifiesControllerService" : false,
                      "name" : "Owner",
                      "sensitive" : false
                    },
                    "Create Missing Directories" : {
                      "displayName" : "Create Missing Directories",
                      "identifiesControllerService" : false,
                      "name" : "Create Missing Directories",
                      "sensitive" : false
                    },
                    "Permissions" : {
                      "displayName" : "Permissions",
                      "identifiesControllerService" : false,
                      "name" : "Permissions",
                      "sensitive" : false
                    },
                    "Maximum File Count" : {
                      "displayName" : "Maximum File Count",
                      "identifiesControllerService" : false,
                      "name" : "Maximum File Count",
                      "sensitive" : false
                    },
                    "Last Modified Time" : {
                      "displayName" : "Last Modified Time",
                      "identifiesControllerService" : false,
                      "name" : "Last Modified Time",
                      "sensitive" : false
                    },
                    "Directory" : {
                      "displayName" : "Directory",
                      "identifiesControllerService" : false,
                      "name" : "Directory",
                      "sensitive" : false
                    },
                    "Conflict Resolution Strategy" : {
                      "displayName" : "Conflict Resolution Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Conflict Resolution Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Each FHIR Bundle that comes in will be identified by its unique ID. We can use the existing UUID of the flowfile that contains the bundle. We need to save it to its own attribute because the flowfile will eventually change, and with that the UUID of the flowfiles will change, but we need to be able to reference the FHIR bundle that we saved in the previous step.\n\nThis processor will save the ID of this bundle in an attribute called bundle.identifier.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "4728e720-8720-331e-b14e-4d0ac5ddf8f7",
                  "identifier" : "5f36cb85-a9e5-36c2-b931-8281513e59a3",
                  "name" : "Set Bundle Identifier",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 704.0,
                    "y" : -768.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "bundle.identifier" : "${uuid}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    },
                    "bundle.identifier" : {
                      "displayName" : "bundle.identifier",
                      "identifiesControllerService" : false,
                      "name" : "bundle.identifier",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "Input:\n- An extension flow file that has the \"url\" attribute for its corresponding StructureDefinition\n\nOutput:\n- The ID of the ConceptMap that should be used to translate this extension from its current valueSet to a different valueSet. This ID will be in an attribute called \"conceptMapID\"\n- An attribute \"valueSet\" which will include the ValueSet for the StructureDefinition in the \"url\"",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "b35f8136-fd69-33c5-b0b1-81f913721289",
                    "name" : "Query ConceptMap for ValueSet",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "57dab1bc-5d0d-382d-a8a5-77ccf14bf5a0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "deaafe90-1af1-3b15-ba16-ec528c0a8fa0",
                    "name" : "Get ValueSet from StructureDefinition",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "deaafe90-1af1-3b15-ba16-ec528c0a8fa0",
                    "name" : "Get ValueSet from StructureDefinition",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "37be9eb1-8085-34af-9af1-b04a37d107c0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "d68cfd85-0adc-3963-9d0e-b152598330c0",
                    "name" : "extensions",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "3799b1f5-fdbb-3d2c-8ef6-f5a8a64203b4",
                    "name" : "concept-map-id",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "78f43741-6bb1-3819-893a-7f21311a52ac",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "11d27c8d-15b7-3014-a192-de20c24d4631",
                    "name" : "Get ConceptMap ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "4dc3a9f3-3bdc-3eec-a38e-fa6aa4741e6a",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "ff41100d-ae92-3749-a829-fe054761ca18",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "conceptmaps",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "b35f8136-fd69-33c5-b0b1-81f913721289",
                    "name" : "Query ConceptMap for ValueSet",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "11d27c8d-15b7-3014-a192-de20c24d4631",
                    "name" : "Get ConceptMap ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "6e1526e2-03b7-3945-93d6-487b2e9ac5c9",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "split" ],
                  "source" : {
                    "comments" : "Get the requested ConceptMap out of the array if it's there.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "2ddd9c94-c9c8-3273-b12c-c2bd8dfedab3",
                    "name" : "Split ConceptMaps",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Get the requested ConceptMap out of the array if it's there.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "2ddd9c94-c9c8-3273-b12c-c2bd8dfedab3",
                    "name" : "Split ConceptMaps",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "5a77faaf-10b5-3252-ad1d-7d4786247d82",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                    "groupId" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                    "id" : "4dc3a9f3-3bdc-3eec-a38e-fa6aa4741e6a",
                    "name" : "Adjust MIME Type",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "d68cfd85-0adc-3963-9d0e-b152598330c0",
                  "name" : "extensions",
                  "position" : {
                    "x" : 383.0423057003484,
                    "y" : -1267.372930215462
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Get Matching ConceptMap",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "3799b1f5-fdbb-3d2c-8ef6-f5a8a64203b4",
                  "name" : "concept-map-id",
                  "position" : {
                    "x" : 392.0,
                    "y" : -200.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion FHIR Parameter Context",
                "position" : {
                  "x" : 1312.0,
                  "y" : -912.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "No Retry", "Retry", "Original", "Failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Query the FHIR server for the ConceptMap whose source value set is the value set in the ${valueSet} attribute.\nThis attribute was obtained by mapping the StructureDefinition to a ValueSet.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "b35f8136-fd69-33c5-b0b1-81f913721289",
                  "name" : "Query ConceptMap for ValueSet",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 328.0,
                    "y" : -984.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{FHIR_UserPwd}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{FHIR_URL}/ConceptMap?source-system=${valueSet}&_count=1&_format=json",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "GET",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{FHIR_User}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Extracts the ConceptMapID into a n attribute called \"conceptMapID\"",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "11d27c8d-15b7-3014-a192-de20c24d4631",
                  "name" : "Get ConceptMap ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 336.0,
                    "y" : -400.0
                  },
                  "properties" : {
                    "conceptMapID" : "$.resource.id",
                    "Destination" : "flowfile-attribute",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "warn"
                  },
                  "propertyDescriptors" : {
                    "conceptMapID" : {
                      "displayName" : "conceptMapID",
                      "identifiesControllerService" : false,
                      "name" : "conceptMapID",
                      "sensitive" : false
                    },
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "FHIR Extension objects have a URL and some value. The URL points to the StructureDefinition that describes the extension, more details here: https://www.hl7.org/fhir/extensibility.html\n\nThis Processor will look the StructureDefinition in a Map. That Map will have the mappings from StructureDefinition to ValueSet to query.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "deaafe90-1af1-3b15-ba16-ec528c0a8fa0",
                  "name" : "Get ValueSet from StructureDefinition",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 328.0,
                    "y" : -1176.0
                  },
                  "properties" : {
                    "valueSet" : "${url}",
                    "lookup-service" : "98f25974-eb81-3592-8d6a-18edbfce6932",
                    "include-empty-values" : "true"
                  },
                  "propertyDescriptors" : {
                    "valueSet" : {
                      "displayName" : "valueSet",
                      "identifiesControllerService" : false,
                      "name" : "valueSet",
                      "sensitive" : false
                    },
                    "lookup-service" : {
                      "displayName" : "Lookup Service",
                      "identifiesControllerService" : true,
                      "name" : "lookup-service",
                      "sensitive" : false
                    },
                    "include-empty-values" : {
                      "displayName" : "Include Empty Values",
                      "identifiesControllerService" : false,
                      "name" : "include-empty-values",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.LookupAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "original", "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Get the requested ConceptMap out of the array if it's there.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "2ddd9c94-c9c8-3273-b12c-c2bd8dfedab3",
                  "name" : "Split ConceptMaps",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 336.0,
                    "y" : -592.0
                  },
                  "properties" : {
                    "Null Value Representation" : "empty string",
                    "JsonPath Expression" : "entry"
                  },
                  "propertyDescriptors" : {
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "JsonPath Expression" : {
                      "displayName" : "JsonPath Expression",
                      "identifiesControllerService" : false,
                      "name" : "JsonPath Expression",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.SplitJson",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "b7daca9b-4a11-34a8-9c52-2410047cd375",
                  "identifier" : "4dc3a9f3-3bdc-3eec-a38e-fa6aa4741e6a",
                  "name" : "Adjust MIME Type",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 336.0,
                    "y" : -784.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "application/json"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "d85b424b-19a8-3e7b-ac44-ecc9fa245a66",
                    "name" : "Update \"translated' Attribute",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "8ec4ccfe-7c56-3c19-83f3-728f189f5073",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "5a0007be-90f6-34fd-b3b3-2b23b3eed2e6",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "52aabf72-5949-3701-ae38-e3abe8977abb",
                    "name" : "Load Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "7466789c-141b-3494-bb38-48880a025987",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "2645be87-29d4-33eb-a193-bf9e15b930fc",
                    "name" : "translated-system-and-code",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "29e166a7-5c69-3a36-a3fa-ac883c6352da",
                    "name" : "updated-bundle-file",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "32486d8c-ab9d-32cf-85cd-854b5eba9427",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "d85b424b-19a8-3e7b-ac44-ecc9fa245a66",
                    "name" : "Update \"translated' Attribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "b1f0a3dc-c50c-396f-af26-e6ddc06cfa3c",
                    "name" : "Replace Extension Text",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "650e1982-d700-34e7-8097-e12c3585703c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "52aabf72-5949-3701-ae38-e3abe8977abb",
                    "name" : "Load Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ {
                    "x" : 1296.0,
                    "y" : -920.0
                  }, {
                    "x" : 1224.0,
                    "y" : -968.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "5a0007be-90f6-34fd-b3b3-2b23b3eed2e6",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "d61e3045-c689-37c5-93fc-604222d9744d",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "5a0007be-90f6-34fd-b3b3-2b23b3eed2e6",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "5a0007be-90f6-34fd-b3b3-2b23b3eed2e6",
                    "name" : "Save Original Bundle File",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "a64e339b-d7fe-3e7e-b754-7017115fba47",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                    "id" : "b1f0a3dc-c50c-396f-af26-e6ddc06cfa3c",
                    "name" : "Replace Extension Text",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "2645be87-29d4-33eb-a193-bf9e15b930fc",
                  "name" : "translated-system-and-code",
                  "position" : {
                    "x" : 80.0,
                    "y" : -992.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "Update Bundle File",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "29e166a7-5c69-3a36-a3fa-ac883c6352da",
                  "name" : "updated-bundle-file",
                  "position" : {
                    "x" : 1592.0,
                    "y" : -624.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "position" : {
                  "x" : 1296.0,
                  "y" : -408.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "5a0007be-90f6-34fd-b3b3-2b23b3eed2e6",
                  "name" : "Save Original Bundle File",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1080.0,
                    "y" : -840.0
                  },
                  "properties" : {
                    "Create Missing Directories" : "true",
                    "Directory" : "temp/terminology-flow",
                    "Conflict Resolution Strategy" : "replace"
                  },
                  "propertyDescriptors" : {
                    "Group" : {
                      "displayName" : "Group",
                      "identifiesControllerService" : false,
                      "name" : "Group",
                      "sensitive" : false
                    },
                    "Owner" : {
                      "displayName" : "Owner",
                      "identifiesControllerService" : false,
                      "name" : "Owner",
                      "sensitive" : false
                    },
                    "Create Missing Directories" : {
                      "displayName" : "Create Missing Directories",
                      "identifiesControllerService" : false,
                      "name" : "Create Missing Directories",
                      "sensitive" : false
                    },
                    "Permissions" : {
                      "displayName" : "Permissions",
                      "identifiesControllerService" : false,
                      "name" : "Permissions",
                      "sensitive" : false
                    },
                    "Maximum File Count" : {
                      "displayName" : "Maximum File Count",
                      "identifiesControllerService" : false,
                      "name" : "Maximum File Count",
                      "sensitive" : false
                    },
                    "Last Modified Time" : {
                      "displayName" : "Last Modified Time",
                      "identifiesControllerService" : false,
                      "name" : "Last Modified Time",
                      "sensitive" : false
                    },
                    "Directory" : {
                      "displayName" : "Directory",
                      "identifiesControllerService" : false,
                      "name" : "Directory",
                      "sensitive" : false
                    },
                    "Conflict Resolution Strategy" : {
                      "displayName" : "Conflict Resolution Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Conflict Resolution Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.PutFile",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "b1f0a3dc-c50c-396f-af26-e6ddc06cfa3c",
                  "name" : "Replace Extension Text",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 480.0,
                    "y" : -840.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(\"url\"\\s*:\\s*)\"(${url})\"(.+\"valueCode\"\\s*:\\s*)\"(${code})\"",
                    "Replacement Value" : "$1\"${translatedCodeSystem}\"$3\"${translatedCode}\"",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "3 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "d85b424b-19a8-3e7b-ac44-ecc9fa245a66",
                  "name" : "Update \"translated' Attribute",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1520.0,
                    "y" : -848.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "translated" : "true"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "translated" : {
                      "displayName" : "translated",
                      "identifiesControllerService" : false,
                      "name" : "translated",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "permission.denied", "not.found" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "6b3b1976-cabc-3b49-a513-6ad70f346582",
                  "identifier" : "52aabf72-5949-3701-ae38-e3abe8977abb",
                  "name" : "Load Original Bundle File",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 24.0,
                    "y" : -848.0
                  },
                  "properties" : {
                    "Move Conflict Strategy" : "Rename",
                    "Log level when file not found" : "ERROR",
                    "Log level when permission denied" : "ERROR",
                    "File to Fetch" : "temp/terminology-flow/${filename}",
                    "Completion Strategy" : "None"
                  },
                  "propertyDescriptors" : {
                    "Move Conflict Strategy" : {
                      "displayName" : "Move Conflict Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Move Conflict Strategy",
                      "sensitive" : false
                    },
                    "Log level when file not found" : {
                      "displayName" : "Log level when file not found",
                      "identifiesControllerService" : false,
                      "name" : "Log level when file not found",
                      "sensitive" : false
                    },
                    "Move Destination Directory" : {
                      "displayName" : "Move Destination Directory",
                      "identifiesControllerService" : false,
                      "name" : "Move Destination Directory",
                      "sensitive" : false
                    },
                    "Log level when permission denied" : {
                      "displayName" : "Log level when permission denied",
                      "identifiesControllerService" : false,
                      "name" : "Log level when permission denied",
                      "sensitive" : false
                    },
                    "File to Fetch" : {
                      "displayName" : "File to Fetch",
                      "identifiesControllerService" : false,
                      "name" : "File to Fetch",
                      "sensitive" : false
                    },
                    "Completion Strategy" : {
                      "displayName" : "Completion Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Completion Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.FetchFile",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "c9fc90a5-0310-38fd-b85d-e1c4ea94ea29",
                "name" : "Wait For All Extensions Processing",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 280.0,
                  "y" : -752.0
                },
                "properties" : {
                  "wait-buffer-count" : "1",
                  "wait-mode" : "wait",
                  "attribute-copy-mode" : "keeporiginal",
                  "distributed-cache-service" : "22666e61-4eed-3430-9789-3e9095c20016",
                  "releasable-flowfile-count" : "1",
                  "release-signal-id" : "${bundle.identifier}",
                  "signal-counter-name" : "default",
                  "expiration-duration" : "1 min",
                  "target-signal-count" : "${fragment.count}"
                },
                "propertyDescriptors" : {
                  "wait-buffer-count" : {
                    "displayName" : "Wait Buffer Count",
                    "identifiesControllerService" : false,
                    "name" : "wait-buffer-count",
                    "sensitive" : false
                  },
                  "wait-mode" : {
                    "displayName" : "Wait Mode",
                    "identifiesControllerService" : false,
                    "name" : "wait-mode",
                    "sensitive" : false
                  },
                  "attribute-copy-mode" : {
                    "displayName" : "Attribute Copy Mode",
                    "identifiesControllerService" : false,
                    "name" : "attribute-copy-mode",
                    "sensitive" : false
                  },
                  "distributed-cache-service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "distributed-cache-service",
                    "sensitive" : false
                  },
                  "releasable-flowfile-count" : {
                    "displayName" : "Releasable FlowFile Count",
                    "identifiesControllerService" : false,
                    "name" : "releasable-flowfile-count",
                    "sensitive" : false
                  },
                  "release-signal-id" : {
                    "displayName" : "Release Signal Identifier",
                    "identifiesControllerService" : false,
                    "name" : "release-signal-id",
                    "sensitive" : false
                  },
                  "signal-counter-name" : {
                    "displayName" : "Signal Counter Name",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-name",
                    "sensitive" : false
                  },
                  "expiration-duration" : {
                    "displayName" : "Expiration Duration",
                    "identifiesControllerService" : false,
                    "name" : "expiration-duration",
                    "sensitive" : false
                  },
                  "target-signal-count" : {
                    "displayName" : "Target Signal Count",
                    "identifiesControllerService" : false,
                    "name" : "target-signal-count",
                    "sensitive" : false
                  },
                  "wait-penalty-duration" : {
                    "displayName" : "Wait Penalty Duration",
                    "identifiesControllerService" : false,
                    "name" : "wait-penalty-duration",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "1 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.Wait",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success", "failure" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "2e9bc130-21eb-38f0-8fab-9d9d5e237b1e",
                "name" : "Notify Extension Processed (No T9N)",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 784.0,
                  "y" : -560.0
                },
                "properties" : {
                  "signal-counter-delta" : "1",
                  "distributed-cache-service" : "22666e61-4eed-3430-9789-3e9095c20016",
                  "signal-buffer-count" : "1",
                  "release-signal-id" : "${bundle.identifier}",
                  "signal-counter-name" : "default",
                  "attribute-cache-regex" : "translated"
                },
                "propertyDescriptors" : {
                  "signal-counter-delta" : {
                    "displayName" : "Signal Counter Delta",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-delta",
                    "sensitive" : false
                  },
                  "distributed-cache-service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "distributed-cache-service",
                    "sensitive" : false
                  },
                  "signal-buffer-count" : {
                    "displayName" : "Signal Buffer Count",
                    "identifiesControllerService" : false,
                    "name" : "signal-buffer-count",
                    "sensitive" : false
                  },
                  "release-signal-id" : {
                    "displayName" : "Release Signal Identifier",
                    "identifiesControllerService" : false,
                    "name" : "release-signal-id",
                    "sensitive" : false
                  },
                  "signal-counter-name" : {
                    "displayName" : "Signal Counter Name",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-name",
                    "sensitive" : false
                  },
                  "attribute-cache-regex" : {
                    "displayName" : "Attribute Cache Regex",
                    "identifiesControllerService" : false,
                    "name" : "attribute-cache-regex",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.Notify",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success", "failure" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "2b21898a-24a7-3eeb-9a5a-719737f480ce",
                "name" : "Notify Extension Processed (T9N)",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 1312.0,
                  "y" : -168.0
                },
                "properties" : {
                  "signal-counter-delta" : "1",
                  "distributed-cache-service" : "22666e61-4eed-3430-9789-3e9095c20016",
                  "signal-buffer-count" : "1",
                  "release-signal-id" : "${bundle.identifier}",
                  "signal-counter-name" : "default",
                  "attribute-cache-regex" : "translated"
                },
                "propertyDescriptors" : {
                  "signal-counter-delta" : {
                    "displayName" : "Signal Counter Delta",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-delta",
                    "sensitive" : false
                  },
                  "distributed-cache-service" : {
                    "displayName" : "Distributed Cache Service",
                    "identifiesControllerService" : true,
                    "name" : "distributed-cache-service",
                    "sensitive" : false
                  },
                  "signal-buffer-count" : {
                    "displayName" : "Signal Buffer Count",
                    "identifiesControllerService" : false,
                    "name" : "signal-buffer-count",
                    "sensitive" : false
                  },
                  "release-signal-id" : {
                    "displayName" : "Release Signal Identifier",
                    "identifiesControllerService" : false,
                    "name" : "release-signal-id",
                    "sensitive" : false
                  },
                  "signal-counter-name" : {
                    "displayName" : "Signal Counter Name",
                    "identifiesControllerService" : false,
                    "name" : "signal-counter-name",
                    "sensitive" : false
                  },
                  "attribute-cache-regex" : {
                    "displayName" : "Attribute Cache Regex",
                    "identifiesControllerService" : false,
                    "name" : "attribute-cache-regex",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.Notify",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "This processor looks for an attribute \"code\" and creates to outputs based on the presence of that attribute.",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "83204c50-4d7d-3889-9f1c-c2205fda6b89",
                "identifier" : "65236e8c-3b6d-3005-9c27-f9478585a22d",
                "name" : "If \"code\" Then/Else",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 784.0,
                  "y" : -744.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "extension-without-code" : "${code:isEmpty()}",
                  "extension-with-code" : "${code:isEmpty():not()}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "extension-without-code" : {
                    "displayName" : "extension-without-code",
                    "identifiesControllerService" : false,
                    "name" : "extension-without-code",
                    "sensitive" : false
                  },
                  "extension-with-code" : {
                    "displayName" : "extension-with-code",
                    "identifiesControllerService" : false,
                    "name" : "extension-with-code",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ffffff"
                },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "This is a test processor that will read FHIR bundles (such as those produced by synthea) from a directory located at NIFI_HOME/temp.\n\nThis processor is meant to be used for testing only.",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "7180ede7-60fb-3a15-b7b4-4e1d69b08295",
              "identifier" : "5daf5a86-b357-3090-b741-a1441ede8108",
              "name" : "Test Only: Read Mock Bundles",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : -504.0,
                "y" : -40.0
              },
              "properties" : {
                "Keep Source File" : "true",
                "Minimum File Age" : "0 sec",
                "Polling Interval" : "0 sec",
                "Input Directory" : "temp/",
                "Batch Size" : "10",
                "Minimum File Size" : "0 B",
                "Ignore Hidden Files" : "true",
                "Recurse Subdirectories" : "true",
                "File Filter" : "[^\\.].*"
              },
              "propertyDescriptors" : {
                "Keep Source File" : {
                  "displayName" : "Keep Source File",
                  "identifiesControllerService" : false,
                  "name" : "Keep Source File",
                  "sensitive" : false
                },
                "Minimum File Age" : {
                  "displayName" : "Minimum File Age",
                  "identifiesControllerService" : false,
                  "name" : "Minimum File Age",
                  "sensitive" : false
                },
                "Polling Interval" : {
                  "displayName" : "Polling Interval",
                  "identifiesControllerService" : false,
                  "name" : "Polling Interval",
                  "sensitive" : false
                },
                "Input Directory" : {
                  "displayName" : "Input Directory",
                  "identifiesControllerService" : false,
                  "name" : "Input Directory",
                  "sensitive" : false
                },
                "Maximum File Age" : {
                  "displayName" : "Maximum File Age",
                  "identifiesControllerService" : false,
                  "name" : "Maximum File Age",
                  "sensitive" : false
                },
                "Batch Size" : {
                  "displayName" : "Batch Size",
                  "identifiesControllerService" : false,
                  "name" : "Batch Size",
                  "sensitive" : false
                },
                "Maximum File Size" : {
                  "displayName" : "Maximum File Size",
                  "identifiesControllerService" : false,
                  "name" : "Maximum File Size",
                  "sensitive" : false
                },
                "Minimum File Size" : {
                  "displayName" : "Minimum File Size",
                  "identifiesControllerService" : false,
                  "name" : "Minimum File Size",
                  "sensitive" : false
                },
                "Ignore Hidden Files" : {
                  "displayName" : "Ignore Hidden Files",
                  "identifiesControllerService" : false,
                  "name" : "Ignore Hidden Files",
                  "sensitive" : false
                },
                "Recurse Subdirectories" : {
                  "displayName" : "Recurse Subdirectories",
                  "identifiesControllerService" : false,
                  "name" : "Recurse Subdirectories",
                  "sensitive" : false
                },
                "File Filter" : {
                  "displayName" : "File Filter",
                  "identifiesControllerService" : false,
                  "name" : "File Filter",
                  "sensitive" : false
                },
                "Path Filter" : {
                  "displayName" : "Path Filter",
                  "identifiesControllerService" : false,
                  "name" : "Path Filter",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "30 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.GetFile",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "df46e67b-d22c-3487-a8b8-eb6efe3b00e5",
            "identifier" : "6af877cd-42ea-31d7-a8e5-8a47b7bb83ce",
            "name" : "UpdateAttribute",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 1480.0,
              "y" : 480.0
            },
            "properties" : {
              "ResolveTerminology" : "Enriched",
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100"
            },
            "propertyDescriptors" : {
              "ResolveTerminology" : {
                "displayName" : "ResolveTerminology",
                "identifiesControllerService" : false,
                "name" : "ResolveTerminology",
                "sensitive" : false
              },
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        }, {
          "comments" : "",
          "componentType" : "PROCESS_GROUP",
          "connections" : [ {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "id" : "9748656a-64fc-3a19-b1da-fed05b6122d0",
              "name" : "FHIR Resource",
              "type" : "INPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "3ce0a3f0-ab94-35fa-8357-29d0c9b63390",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
              "id" : "5006a911-4828-31a4-8076-dd2276fb85fd",
              "name" : "FHIR Bundle",
              "type" : "INPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
              "id" : "b4692cac-b10f-3339-b529-93b7b7f144d3",
              "name" : "Update DeidentifyData to Enriched",
              "type" : "PROCESSOR"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "391a7a36-7ff6-3644-8e81-840c6d50e276",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "" ],
            "source" : {
              "comments" : "",
              "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "id" : "3215d607-5150-3fd7-95ae-845cc6a48bf9",
              "name" : "FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "zIndex" : 0
          }, {
            "backPressureDataSizeThreshold" : "1 GB",
            "backPressureObjectThreshold" : 10000,
            "bends" : [ ],
            "componentType" : "CONNECTION",
            "destination" : {
              "comments" : "",
              "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
              "id" : "9f47bbf9-2516-3026-8aeb-4ee4e047a085",
              "name" : "FHIR Resource",
              "type" : "OUTPUT_PORT"
            },
            "flowFileExpiration" : "0 sec",
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "7cd96fec-df9f-383c-8e4d-66f71b9106f0",
            "labelIndex" : 1,
            "loadBalanceCompression" : "DO_NOT_COMPRESS",
            "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
            "name" : "",
            "partitioningAttribute" : "",
            "prioritizers" : [ ],
            "selectedRelationships" : [ "success" ],
            "source" : {
              "comments" : "",
              "groupId" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
              "id" : "b4692cac-b10f-3339-b529-93b7b7f144d3",
              "name" : "Update DeidentifyData to Enriched",
              "type" : "PROCESSOR"
            },
            "zIndex" : 0
          } ],
          "controllerServices" : [ {
            "bundle" : {
              "artifact" : "nifi-distributed-cache-services-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "CONTROLLER_SERVICE",
            "controllerServiceApis" : [ {
              "bundle" : {
                "artifact" : "nifi-standard-services-api-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "type" : "org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient"
            }, {
              "bundle" : {
                "artifact" : "nifi-standard-services-api-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClient"
            } ],
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "75e9f18c-ca7e-3ddc-8ef9-cbfa1e22c076",
            "name" : "DistributedMapCacheClientService",
            "properties" : {
              "Server Port" : "4558",
              "Server Hostname" : "localhost",
              "Communications Timeout" : "30 secs"
            },
            "propertyDescriptors" : {
              "SSL Context Service" : {
                "displayName" : "SSL Context Service",
                "identifiesControllerService" : true,
                "name" : "SSL Context Service",
                "sensitive" : false
              },
              "Server Port" : {
                "displayName" : "Server Port",
                "identifiesControllerService" : false,
                "name" : "Server Port",
                "sensitive" : false
              },
              "Server Hostname" : {
                "displayName" : "Server Hostname",
                "identifiesControllerService" : false,
                "name" : "Server Hostname",
                "sensitive" : false
              },
              "Communications Timeout" : {
                "displayName" : "Communications Timeout",
                "identifiesControllerService" : false,
                "name" : "Communications Timeout",
                "sensitive" : false
              }
            },
            "type" : "org.apache.nifi.distributed.cache.client.DistributedMapCacheClientService"
          } ],
          "flowFileConcurrency" : "UNBOUNDED",
          "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
          "funnels" : [ ],
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
          "inputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "INPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "5006a911-4828-31a4-8076-dd2276fb85fd",
            "name" : "FHIR Bundle",
            "position" : {
              "x" : -488.0,
              "y" : -32.0
            },
            "type" : "INPUT_PORT"
          } ],
          "labels" : [ ],
          "name" : "De-identify Patient Data",
          "outputPorts" : [ {
            "allowRemoteAccess" : false,
            "comments" : "",
            "componentType" : "OUTPUT_PORT",
            "concurrentlySchedulableTaskCount" : 1,
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "9f47bbf9-2516-3026-8aeb-4ee4e047a085",
            "name" : "FHIR Resource",
            "position" : {
              "x" : 1456.0,
              "y" : -32.0
            },
            "type" : "OUTPUT_PORT"
          } ],
          "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
          "position" : {
            "x" : 912.0,
            "y" : 768.0
          },
          "processGroups" : [ {
            "comments" : "",
            "componentType" : "PROCESS_GROUP",
            "connections" : [ {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 384.0,
                "y" : 1608.0
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "e119565f-da18-30d6-8a65-a87bc593597e",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "id" : "e54cd40d-e73e-3f96-ba52-ddea3156a832",
                "name" : "original",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "3215d607-5150-3fd7-95ae-845cc6a48bf9",
                "name" : "FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "64fb8f50-745d-33c7-92bb-428e2b247df3",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "da6e6350-82c0-3b16-9789-9b9cbd398651",
                "name" : "Error Log",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "e2f92577-fce8-3e17-8a8f-0ea9962a8803",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure", "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "8d584c19-2547-3b58-bb64-36d399cc6e32",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "id" : "4f02616d-9085-3fb1-b885-0f0f623185c6",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "0e7d0a46-1f49-3ecd-840a-89fd674915b8",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "e513b5d3-91de-3f2b-a568-d9be00c61384",
                "name" : "Set Fragment Count to 1",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "2bbc46e5-4303-38ea-b741-11c9e5bf9675",
                "name" : "Error Log",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "6116d066-4f12-32f8-bd7a-895497d3ebe0",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "expired", "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 514.3927612304688,
                "y" : 1892.1212158203125
              }, {
                "x" : 522.3927612304688,
                "y" : 1964.1212158203125
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "6547c069-9685-38d4-abb4-fc40309f5ad0",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "wait" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "45dd9602-d587-3d25-aa9d-a2a907c6c9f9",
                "name" : "Route On Resource Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "659c9051-099d-303c-94a1-278951fb110d",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "7ae5f3ae-8cd0-3356-919b-2a0c955673a5",
                "name" : "Set RequestId from Input ResourceId",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "8d584c19-2547-3b58-bb64-36d399cc6e32",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "3b34e015-6647-37c1-b47a-908145d800b0",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "9748656a-64fc-3a19-b1da-fed05b6122d0",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "id" : "bb143f8c-5066-3063-8688-f4dcd3dc3bee",
                "name" : "FHIR Bundle",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "5202403c-7970-3fe3-9c58-7b6cf2fa611d",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "bundle" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "45dd9602-d587-3d25-aa9d-a2a907c6c9f9",
                "name" : "Route On Resource Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ {
                "x" : 1322.3927612304688,
                "y" : 1701.317626953125
              } ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "47803c62-6cde-353f-83ba-365bb97f5048",
                "name" : "Wait for all Resources to be Complete",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "f7fc0cb8-683a-3f24-a0bf-6109b8666c04",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "success" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "e513b5d3-91de-3f2b-a568-d9be00c61384",
                "name" : "Set Fragment Count to 1",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "e513b5d3-91de-3f2b-a568-d9be00c61384",
                "name" : "Set Fragment Count to 1",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "c5fa3810-f279-358c-9268-7719949f8b75",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "unmatched" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "45dd9602-d587-3d25-aa9d-a2a907c6c9f9",
                "name" : "Route On Resource Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "7ae5f3ae-8cd0-3356-919b-2a0c955673a5",
                "name" : "Set RequestId from Input ResourceId",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "d7a924d3-85c6-3399-915b-1d806343668a",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "matched" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "8d584c19-2547-3b58-bb64-36d399cc6e32",
                "name" : "Retrieve Resource Id and Type",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "bd3e5bf4-80b8-3b56-b67e-0a60bf965a70",
                "name" : "Error Log",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "09d4843d-5c94-3d9e-be6d-2234625c17fb",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "failure" ],
              "source" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "06e1e366-acb8-3920-8728-f7c6fdf90a02",
                "name" : "Notify Resource Complete",
                "type" : "PROCESSOR"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
                "id" : "06e1e366-acb8-3920-8728-f7c6fdf90a02",
                "name" : "Notify Resource Complete",
                "type" : "PROCESSOR"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "4e9edac6-02d8-33bd-98aa-c7058a02e040",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "id" : "e8cd59bf-3b5a-368a-90f8-67e17a93b1be",
                "name" : "Processed FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            }, {
              "backPressureDataSizeThreshold" : "1 GB",
              "backPressureObjectThreshold" : 10000,
              "bends" : [ ],
              "componentType" : "CONNECTION",
              "destination" : {
                "comments" : "",
                "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "id" : "4f02616d-9085-3fb1-b885-0f0f623185c6",
                "name" : "FHIR Resource",
                "type" : "INPUT_PORT"
              },
              "flowFileExpiration" : "0 sec",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "7d31f368-3151-334b-a79b-2c04d37c1495",
              "labelIndex" : 1,
              "loadBalanceCompression" : "DO_NOT_COMPRESS",
              "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
              "name" : "",
              "partitioningAttribute" : "",
              "prioritizers" : [ ],
              "selectedRelationships" : [ "" ],
              "source" : {
                "comments" : "",
                "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "id" : "8e0f35bb-9a7d-36d7-9d90-982356c5d053",
                "name" : "FHIR Resource",
                "type" : "OUTPUT_PORT"
              },
              "zIndex" : 0
            } ],
            "controllerServices" : [ ],
            "flowFileConcurrency" : "UNBOUNDED",
            "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
            "funnels" : [ ],
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
            "inputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "INPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "9748656a-64fc-3a19-b1da-fed05b6122d0",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 744.0,
                "y" : 152.0
              },
              "type" : "INPUT_PORT"
            } ],
            "labels" : [ {
              "componentType" : "LABEL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "height" : 72.0,
              "identifier" : "c8f85c19-328b-3fd5-9cd5-19609137722a",
              "label" : "For each identified resource, process it via \"De-Identify FHIR Resource\", \nbut wait for all to complete before returning.  Each resource will trigger \na Notify, and the Wait will pause until all resources have notified.",
              "position" : {
                "x" : 592.0,
                "y" : 888.0
              },
              "style" : {
                "font-size" : "16px"
              },
              "width" : 544.0
            } ],
            "name" : "De-Identify FHIR Bundle",
            "outputPorts" : [ {
              "allowRemoteAccess" : false,
              "comments" : "",
              "componentType" : "OUTPUT_PORT",
              "concurrentlySchedulableTaskCount" : 1,
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "3215d607-5150-3fd7-95ae-845cc6a48bf9",
              "name" : "FHIR Resource",
              "position" : {
                "x" : 752.0,
                "y" : 2064.0
              },
              "type" : "OUTPUT_PORT"
            } ],
            "position" : {
              "x" : 72.0,
              "y" : -96.0
            },
            "processGroups" : [ {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "e54cd40d-e73e-3f96-ba52-ddea3156a832",
                  "name" : "original",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "f1d61850-a1b7-3793-8752-0cc8027d5ced",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "original" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "5e241230-168c-3588-ba60-adee32fda49e",
                  "name" : "Split Bundle into Resources",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "8e0f35bb-9a7d-36d7-9d90-982356c5d053",
                  "name" : "FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "3de7adb4-2d88-3ff2-9c66-82a0ab0b740d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "39656c2b-fb3e-3260-8c80-185e563a7522",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "5e241230-168c-3588-ba60-adee32fda49e",
                  "name" : "Split Bundle into Resources",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "5d701ab8-e017-367b-9d42-f9d59e8facae",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "bb143f8c-5066-3063-8688-f4dcd3dc3bee",
                  "name" : "FHIR Bundle",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "39656c2b-fb3e-3260-8c80-185e563a7522",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "c33ae666-f7e0-31d4-9fe5-89d42ea7265d",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "matched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "aae38046-7c59-3b3f-9047-68a26e286986",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "2b28ec05-8f2b-3402-a6e3-d5a593f98fca",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "60cea8f1-ede8-342a-a805-b7faa0b8663a",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure", "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "39656c2b-fb3e-3260-8c80-185e563a7522",
                  "name" : "Retrieve Resource Id and Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "2b28ec05-8f2b-3402-a6e3-d5a593f98fca",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "4aae0374-87ff-3906-8b8b-641023a3a94c",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "aae38046-7c59-3b3f-9047-68a26e286986",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "2b28ec05-8f2b-3402-a6e3-d5a593f98fca",
                  "name" : "Error Log",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "fc5eeb5d-3853-3677-a56e-ad7055aa5889",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "failure" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "5e241230-168c-3588-ba60-adee32fda49e",
                  "name" : "Split Bundle into Resources",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "aae38046-7c59-3b3f-9047-68a26e286986",
                  "name" : "Get Resource From Entry",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "46b76ce3-7448-375a-bbc4-79254dc06881",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "split" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                  "id" : "5e241230-168c-3588-ba60-adee32fda49e",
                  "name" : "Split Bundle into Resources",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "bb143f8c-5066-3063-8688-f4dcd3dc3bee",
                "name" : "FHIR Bundle",
                "position" : {
                  "x" : -208.0,
                  "y" : 600.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ ],
              "name" : "Split FHIR Bundle",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "8e0f35bb-9a7d-36d7-9d90-982356c5d053",
                "name" : "FHIR Resource",
                "position" : {
                  "x" : -208.0,
                  "y" : 1464.0
                },
                "type" : "OUTPUT_PORT"
              }, {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "e54cd40d-e73e-3f96-ba52-ddea3156a832",
                "name" : "original",
                "position" : {
                  "x" : 424.0,
                  "y" : 784.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 8.0,
                "y" : 800.0
              },
              "processGroups" : [ ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ "unmatched" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "aae38046-7c59-3b3f-9047-68a26e286986",
                "name" : "Get Resource From Entry",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -264.0,
                  "y" : 968.0
                },
                "properties" : {
                  "Destination" : "flowfile-content",
                  "resource" : "$.resource",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resource" : {
                    "displayName" : "resource",
                    "identifiesControllerService" : false,
                    "name" : "resource",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "5e241230-168c-3588-ba60-adee32fda49e",
                "name" : "Split Bundle into Resources",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -264.0,
                  "y" : 744.0
                },
                "properties" : {
                  "Null Value Representation" : "empty string",
                  "JsonPath Expression" : "$.entry"
                },
                "propertyDescriptors" : {
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "JsonPath Expression" : {
                    "displayName" : "JsonPath Expression",
                    "identifiesControllerService" : false,
                    "name" : "JsonPath Expression",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.SplitJson",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "39656c2b-fb3e-3260-8c80-185e563a7522",
                "name" : "Retrieve Resource Id and Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -264.0,
                  "y" : 1224.0
                },
                "properties" : {
                  "Destination" : "flowfile-attribute",
                  "resourceId" : "$.id",
                  "patientId" : "$.subject.reference",
                  "Return Type" : "auto-detect",
                  "Null Value Representation" : "empty string",
                  "Path Not Found Behavior" : "ignore",
                  "resourceType" : "$.resourceType"
                },
                "propertyDescriptors" : {
                  "Destination" : {
                    "displayName" : "Destination",
                    "identifiesControllerService" : false,
                    "name" : "Destination",
                    "sensitive" : false
                  },
                  "resourceId" : {
                    "displayName" : "resourceId",
                    "identifiesControllerService" : false,
                    "name" : "resourceId",
                    "sensitive" : false
                  },
                  "patientId" : {
                    "displayName" : "patientId",
                    "identifiesControllerService" : false,
                    "name" : "patientId",
                    "sensitive" : false
                  },
                  "Return Type" : {
                    "displayName" : "Return Type",
                    "identifiesControllerService" : false,
                    "name" : "Return Type",
                    "sensitive" : false
                  },
                  "Null Value Representation" : {
                    "displayName" : "Null Value Representation",
                    "identifiesControllerService" : false,
                    "name" : "Null Value Representation",
                    "sensitive" : false
                  },
                  "Path Not Found Behavior" : {
                    "displayName" : "Path Not Found Behavior",
                    "identifiesControllerService" : false,
                    "name" : "Path Not Found Behavior",
                    "sensitive" : false
                  },
                  "resourceType" : {
                    "displayName" : "resourceType",
                    "identifiesControllerService" : false,
                    "name" : "resourceType",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ "success" ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "42ec6d4e-64b4-345d-bca0-f90f71b0747d",
                "identifier" : "2b28ec05-8f2b-3402-a6e3-d5a593f98fca",
                "name" : "Error Log",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : -936.0,
                  "y" : 984.0
                },
                "properties" : {
                  "character-set" : "utf-8",
                  "Log Level" : "info",
                  "attributes-to-log-regex" : ".*",
                  "Log Payload" : "false"
                },
                "propertyDescriptors" : {
                  "Log prefix" : {
                    "displayName" : "Log prefix",
                    "identifiesControllerService" : false,
                    "name" : "Log prefix",
                    "sensitive" : false
                  },
                  "character-set" : {
                    "displayName" : "Character Set",
                    "identifiesControllerService" : false,
                    "name" : "character-set",
                    "sensitive" : false
                  },
                  "Log Level" : {
                    "displayName" : "Log Level",
                    "identifiesControllerService" : false,
                    "name" : "Log Level",
                    "sensitive" : false
                  },
                  "attributes-to-ignore-regex" : {
                    "displayName" : "Attributes to Ignore by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-ignore-regex",
                    "sensitive" : false
                  },
                  "Attributes to Ignore" : {
                    "displayName" : "Attributes to Ignore",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Ignore",
                    "sensitive" : false
                  },
                  "Attributes to Log" : {
                    "displayName" : "Attributes to Log",
                    "identifiesControllerService" : false,
                    "name" : "Attributes to Log",
                    "sensitive" : false
                  },
                  "attributes-to-log-regex" : {
                    "displayName" : "Attributes to Log by Regular Expression",
                    "identifiesControllerService" : false,
                    "name" : "attributes-to-log-regex",
                    "sensitive" : false
                  },
                  "Log Payload" : {
                    "displayName" : "Log Payload",
                    "identifiesControllerService" : false,
                    "name" : "Log Payload",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ff0000"
                },
                "type" : "org.apache.nifi.processors.standard.LogAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            }, {
              "comments" : "",
              "componentType" : "PROCESS_GROUP",
              "connections" : [ {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "870540bc-b500-30cf-b8f5-f08ac4263521",
                  "name" : "Route on Resource Type",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "ee2d7a56-e927-392c-9461-02400a5bffc8",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "success" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "ae1b3eba-ee3b-3f3e-b06f-16dc7a82665a",
                  "name" : "Set Fragment Count",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "id" : "05a01f32-c958-3ff4-96e0-367242759eb2",
                  "name" : "FHIR Patient",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "8bd37ca2-1920-34e2-b5a0-2aa2e5de2449",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "patients" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "870540bc-b500-30cf-b8f5-f08ac4263521",
                  "name" : "Route on Resource Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "id" : "ebac9b73-6f3e-389e-b397-1889973464f0",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "9d19c26c-1ed0-3023-bac5-6f0dca01e23e",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "others" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "870540bc-b500-30cf-b8f5-f08ac4263521",
                  "name" : "Route on Resource Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "e8cd59bf-3b5a-368a-90f8-67e17a93b1be",
                  "name" : "Processed FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "4e57fcfe-c52f-3d57-82ba-f996d31a6141",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "id" : "c8bddeba-2686-3c27-9b0b-87d85662cfab",
                  "name" : "De-Identified FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "e8cd59bf-3b5a-368a-90f8-67e17a93b1be",
                  "name" : "Processed FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "8271dc05-d240-3f2d-893b-c93dd01506ee",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "ignored resources",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "unmatched" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "870540bc-b500-30cf-b8f5-f08ac4263521",
                  "name" : "Route on Resource Type",
                  "type" : "PROCESSOR"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "e8cd59bf-3b5a-368a-90f8-67e17a93b1be",
                  "name" : "Processed FHIR Resource",
                  "type" : "OUTPUT_PORT"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "69763602-498f-38cc-9ccd-2d5b3ec44fce",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "id" : "6f6f9438-12da-36d8-862e-2c2e95d77c99",
                  "name" : "De-Identified FHIR Patient",
                  "type" : "OUTPUT_PORT"
                },
                "zIndex" : 0
              }, {
                "backPressureDataSizeThreshold" : "1 GB",
                "backPressureObjectThreshold" : 10000,
                "bends" : [ ],
                "componentType" : "CONNECTION",
                "destination" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "ae1b3eba-ee3b-3f3e-b06f-16dc7a82665a",
                  "name" : "Set Fragment Count",
                  "type" : "PROCESSOR"
                },
                "flowFileExpiration" : "0 sec",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "e50a4235-c827-32ed-9807-0bbc661e9788",
                "labelIndex" : 1,
                "loadBalanceCompression" : "DO_NOT_COMPRESS",
                "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                "name" : "",
                "partitioningAttribute" : "",
                "prioritizers" : [ ],
                "selectedRelationships" : [ "" ],
                "source" : {
                  "comments" : "",
                  "groupId" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                  "id" : "4f02616d-9085-3fb1-b885-0f0f623185c6",
                  "name" : "FHIR Resource",
                  "type" : "INPUT_PORT"
                },
                "zIndex" : 0
              } ],
              "controllerServices" : [ ],
              "flowFileConcurrency" : "UNBOUNDED",
              "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
              "funnels" : [ ],
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
              "inputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "INPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "4f02616d-9085-3fb1-b885-0f0f623185c6",
                "name" : "FHIR Resource",
                "position" : {
                  "x" : 888.0,
                  "y" : 1392.0
                },
                "type" : "INPUT_PORT"
              } ],
              "labels" : [ {
                "componentType" : "LABEL",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "height" : 72.0,
                "identifier" : "1f1e85ab-39cd-32d8-8f75-7ab33ef49f9b",
                "label" : "De-identify patient resources.\nUpdate resources referencing a patient Id with the corresponding de-identified id.\nIgnore other resources.",
                "position" : {
                  "x" : 208.0,
                  "y" : 1832.0
                },
                "style" : {
                  "font-size" : "12px"
                },
                "width" : 512.0
              } ],
              "name" : "De-Identify FHIR Resource",
              "outputPorts" : [ {
                "allowRemoteAccess" : false,
                "comments" : "",
                "componentType" : "OUTPUT_PORT",
                "concurrentlySchedulableTaskCount" : 1,
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "e8cd59bf-3b5a-368a-90f8-67e17a93b1be",
                "name" : "Processed FHIR Resource",
                "position" : {
                  "x" : 888.0,
                  "y" : 2256.0
                },
                "type" : "OUTPUT_PORT"
              } ],
              "position" : {
                "x" : 672.0,
                "y" : 1064.0
              },
              "processGroups" : [ {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d55e4868-7953-3ca3-bae1-d9d888466f3c",
                    "name" : "Map Old Patient ID to New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "a7214716-195f-34e4-b58e-5de0dc6907ec",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "898e6aa1-e79f-3671-bf4e-e45f67272d94",
                    "name" : "Save New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "c5ec93b4-46e0-344e-98c2-13101ddc1db0",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "153768b3-6754-36f8-9a4a-8642203e6d90",
                    "name" : "Escape Quotes",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "898e6aa1-e79f-3671-bf4e-e45f67272d94",
                    "name" : "Save New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "0e94924b-d5cc-3ff3-a65c-0be495234c41",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "68d965a7-8dd7-3980-af95-937593a63aae",
                    "name" : "Extract New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "a30c14d1-16fd-372f-81a5-c158ead5f3a8",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "99ae1a96-9fe3-3ab9-8ce9-a28ef1b91cb5",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "68d965a7-8dd7-3980-af95-937593a63aae",
                    "name" : "Extract New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "6240f0fb-08d3-3c43-b1cc-e44b52121863",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "99ae1a96-9fe3-3ab9-8ce9-a28ef1b91cb5",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "8619a16d-0ee4-3555-9341-cd143d0672a1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "898e6aa1-e79f-3671-bf4e-e45f67272d94",
                    "name" : "Save New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "08617980-aa86-3549-8b85-59620203994c",
                    "name" : "Extract De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "7edba407-3cfc-346e-b0eb-23ba7df19186",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "aff35a9e-d40c-3982-8487-ddd66f86af1c",
                    "name" : "REST API De-ID Request",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "6f6f9438-12da-36d8-862e-2c2e95d77c99",
                    "name" : "De-Identified FHIR Patient",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "8d4cab71-fd80-32c0-910c-9baf3e48c1b6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d55e4868-7953-3ca3-bae1-d9d888466f3c",
                    "name" : "Map Old Patient ID to New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "da88063e-faac-3ca1-831c-2c3ca42d98d9",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "aff35a9e-d40c-3982-8487-ddd66f86af1c",
                    "name" : "REST API De-ID Request",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "b9105d33-c964-3de9-a435-afbc588ce83e",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "08617980-aa86-3549-8b85-59620203994c",
                    "name" : "Extract De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "a18cadae-7658-365e-be86-40547e1ed990",
                    "name" : "Prepare Request Body",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "0b30a6b5-112c-3a18-abe5-2c8835837e49",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "641d4572-55cc-3a61-8870-39e51536e989",
                    "name" : "Quote Escaped JSON",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "fd5dd25d-a045-3bb9-a839-92485df449f6",
                    "name" : "Success Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "058f217a-5b9f-3109-a6f8-ea00625c0c03",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d55e4868-7953-3ca3-bae1-d9d888466f3c",
                    "name" : "Map Old Patient ID to New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "641d4572-55cc-3a61-8870-39e51536e989",
                    "name" : "Quote Escaped JSON",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "4588f4c4-aca1-3efd-9ef4-e1a0d638a2fe",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "153768b3-6754-36f8-9a4a-8642203e6d90",
                    "name" : "Escape Quotes",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "182331c2-348a-3800-a94b-183abb8b41e5",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d55e4868-7953-3ca3-bae1-d9d888466f3c",
                    "name" : "Map Old Patient ID to New Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "153768b3-6754-36f8-9a4a-8642203e6d90",
                    "name" : "Escape Quotes",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "be5ae81b-9583-36b6-83cd-7e59b90ec85a",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "b8c4938b-01a7-38c7-835b-6b5367419bb4",
                    "name" : "Drop Unnecessary Fields",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "b8c4938b-01a7-38c7-835b-6b5367419bb4",
                    "name" : "Drop Unnecessary Fields",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "d1f7e6c3-2927-3571-bbb4-766b6daca0b1",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "05a01f32-c958-3ff4-96e0-367242759eb2",
                    "name" : "FHIR Patient",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "e889c79f-8568-354a-9a84-8b1a03fcb8a2",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "a18cadae-7658-365e-be86-40547e1ed990",
                    "name" : "Prepare Request Body",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "99ae1a96-9fe3-3ab9-8ce9-a28ef1b91cb5",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "d813c323-d2d2-37dd-acb7-c7e36139b228",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "split" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "08617980-aa86-3549-8b85-59620203994c",
                    "name" : "Extract De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "aff35a9e-d40c-3982-8487-ddd66f86af1c",
                    "name" : "REST API De-ID Request",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "f9d81b3b-3d94-3891-8b86-1d578aaa0e38",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                    "groupId" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                    "id" : "a18cadae-7658-365e-be86-40547e1ed990",
                    "name" : "Prepare Request Body",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "05a01f32-c958-3ff4-96e0-367242759eb2",
                  "name" : "FHIR Patient",
                  "position" : {
                    "x" : 1240.0,
                    "y" : 728.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "De-Identify Patient",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "6f6f9438-12da-36d8-862e-2c2e95d77c99",
                  "name" : "De-Identified FHIR Patient",
                  "position" : {
                    "x" : 1240.0,
                    "y" : 3040.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                "position" : {
                  "x" : 1160.0,
                  "y" : 1920.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Creates a table of old FHIR patient IDs to new FHIR patient IDs.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "d55e4868-7953-3ca3-bae1-d9d888466f3c",
                  "name" : "Map Old Patient ID to New Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 2816.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "${resourceId}",
                    "Cache update strategy" : "replace",
                    "Distributed Cache Service" : "75e9f18c-ca7e-3ddc-8ef9-cbfa1e22c076",
                    "Max cache entry size" : "1 MB"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Cache update strategy" : {
                      "displayName" : "Cache update strategy",
                      "identifiesControllerService" : false,
                      "name" : "Cache update strategy",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max cache entry size" : {
                      "displayName" : "Max cache entry size",
                      "identifiesControllerService" : false,
                      "name" : "Max cache entry size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.PutDistributedMapCache",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "fd5dd25d-a045-3bb9-a839-92485df449f6",
                  "name" : "Success Log",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1808.0,
                    "y" : 2832.0
                  },
                  "properties" : {
                    "character-set" : "utf-8",
                    "Log Level" : "info",
                    "attributes-to-log-regex" : ".*",
                    "Log Payload" : "false"
                  },
                  "propertyDescriptors" : {
                    "Log prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "Log prefix",
                      "sensitive" : false
                    },
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "Log Level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "Log Level",
                      "sensitive" : false
                    },
                    "attributes-to-ignore-regex" : {
                      "displayName" : "Attributes to Ignore by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-ignore-regex",
                      "sensitive" : false
                    },
                    "Attributes to Ignore" : {
                      "displayName" : "Attributes to Ignore",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Ignore",
                      "sensitive" : false
                    },
                    "Attributes to Log" : {
                      "displayName" : "Attributes to Log",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Log",
                      "sensitive" : false
                    },
                    "attributes-to-log-regex" : {
                      "displayName" : "Attributes to Log by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-log-regex",
                      "sensitive" : false
                    },
                    "Log Payload" : {
                      "displayName" : "Log Payload",
                      "identifiesControllerService" : false,
                      "name" : "Log Payload",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#49d100"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "99ae1a96-9fe3-3ab9-8ce9-a28ef1b91cb5",
                  "name" : "Create FHIR De-ID'd Patient",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 2160.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{DEID_FHIR_SERVER}/Patient",
                    "Content-Type" : "${mime.type}",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "d5e1d5ab-d035-30b5-8ad2-04021d66dfb5",
                  "name" : "Error Log",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 2032.0,
                    "y" : 1840.0
                  },
                  "properties" : {
                    "character-set" : "utf-8",
                    "Log Level" : "info",
                    "attributes-to-log-regex" : ".*",
                    "Log Payload" : "false"
                  },
                  "propertyDescriptors" : {
                    "Log prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "Log prefix",
                      "sensitive" : false
                    },
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "Log Level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "Log Level",
                      "sensitive" : false
                    },
                    "attributes-to-ignore-regex" : {
                      "displayName" : "Attributes to Ignore by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-ignore-regex",
                      "sensitive" : false
                    },
                    "Attributes to Ignore" : {
                      "displayName" : "Attributes to Ignore",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Ignore",
                      "sensitive" : false
                    },
                    "Attributes to Log" : {
                      "displayName" : "Attributes to Log",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Log",
                      "sensitive" : false
                    },
                    "attributes-to-log-regex" : {
                      "displayName" : "Attributes to Log by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-log-regex",
                      "sensitive" : false
                    },
                    "Log Payload" : {
                      "displayName" : "Log Payload",
                      "identifiesControllerService" : false,
                      "name" : "Log Payload",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ff0000"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{\n  \"data\": \"{\\\"some\\\":\\\"json\\\"}\"\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to add quotes here.\n",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "641d4572-55cc-3a61-8870-39e51536e989",
                  "name" : "Quote Escaped JSON",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 1296.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "$1",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "This processor sets the resource as an escaped string value for the \"data\" JSON field for the de-id REST request.\n\n{\n\t\"config\": \"an escaped JSON string with the masking config for the de-id service\",\n\t\"data\": [\n             \"a string with the resource to de-id, in this case the escaped JSON FHIR resource\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "a18cadae-7658-365e-be86-40547e1ed990",
                  "name" : "Prepare Request Body",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 1520.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "{\n\t\"config\": \"{\\\\\\\"rules\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"hash\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"HASH\\\\\\\"}]},{\\\\\\\"name\\\\\\\":\\\\\\\"date\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"DATETIME\\\\\\\",\\\\\\\"maskShiftDate\\\\\\\":true,\\\\\\\"maskShiftSeconds\\\\\\\":987678654}]},{\\\\\\\"name\\\\\\\":\\\\\\\"random\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"RANDOM\\\\\\\"}]},{\\\\\\\"name\\\\\\\":\\\\\\\"delete\\\\\\\",\\\\\\\"maskingProviders\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"NULL\\\\\\\"}]}],\\\\\\\"json\\\\\\\":{\\\\\\\"schemaType\\\\\\\":\\\\\\\"FHIR\\\\\\\",\\\\\\\"messageTypeKey\\\\\\\":\\\\\\\"resourceType\\\\\\\",\\\\\\\"messageTypes\\\\\\\":[\\\\\\\"Patient\\\\\\\",\\\\\\\"Observation\\\\\\\",\\\\\\\"Condition\\\\\\\",\\\\\\\"Procedure\\\\\\\"],\\\\\\\"maskingRules\\\\\\\":[{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/UUID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/city\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/district\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/line\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/postalCode\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/address/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/birthDate\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"date\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/city\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/district\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/line\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/postalCode\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/address/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/family\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/name/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/contact/telecom/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/deceasedDateTime\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/deviceInfo\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/name/family\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/name/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/federationNumber\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/given\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/assigner/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/assigner/reference\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"hash\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/coding/code\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/coding/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/type/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/identifier/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/coding/code\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/coding/display\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/maritalStatus/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/messageID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/ptpsIdentifier\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/ptpsVersion\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/requestID\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/telecom/value\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"random\\\\\\\"},{\\\\\\\"jsonPath\\\\\\\":\\\\\\\"/fhir/Patient/text\\\\\\\",\\\\\\\"rule\\\\\\\":\\\\\\\"delete\\\\\\\"}]}}\",\n\t\"data\": [\n\t    \"$1\"\n\t],\n\t\"schemaType\": \"FHIR\"\n}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "aff35a9e-d40c-3982-8487-ddd66f86af1c",
                  "name" : "REST API De-ID Request",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 1736.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "User-Agent" : "NiFi",
                    "Proxy Type" : "http",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Tenant" : "tenant",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{DEID_SERVICE_API_URL}",
                    "Content-Type" : "application/json",
                    "max-idle-connections" : "5",
                    "Accept" : "application/json",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "apikey",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false",
                    "Useragent" : "nifi"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "User-Agent" : {
                      "displayName" : "User-Agent",
                      "identifiesControllerService" : false,
                      "name" : "User-Agent",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Tenant" : {
                      "displayName" : "Tenant",
                      "identifiesControllerService" : false,
                      "name" : "Tenant",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "Accept" : {
                      "displayName" : "Accept",
                      "identifiesControllerService" : false,
                      "name" : "Accept",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The only de-identifiable elements in these resources may be the ones listed here, we can just drop them, instead of actually creating mask configurations and sending them through the De-ID Topic.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "b8c4938b-01a7-38c7-835b-6b5367419bb4",
                  "name" : "Drop Unnecessary Fields",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 856.0
                  },
                  "properties" : {
                    "jolt-spec" : "{\n    \"text\": \"\"\n}\n",
                    "jolt-transform" : "jolt-transform-remove",
                    "pretty_print" : "false",
                    "Transform Cache Size" : "1"
                  },
                  "propertyDescriptors" : {
                    "jolt-spec" : {
                      "displayName" : "Jolt Specification",
                      "identifiesControllerService" : false,
                      "name" : "jolt-spec",
                      "sensitive" : false
                    },
                    "jolt-transform" : {
                      "displayName" : "Jolt Transformation DSL",
                      "identifiesControllerService" : false,
                      "name" : "jolt-transform",
                      "sensitive" : false
                    },
                    "jolt-custom-class" : {
                      "displayName" : "Custom Transformation Class Name",
                      "identifiesControllerService" : false,
                      "name" : "jolt-custom-class",
                      "sensitive" : false
                    },
                    "jolt-custom-modules" : {
                      "displayName" : "Custom Module Directory",
                      "identifiesControllerService" : false,
                      "name" : "jolt-custom-modules",
                      "sensitive" : false
                    },
                    "pretty_print" : {
                      "displayName" : "Pretty Print",
                      "identifiesControllerService" : false,
                      "name" : "pretty_print",
                      "sensitive" : false
                    },
                    "Transform Cache Size" : {
                      "displayName" : "Transform Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "Transform Cache Size",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.JoltTransformJSON",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The Content Type out of the FHIR server is set to 'application/fhir+json', which is not recognized by NiFi as just JSON.\nThis processor updates the MIME type attribute so that the JSON can be viewed with the NiFi file viewer.\n\nIn passing, this processor also updates the `filename` attribute so it's no longer called patients.json instead it will be called patient.json.\n\nAdditionally, this processor deletes the patient JSON attribute, since the content should now be in a file.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "68d965a7-8dd7-3980-af95-937593a63aae",
                  "name" : "Extract New Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 2376.0
                  },
                  "properties" : {
                    "filename" : "patient.json",
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "mime.type" : "application/json",
                    "newPatientId" : "${Location:replaceAll('${invokehttp.request.url}/(.+)/_.*', '$1')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "filename" : {
                      "displayName" : "filename",
                      "identifiesControllerService" : false,
                      "name" : "filename",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "mime.type" : {
                      "displayName" : "mime.type",
                      "identifiesControllerService" : false,
                      "name" : "mime.type",
                      "sensitive" : false
                    },
                    "newPatientId" : {
                      "displayName" : "newPatientId",
                      "identifiesControllerService" : false,
                      "name" : "newPatientId",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "08617980-aa86-3549-8b85-59620203994c",
                  "name" : "Extract De-ID'd Patient",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 1944.0
                  },
                  "properties" : {
                    "Null Value Representation" : "empty string",
                    "JsonPath Expression" : "data"
                  },
                  "propertyDescriptors" : {
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "JsonPath Expression" : {
                      "displayName" : "JsonPath Expression",
                      "identifiesControllerService" : false,
                      "name" : "JsonPath Expression",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.SplitJson",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "898e6aa1-e79f-3671-bf4e-e45f67272d94",
                  "name" : "Save New Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 2600.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)(^.*$)",
                    "Replacement Value" : "${newPatientId}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "The De-ID REST API expects the FHIR resource to de-identify in the request to be a string containing JSON, not an actual JSON object. E.g.:\n\n{...\n \"data\": {\\\"some\\\":\\\"json\\\"}\n}\n\nInstead of:\n\n{...\n \"data\": { \"some\": \"json\"}\n}a\n\nThat is why we need to escape the quotes here",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "74fdcf56-ab48-3ecc-a11c-c99070cd26d7",
                  "identifier" : "153768b3-6754-36f8-9a4a-8642203e6d90",
                  "name" : "Escape Quotes",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : 1184.0,
                    "y" : 1080.0
                  },
                  "properties" : {
                    "Regular Expression" : "(?s)\\\"",
                    "Replacement Value" : "\\\\\\\"",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              }, {
                "comments" : "",
                "componentType" : "PROCESS_GROUP",
                "connections" : [ {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "233a7868-c0ca-3fd7-a6a6-8197c30a8cc9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "b798127e-560b-347a-bd7c-4ea4f4a65191",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "No Retry", "Retry", "Failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "f53eaec7-bd6b-3cc6-882f-37149fe216b8",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "c8bddeba-2686-3c27-9b0b-87d85662cfab",
                    "name" : "De-Identified FHIR Resource",
                    "type" : "OUTPUT_PORT"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "669bda1d-c40a-3d74-b554-d77a74a788ea",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "Response" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "f53eaec7-bd6b-3cc6-882f-37149fe216b8",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                    "name" : "Retrieve De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "35ad46c0-1d89-3001-a748-79ff0b41d042",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "e2391ebb-4b66-3bb9-b61e-584fcc5ff2d0",
                    "name" : "Set PatientId Attribute",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "233a7868-c0ca-3fd7-a6a6-8197c30a8cc9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "939cb5dc-a9cc-3cc1-a1cd-a72a0534fe3c",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                    "name" : "Retrieve De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "233a7868-c0ca-3fd7-a6a6-8197c30a8cc9",
                    "name" : "Error Log",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "3cafd679-a1ad-3b60-a361-24625a840e28",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "failure" ],
                  "source" : {
                    "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "c52b1b86-0839-3ab3-b1e2-8fb0d97b5a85",
                    "name" : "Replace Old Patient ID with De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "e2391ebb-4b66-3bb9-b61e-584fcc5ff2d0",
                    "name" : "Set PatientId Attribute",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "20189bea-25cf-3758-9147-5b6ce73a1507",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "matched" ],
                  "source" : {
                    "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "5f415ced-fb7e-36d5-8d65-c1fe91d4fc4d",
                    "name" : "Extract Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "f53eaec7-bd6b-3cc6-882f-37149fe216b8",
                    "name" : "Create FHIR De-ID'd Patient",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "88cd702e-6200-30e4-a944-8911a77dcfe6",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "c52b1b86-0839-3ab3-b1e2-8fb0d97b5a85",
                    "name" : "Replace Old Patient ID with De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "c52b1b86-0839-3ab3-b1e2-8fb0d97b5a85",
                    "name" : "Replace Old Patient ID with De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "737da1e5-4868-31fd-8036-8247ae49d495",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "success" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                    "name" : "Retrieve De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 10000,
                  "bends" : [ ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "5f415ced-fb7e-36d5-8d65-c1fe91d4fc4d",
                    "name" : "Extract Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "0 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "3e977ca6-b4d4-3b70-b436-9d3bcae66887",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "ebac9b73-6f3e-389e-b397-1889973464f0",
                    "name" : "FHIR Resource",
                    "type" : "INPUT_PORT"
                  },
                  "zIndex" : 0
                }, {
                  "backPressureDataSizeThreshold" : "1 GB",
                  "backPressureObjectThreshold" : 1000,
                  "bends" : [ {
                    "x" : -1048.4798941212532,
                    "y" : 2147.821165364701
                  }, {
                    "x" : -1136.0,
                    "y" : 2216.0
                  } ],
                  "componentType" : "CONNECTION",
                  "destination" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                    "name" : "Retrieve De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "flowFileExpiration" : "180 sec",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "609f4e12-69b7-3ff6-96ab-c2f9f3225a53",
                  "labelIndex" : 1,
                  "loadBalanceCompression" : "DO_NOT_COMPRESS",
                  "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
                  "name" : "",
                  "partitioningAttribute" : "",
                  "prioritizers" : [ ],
                  "selectedRelationships" : [ "not-found" ],
                  "source" : {
                    "comments" : "",
                    "groupId" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                    "id" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                    "name" : "Retrieve De-Identified Patient ID",
                    "type" : "PROCESSOR"
                  },
                  "zIndex" : 0
                } ],
                "controllerServices" : [ ],
                "flowFileConcurrency" : "UNBOUNDED",
                "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
                "funnels" : [ ],
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                "inputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "INPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "ebac9b73-6f3e-389e-b397-1889973464f0",
                  "name" : "FHIR Resource",
                  "position" : {
                    "x" : -896.0,
                    "y" : 1600.0
                  },
                  "type" : "INPUT_PORT"
                } ],
                "labels" : [ ],
                "name" : "De-Identify FHIR Resource",
                "outputPorts" : [ {
                  "allowRemoteAccess" : false,
                  "comments" : "",
                  "componentType" : "OUTPUT_PORT",
                  "concurrentlySchedulableTaskCount" : 1,
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "c8bddeba-2686-3c27-9b0b-87d85662cfab",
                  "name" : "De-Identified FHIR Resource",
                  "position" : {
                    "x" : -896.0,
                    "y" : 2696.0
                  },
                  "type" : "OUTPUT_PORT"
                } ],
                "parameterContextName" : "Clinical Ingestion De-Identification Parameter Context",
                "position" : {
                  "x" : 488.0,
                  "y" : 1920.0
                },
                "processGroups" : [ ],
                "processors" : [ {
                  "autoTerminatedRelationships" : [ "Original" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "f53eaec7-bd6b-3cc6-882f-37149fe216b8",
                  "name" : "Create FHIR De-ID'd Patient",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -952.0,
                    "y" : 2488.0
                  },
                  "properties" : {
                    "use-etag" : "false",
                    "Proxy Type" : "http",
                    "Basic Authentication Password" : "#{DEID_FHIR_PASSWORD}",
                    "Connection Timeout" : "5 secs",
                    "send-message-body" : "true",
                    "set-form-filename" : "true",
                    "Always Output Response" : "false",
                    "etag-max-cache-size" : "10MB",
                    "idle-timeout" : "5 mins",
                    "Use Chunked Encoding" : "false",
                    "Follow Redirects" : "True",
                    "Remote URL" : "#{DEID_FHIR_SERVER}/${resourceType}",
                    "Content-Type" : "application/fhir+json",
                    "max-idle-connections" : "5",
                    "Read Timeout" : "15 secs",
                    "Max Length To Put In Attribute" : "256",
                    "ignore-response-content" : "false",
                    "Digest Authentication" : "false",
                    "HTTP Method" : "POST",
                    "Add Response Headers to Request" : "false",
                    "Basic Authentication Username" : "#{DEID_FHIR_USER}",
                    "Include Date Header" : "True",
                    "Penalize on \"No Retry\"" : "false"
                  },
                  "propertyDescriptors" : {
                    "Proxy Host" : {
                      "displayName" : "Proxy Host",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Host",
                      "sensitive" : false
                    },
                    "Attributes to Send" : {
                      "displayName" : "Attributes to Send",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Send",
                      "sensitive" : false
                    },
                    "use-etag" : {
                      "displayName" : "Use HTTP ETag",
                      "identifiesControllerService" : false,
                      "name" : "use-etag",
                      "sensitive" : false
                    },
                    "proxy-configuration-service" : {
                      "displayName" : "Proxy Configuration Service",
                      "identifiesControllerService" : true,
                      "name" : "proxy-configuration-service",
                      "sensitive" : false
                    },
                    "Proxy Type" : {
                      "displayName" : "Proxy Type",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Type",
                      "sensitive" : false
                    },
                    "Basic Authentication Password" : {
                      "displayName" : "Basic Authentication Password",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Password",
                      "sensitive" : true
                    },
                    "Connection Timeout" : {
                      "displayName" : "Connection Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Connection Timeout",
                      "sensitive" : false
                    },
                    "send-message-body" : {
                      "displayName" : "Send Message Body",
                      "identifiesControllerService" : false,
                      "name" : "send-message-body",
                      "sensitive" : false
                    },
                    "set-form-filename" : {
                      "displayName" : "Set Flowfile Form Data File Name",
                      "identifiesControllerService" : false,
                      "name" : "set-form-filename",
                      "sensitive" : false
                    },
                    "Always Output Response" : {
                      "displayName" : "Always Output Response",
                      "identifiesControllerService" : false,
                      "name" : "Always Output Response",
                      "sensitive" : false
                    },
                    "etag-max-cache-size" : {
                      "displayName" : "Maximum ETag Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "etag-max-cache-size",
                      "sensitive" : false
                    },
                    "idle-timeout" : {
                      "displayName" : "Idle Timeout",
                      "identifiesControllerService" : false,
                      "name" : "idle-timeout",
                      "sensitive" : false
                    },
                    "Put Response Body In Attribute" : {
                      "displayName" : "Put Response Body In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Response Body In Attribute",
                      "sensitive" : false
                    },
                    "Use Chunked Encoding" : {
                      "displayName" : "Use Chunked Encoding",
                      "identifiesControllerService" : false,
                      "name" : "Use Chunked Encoding",
                      "sensitive" : false
                    },
                    "Follow Redirects" : {
                      "displayName" : "Follow Redirects",
                      "identifiesControllerService" : false,
                      "name" : "Follow Redirects",
                      "sensitive" : false
                    },
                    "Remote URL" : {
                      "displayName" : "Remote URL",
                      "identifiesControllerService" : false,
                      "name" : "Remote URL",
                      "sensitive" : false
                    },
                    "Content-Type" : {
                      "displayName" : "Content-Type",
                      "identifiesControllerService" : false,
                      "name" : "Content-Type",
                      "sensitive" : false
                    },
                    "form-body-form-name" : {
                      "displayName" : "Flowfile Form Data Name",
                      "identifiesControllerService" : false,
                      "name" : "form-body-form-name",
                      "sensitive" : false
                    },
                    "max-idle-connections" : {
                      "displayName" : "Max Idle Connections",
                      "identifiesControllerService" : false,
                      "name" : "max-idle-connections",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-user" : {
                      "displayName" : "Proxy Username",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-user",
                      "sensitive" : false
                    },
                    "Read Timeout" : {
                      "displayName" : "Read Timeout",
                      "identifiesControllerService" : false,
                      "name" : "Read Timeout",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "invokehttp-proxy-password" : {
                      "displayName" : "Proxy Password",
                      "identifiesControllerService" : false,
                      "name" : "invokehttp-proxy-password",
                      "sensitive" : true
                    },
                    "ignore-response-content" : {
                      "displayName" : "Ignore response's content",
                      "identifiesControllerService" : false,
                      "name" : "ignore-response-content",
                      "sensitive" : false
                    },
                    "Proxy Port" : {
                      "displayName" : "Proxy Port",
                      "identifiesControllerService" : false,
                      "name" : "Proxy Port",
                      "sensitive" : false
                    },
                    "SSL Context Service" : {
                      "displayName" : "SSL Context Service",
                      "identifiesControllerService" : true,
                      "name" : "SSL Context Service",
                      "sensitive" : false
                    },
                    "Digest Authentication" : {
                      "displayName" : "Use Digest Authentication",
                      "identifiesControllerService" : false,
                      "name" : "Digest Authentication",
                      "sensitive" : false
                    },
                    "HTTP Method" : {
                      "displayName" : "HTTP Method",
                      "identifiesControllerService" : false,
                      "name" : "HTTP Method",
                      "sensitive" : false
                    },
                    "Add Response Headers to Request" : {
                      "displayName" : "Add Response Headers to Request",
                      "identifiesControllerService" : false,
                      "name" : "Add Response Headers to Request",
                      "sensitive" : false
                    },
                    "Basic Authentication Username" : {
                      "displayName" : "Basic Authentication Username",
                      "identifiesControllerService" : false,
                      "name" : "Basic Authentication Username",
                      "sensitive" : false
                    },
                    "Include Date Header" : {
                      "displayName" : "Include Date Header",
                      "identifiesControllerService" : false,
                      "name" : "Include Date Header",
                      "sensitive" : false
                    },
                    "Penalize on \"No Retry\"" : {
                      "displayName" : "Penalize on \"No Retry\"",
                      "identifiesControllerService" : false,
                      "name" : "Penalize on \"No Retry\"",
                      "sensitive" : false
                    },
                    "Useragent" : {
                      "displayName" : "Useragent",
                      "identifiesControllerService" : false,
                      "name" : "Useragent",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.standard.InvokeHTTP",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 16,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "0cf2bd38-4185-3a7f-b387-feeb9c4a9f07",
                  "name" : "Retrieve De-Identified Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -952.0,
                    "y" : 2112.0
                  },
                  "properties" : {
                    "Cache Entry Identifier" : "${patientId}",
                    "Put Cache Value In Attribute" : "newPatientId",
                    "Distributed Cache Service" : "75e9f18c-ca7e-3ddc-8ef9-cbfa1e22c076",
                    "Max Length To Put In Attribute" : "256",
                    "Character Set" : "UTF-8"
                  },
                  "propertyDescriptors" : {
                    "Cache Entry Identifier" : {
                      "displayName" : "Cache Entry Identifier",
                      "identifiesControllerService" : false,
                      "name" : "Cache Entry Identifier",
                      "sensitive" : false
                    },
                    "Put Cache Value In Attribute" : {
                      "displayName" : "Put Cache Value In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Put Cache Value In Attribute",
                      "sensitive" : false
                    },
                    "Distributed Cache Service" : {
                      "displayName" : "Distributed Cache Service",
                      "identifiesControllerService" : true,
                      "name" : "Distributed Cache Service",
                      "sensitive" : false
                    },
                    "Max Length To Put In Attribute" : {
                      "displayName" : "Max Length To Put In Attribute",
                      "identifiesControllerService" : false,
                      "name" : "Max Length To Put In Attribute",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "1 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.FetchDistributedMapCache",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-update-attribute-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "e2391ebb-4b66-3bb9-b61e-584fcc5ff2d0",
                  "name" : "Set PatientId Attribute",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -952.0,
                    "y" : 1904.0
                  },
                  "properties" : {
                    "Store State" : "Do not store state",
                    "canonical-value-lookup-cache-size" : "100",
                    "patientId" : "${patientId:getDelimitedField(3,':')}"
                  },
                  "propertyDescriptors" : {
                    "Delete Attributes Expression" : {
                      "displayName" : "Delete Attributes Expression",
                      "identifiesControllerService" : false,
                      "name" : "Delete Attributes Expression",
                      "sensitive" : false
                    },
                    "Store State" : {
                      "displayName" : "Store State",
                      "identifiesControllerService" : false,
                      "name" : "Store State",
                      "sensitive" : false
                    },
                    "canonical-value-lookup-cache-size" : {
                      "displayName" : "Cache Value Lookup Cache Size",
                      "identifiesControllerService" : false,
                      "name" : "canonical-value-lookup-cache-size",
                      "sensitive" : false
                    },
                    "patientId" : {
                      "displayName" : "patientId",
                      "identifiesControllerService" : false,
                      "name" : "patientId",
                      "sensitive" : false
                    },
                    "Stateful Variables Initial Value" : {
                      "displayName" : "Stateful Variables Initial Value",
                      "identifiesControllerService" : false,
                      "name" : "Stateful Variables Initial Value",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : { },
                  "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "success" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "233a7868-c0ca-3fd7-a6a6-8197c30a8cc9",
                  "name" : "Error Log",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -320.0,
                    "y" : 2320.0
                  },
                  "properties" : {
                    "character-set" : "utf-8",
                    "Log Level" : "info",
                    "attributes-to-log-regex" : ".*",
                    "Log Payload" : "false"
                  },
                  "propertyDescriptors" : {
                    "Log prefix" : {
                      "displayName" : "Log prefix",
                      "identifiesControllerService" : false,
                      "name" : "Log prefix",
                      "sensitive" : false
                    },
                    "character-set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "character-set",
                      "sensitive" : false
                    },
                    "Log Level" : {
                      "displayName" : "Log Level",
                      "identifiesControllerService" : false,
                      "name" : "Log Level",
                      "sensitive" : false
                    },
                    "attributes-to-ignore-regex" : {
                      "displayName" : "Attributes to Ignore by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-ignore-regex",
                      "sensitive" : false
                    },
                    "Attributes to Ignore" : {
                      "displayName" : "Attributes to Ignore",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Ignore",
                      "sensitive" : false
                    },
                    "Attributes to Log" : {
                      "displayName" : "Attributes to Log",
                      "identifiesControllerService" : false,
                      "name" : "Attributes to Log",
                      "sensitive" : false
                    },
                    "attributes-to-log-regex" : {
                      "displayName" : "Attributes to Log by Regular Expression",
                      "identifiesControllerService" : false,
                      "name" : "attributes-to-log-regex",
                      "sensitive" : false
                    },
                    "Log Payload" : {
                      "displayName" : "Log Payload",
                      "identifiesControllerService" : false,
                      "name" : "Log Payload",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ff0000"
                  },
                  "type" : "org.apache.nifi.processors.standard.LogAttribute",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "This processor takes the resource (condition, observation, procedure) and replaces the subject reference to point to the new patient ID from the de-id FHIR server.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "c52b1b86-0839-3ab3-b1e2-8fb0d97b5a85",
                  "name" : "Replace Old Patient ID with De-Identified Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -952.0,
                    "y" : 2304.0
                  },
                  "properties" : {
                    "Regular Expression" : "${patientId}",
                    "Replacement Value" : "Patient/${newPatientId}",
                    "Evaluation Mode" : "Entire text",
                    "Line-by-Line Evaluation Mode" : "All",
                    "Character Set" : "UTF-8",
                    "Maximum Buffer Size" : "1 MB",
                    "Replacement Strategy" : "Regex Replace"
                  },
                  "propertyDescriptors" : {
                    "Regular Expression" : {
                      "displayName" : "Search Value",
                      "identifiesControllerService" : false,
                      "name" : "Regular Expression",
                      "sensitive" : false
                    },
                    "Replacement Value" : {
                      "displayName" : "Replacement Value",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Value",
                      "sensitive" : false
                    },
                    "Evaluation Mode" : {
                      "displayName" : "Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Evaluation Mode",
                      "sensitive" : false
                    },
                    "Line-by-Line Evaluation Mode" : {
                      "displayName" : "Line-by-Line Evaluation Mode",
                      "identifiesControllerService" : false,
                      "name" : "Line-by-Line Evaluation Mode",
                      "sensitive" : false
                    },
                    "Character Set" : {
                      "displayName" : "Character Set",
                      "identifiesControllerService" : false,
                      "name" : "Character Set",
                      "sensitive" : false
                    },
                    "Maximum Buffer Size" : {
                      "displayName" : "Maximum Buffer Size",
                      "identifiesControllerService" : false,
                      "name" : "Maximum Buffer Size",
                      "sensitive" : false
                    },
                    "Replacement Strategy" : {
                      "displayName" : "Replacement Strategy",
                      "identifiesControllerService" : false,
                      "name" : "Replacement Strategy",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.ReplaceText",
                  "yieldDuration" : "1 sec"
                }, {
                  "autoTerminatedRelationships" : [ "failure", "unmatched" ],
                  "bulletinLevel" : "WARN",
                  "bundle" : {
                    "artifact" : "nifi-standard-nar",
                    "group" : "org.apache.nifi",
                    "version" : "1.12.1"
                  },
                  "comments" : "Given a JSON FHIR resource, this processor extracts its ID and puts it in an attribute called resourceId.",
                  "componentType" : "PROCESSOR",
                  "concurrentlySchedulableTaskCount" : 1,
                  "executionNode" : "ALL",
                  "groupIdentifier" : "ba774d5e-d6b2-360f-a651-c7316f5ac540",
                  "identifier" : "5f415ced-fb7e-36d5-8d65-c1fe91d4fc4d",
                  "name" : "Extract Patient ID",
                  "penaltyDuration" : "30 sec",
                  "position" : {
                    "x" : -952.0,
                    "y" : 1704.0
                  },
                  "properties" : {
                    "Destination" : "flowfile-attribute",
                    "patientId" : "$.subject.reference",
                    "Return Type" : "auto-detect",
                    "Null Value Representation" : "empty string",
                    "Path Not Found Behavior" : "warn"
                  },
                  "propertyDescriptors" : {
                    "Destination" : {
                      "displayName" : "Destination",
                      "identifiesControllerService" : false,
                      "name" : "Destination",
                      "sensitive" : false
                    },
                    "patientId" : {
                      "displayName" : "patientId",
                      "identifiesControllerService" : false,
                      "name" : "patientId",
                      "sensitive" : false
                    },
                    "Return Type" : {
                      "displayName" : "Return Type",
                      "identifiesControllerService" : false,
                      "name" : "Return Type",
                      "sensitive" : false
                    },
                    "Null Value Representation" : {
                      "displayName" : "Null Value Representation",
                      "identifiesControllerService" : false,
                      "name" : "Null Value Representation",
                      "sensitive" : false
                    },
                    "Path Not Found Behavior" : {
                      "displayName" : "Path Not Found Behavior",
                      "identifiesControllerService" : false,
                      "name" : "Path Not Found Behavior",
                      "sensitive" : false
                    }
                  },
                  "runDurationMillis" : 0,
                  "scheduledState" : "ENABLED",
                  "schedulingPeriod" : "0 sec",
                  "schedulingStrategy" : "TIMER_DRIVEN",
                  "style" : {
                    "background-color" : "#ffffff"
                  },
                  "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
                  "yieldDuration" : "1 sec"
                } ],
                "remoteProcessGroups" : [ ],
                "variables" : { }
              } ],
              "processors" : [ {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-update-attribute-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "ae1b3eba-ee3b-3f3e-b06f-16dc7a82665a",
                "name" : "Set Fragment Count",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 832.0,
                  "y" : 1496.0
                },
                "properties" : {
                  "Store State" : "Do not store state",
                  "canonical-value-lookup-cache-size" : "100",
                  "fhirResourceCount" : "${fragment.count}"
                },
                "propertyDescriptors" : {
                  "Delete Attributes Expression" : {
                    "displayName" : "Delete Attributes Expression",
                    "identifiesControllerService" : false,
                    "name" : "Delete Attributes Expression",
                    "sensitive" : false
                  },
                  "Store State" : {
                    "displayName" : "Store State",
                    "identifiesControllerService" : false,
                    "name" : "Store State",
                    "sensitive" : false
                  },
                  "canonical-value-lookup-cache-size" : {
                    "displayName" : "Cache Value Lookup Cache Size",
                    "identifiesControllerService" : false,
                    "name" : "canonical-value-lookup-cache-size",
                    "sensitive" : false
                  },
                  "Stateful Variables Initial Value" : {
                    "displayName" : "Stateful Variables Initial Value",
                    "identifiesControllerService" : false,
                    "name" : "Stateful Variables Initial Value",
                    "sensitive" : false
                  },
                  "fhirResourceCount" : {
                    "displayName" : "fhirResourceCount",
                    "identifiesControllerService" : false,
                    "name" : "fhirResourceCount",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : { },
                "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
                "yieldDuration" : "1 sec"
              }, {
                "autoTerminatedRelationships" : [ ],
                "bulletinLevel" : "WARN",
                "bundle" : {
                  "artifact" : "nifi-standard-nar",
                  "group" : "org.apache.nifi",
                  "version" : "1.12.1"
                },
                "comments" : "",
                "componentType" : "PROCESSOR",
                "concurrentlySchedulableTaskCount" : 1,
                "executionNode" : "ALL",
                "groupIdentifier" : "52341366-df3c-3049-9cdb-0da2cccc4f35",
                "identifier" : "870540bc-b500-30cf-b8f5-f08ac4263521",
                "name" : "Route on Resource Type",
                "penaltyDuration" : "30 sec",
                "position" : {
                  "x" : 832.0,
                  "y" : 1696.0
                },
                "properties" : {
                  "Routing Strategy" : "Route to Property name",
                  "patients" : "${resourceType:equals(\"Patient\")}",
                  "others" : "${resourceType:matches(\"Procedure|Condition|Observation|MedicationRequest\")}"
                },
                "propertyDescriptors" : {
                  "Routing Strategy" : {
                    "displayName" : "Routing Strategy",
                    "identifiesControllerService" : false,
                    "name" : "Routing Strategy",
                    "sensitive" : false
                  },
                  "patients" : {
                    "displayName" : "patients",
                    "identifiesControllerService" : false,
                    "name" : "patients",
                    "sensitive" : false
                  },
                  "others" : {
                    "displayName" : "others",
                    "identifiesControllerService" : false,
                    "name" : "others",
                    "sensitive" : false
                  }
                },
                "runDurationMillis" : 0,
                "scheduledState" : "ENABLED",
                "schedulingPeriod" : "0 sec",
                "schedulingStrategy" : "TIMER_DRIVEN",
                "style" : {
                  "background-color" : "#ffffff"
                },
                "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
                "yieldDuration" : "1 sec"
              } ],
              "remoteProcessGroups" : [ ],
              "variables" : { }
            } ],
            "processors" : [ {
              "autoTerminatedRelationships" : [ "success" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "06e1e366-acb8-3920-8728-f7c6fdf90a02",
              "name" : "Notify Resource Complete",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 696.0,
                "y" : 1312.0
              },
              "properties" : {
                "signal-counter-delta" : "1",
                "distributed-cache-service" : "75e9f18c-ca7e-3ddc-8ef9-cbfa1e22c076",
                "signal-buffer-count" : "1",
                "release-signal-id" : "${requestId}",
                "signal-counter-name" : "default"
              },
              "propertyDescriptors" : {
                "signal-counter-delta" : {
                  "displayName" : "Signal Counter Delta",
                  "identifiesControllerService" : false,
                  "name" : "signal-counter-delta",
                  "sensitive" : false
                },
                "distributed-cache-service" : {
                  "displayName" : "Distributed Cache Service",
                  "identifiesControllerService" : true,
                  "name" : "distributed-cache-service",
                  "sensitive" : false
                },
                "signal-buffer-count" : {
                  "displayName" : "Signal Buffer Count",
                  "identifiesControllerService" : false,
                  "name" : "signal-buffer-count",
                  "sensitive" : false
                },
                "release-signal-id" : {
                  "displayName" : "Release Signal Identifier",
                  "identifiesControllerService" : false,
                  "name" : "release-signal-id",
                  "sensitive" : false
                },
                "signal-counter-name" : {
                  "displayName" : "Signal Counter Name",
                  "identifiesControllerService" : false,
                  "name" : "signal-counter-name",
                  "sensitive" : false
                },
                "attribute-cache-regex" : {
                  "displayName" : "Attribute Cache Regex",
                  "identifiesControllerService" : false,
                  "name" : "attribute-cache-regex",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.Notify",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "47803c62-6cde-353f-83ba-365bb97f5048",
              "name" : "Wait for all Resources to be Complete",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 696.0,
                "y" : 1800.0
              },
              "properties" : {
                "wait-buffer-count" : "1",
                "wait-mode" : "wait",
                "attribute-copy-mode" : "keeporiginal",
                "distributed-cache-service" : "75e9f18c-ca7e-3ddc-8ef9-cbfa1e22c076",
                "releasable-flowfile-count" : "1",
                "release-signal-id" : "${requestId}",
                "signal-counter-name" : "default",
                "expiration-duration" : "1 min",
                "target-signal-count" : "${fragment.count}"
              },
              "propertyDescriptors" : {
                "wait-buffer-count" : {
                  "displayName" : "Wait Buffer Count",
                  "identifiesControllerService" : false,
                  "name" : "wait-buffer-count",
                  "sensitive" : false
                },
                "wait-mode" : {
                  "displayName" : "Wait Mode",
                  "identifiesControllerService" : false,
                  "name" : "wait-mode",
                  "sensitive" : false
                },
                "attribute-copy-mode" : {
                  "displayName" : "Attribute Copy Mode",
                  "identifiesControllerService" : false,
                  "name" : "attribute-copy-mode",
                  "sensitive" : false
                },
                "distributed-cache-service" : {
                  "displayName" : "Distributed Cache Service",
                  "identifiesControllerService" : true,
                  "name" : "distributed-cache-service",
                  "sensitive" : false
                },
                "releasable-flowfile-count" : {
                  "displayName" : "Releasable FlowFile Count",
                  "identifiesControllerService" : false,
                  "name" : "releasable-flowfile-count",
                  "sensitive" : false
                },
                "release-signal-id" : {
                  "displayName" : "Release Signal Identifier",
                  "identifiesControllerService" : false,
                  "name" : "release-signal-id",
                  "sensitive" : false
                },
                "signal-counter-name" : {
                  "displayName" : "Signal Counter Name",
                  "identifiesControllerService" : false,
                  "name" : "signal-counter-name",
                  "sensitive" : false
                },
                "expiration-duration" : {
                  "displayName" : "Expiration Duration",
                  "identifiesControllerService" : false,
                  "name" : "expiration-duration",
                  "sensitive" : false
                },
                "target-signal-count" : {
                  "displayName" : "Target Signal Count",
                  "identifiesControllerService" : false,
                  "name" : "target-signal-count",
                  "sensitive" : false
                },
                "wait-penalty-duration" : {
                  "displayName" : "Wait Penalty Duration",
                  "identifiesControllerService" : false,
                  "name" : "wait-penalty-duration",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.Wait",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "e513b5d3-91de-3f2b-a568-d9be00c61384",
              "name" : "Set Fragment Count to 1",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1344.0,
                "y" : 824.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "fragment.count" : "1"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "fragment.count" : {
                  "displayName" : "fragment.count",
                  "identifiesControllerService" : false,
                  "name" : "fragment.count",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "45dd9602-d587-3d25-aa9d-a2a907c6c9f9",
              "name" : "Route On Resource Type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 688.0,
                "y" : 672.0
              },
              "properties" : {
                "Routing Strategy" : "Route to Property name",
                "bundle" : "${resourceType:equals('Bundle')}"
              },
              "propertyDescriptors" : {
                "Routing Strategy" : {
                  "displayName" : "Routing Strategy",
                  "identifiesControllerService" : false,
                  "name" : "Routing Strategy",
                  "sensitive" : false
                },
                "bundle" : {
                  "displayName" : "bundle",
                  "identifiesControllerService" : false,
                  "name" : "bundle",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "success" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "2bbc46e5-4303-38ea-b741-11c9e5bf9675",
              "name" : "Error Log",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1200.0,
                "y" : 2008.0
              },
              "properties" : {
                "character-set" : "utf-8",
                "Log Level" : "info",
                "attributes-to-log-regex" : ".*",
                "Log Payload" : "false"
              },
              "propertyDescriptors" : {
                "Log prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "Log prefix",
                  "sensitive" : false
                },
                "character-set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "character-set",
                  "sensitive" : false
                },
                "Log Level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "Log Level",
                  "sensitive" : false
                },
                "attributes-to-ignore-regex" : {
                  "displayName" : "Attributes to Ignore by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-ignore-regex",
                  "sensitive" : false
                },
                "Attributes to Ignore" : {
                  "displayName" : "Attributes to Ignore",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Ignore",
                  "sensitive" : false
                },
                "Attributes to Log" : {
                  "displayName" : "Attributes to Log",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Log",
                  "sensitive" : false
                },
                "attributes-to-log-regex" : {
                  "displayName" : "Attributes to Log by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-log-regex",
                  "sensitive" : false
                },
                "Log Payload" : {
                  "displayName" : "Log Payload",
                  "identifiesControllerService" : false,
                  "name" : "Log Payload",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : {
                "background-color" : "#ff0000"
              },
              "type" : "org.apache.nifi.processors.standard.LogAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "success" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "bd3e5bf4-80b8-3b56-b67e-0a60bf965a70",
              "name" : "Error Log",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 696.0,
                "y" : 1512.0
              },
              "properties" : {
                "character-set" : "utf-8",
                "Log Level" : "info",
                "attributes-to-log-regex" : ".*",
                "Log Payload" : "false"
              },
              "propertyDescriptors" : {
                "Log prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "Log prefix",
                  "sensitive" : false
                },
                "character-set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "character-set",
                  "sensitive" : false
                },
                "Log Level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "Log Level",
                  "sensitive" : false
                },
                "attributes-to-ignore-regex" : {
                  "displayName" : "Attributes to Ignore by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-ignore-regex",
                  "sensitive" : false
                },
                "Attributes to Ignore" : {
                  "displayName" : "Attributes to Ignore",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Ignore",
                  "sensitive" : false
                },
                "Attributes to Log" : {
                  "displayName" : "Attributes to Log",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Log",
                  "sensitive" : false
                },
                "attributes-to-log-regex" : {
                  "displayName" : "Attributes to Log by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-log-regex",
                  "sensitive" : false
                },
                "Log Payload" : {
                  "displayName" : "Log Payload",
                  "identifiesControllerService" : false,
                  "name" : "Log Payload",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : {
                "background-color" : "#ff0000"
              },
              "type" : "org.apache.nifi.processors.standard.LogAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ "success" ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "da6e6350-82c0-3b16-9789-9b9cbd398651",
              "name" : "Error Log",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 1312.0,
                "y" : 264.0
              },
              "properties" : {
                "character-set" : "utf-8",
                "Log Level" : "info",
                "attributes-to-log-regex" : ".*",
                "Log Payload" : "false"
              },
              "propertyDescriptors" : {
                "Log prefix" : {
                  "displayName" : "Log prefix",
                  "identifiesControllerService" : false,
                  "name" : "Log prefix",
                  "sensitive" : false
                },
                "character-set" : {
                  "displayName" : "Character Set",
                  "identifiesControllerService" : false,
                  "name" : "character-set",
                  "sensitive" : false
                },
                "Log Level" : {
                  "displayName" : "Log Level",
                  "identifiesControllerService" : false,
                  "name" : "Log Level",
                  "sensitive" : false
                },
                "attributes-to-ignore-regex" : {
                  "displayName" : "Attributes to Ignore by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-ignore-regex",
                  "sensitive" : false
                },
                "Attributes to Ignore" : {
                  "displayName" : "Attributes to Ignore",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Ignore",
                  "sensitive" : false
                },
                "Attributes to Log" : {
                  "displayName" : "Attributes to Log",
                  "identifiesControllerService" : false,
                  "name" : "Attributes to Log",
                  "sensitive" : false
                },
                "attributes-to-log-regex" : {
                  "displayName" : "Attributes to Log by Regular Expression",
                  "identifiesControllerService" : false,
                  "name" : "attributes-to-log-regex",
                  "sensitive" : false
                },
                "Log Payload" : {
                  "displayName" : "Log Payload",
                  "identifiesControllerService" : false,
                  "name" : "Log Payload",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : {
                "background-color" : "#ff0000"
              },
              "type" : "org.apache.nifi.processors.standard.LogAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-update-attribute-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "7ae5f3ae-8cd0-3356-919b-2a0c955673a5",
              "name" : "Set RequestId from Input ResourceId",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 688.0,
                "y" : 464.0
              },
              "properties" : {
                "Store State" : "Do not store state",
                "canonical-value-lookup-cache-size" : "100",
                "requestId" : "${resourceId}"
              },
              "propertyDescriptors" : {
                "Delete Attributes Expression" : {
                  "displayName" : "Delete Attributes Expression",
                  "identifiesControllerService" : false,
                  "name" : "Delete Attributes Expression",
                  "sensitive" : false
                },
                "Store State" : {
                  "displayName" : "Store State",
                  "identifiesControllerService" : false,
                  "name" : "Store State",
                  "sensitive" : false
                },
                "canonical-value-lookup-cache-size" : {
                  "displayName" : "Cache Value Lookup Cache Size",
                  "identifiesControllerService" : false,
                  "name" : "canonical-value-lookup-cache-size",
                  "sensitive" : false
                },
                "requestId" : {
                  "displayName" : "requestId",
                  "identifiesControllerService" : false,
                  "name" : "requestId",
                  "sensitive" : false
                },
                "Stateful Variables Initial Value" : {
                  "displayName" : "Stateful Variables Initial Value",
                  "identifiesControllerService" : false,
                  "name" : "Stateful Variables Initial Value",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
              "yieldDuration" : "1 sec"
            }, {
              "autoTerminatedRelationships" : [ ],
              "bulletinLevel" : "WARN",
              "bundle" : {
                "artifact" : "nifi-standard-nar",
                "group" : "org.apache.nifi",
                "version" : "1.12.1"
              },
              "comments" : "",
              "componentType" : "PROCESSOR",
              "concurrentlySchedulableTaskCount" : 1,
              "executionNode" : "ALL",
              "groupIdentifier" : "f79c8f51-9cbf-384f-b142-0459f1c1f734",
              "identifier" : "8d584c19-2547-3b58-bb64-36d399cc6e32",
              "name" : "Retrieve Resource Id and Type",
              "penaltyDuration" : "30 sec",
              "position" : {
                "x" : 688.0,
                "y" : 256.0
              },
              "properties" : {
                "Destination" : "flowfile-attribute",
                "resourceId" : "$.id",
                "Return Type" : "auto-detect",
                "Null Value Representation" : "empty string",
                "Path Not Found Behavior" : "ignore",
                "resourceType" : "$.resourceType"
              },
              "propertyDescriptors" : {
                "Destination" : {
                  "displayName" : "Destination",
                  "identifiesControllerService" : false,
                  "name" : "Destination",
                  "sensitive" : false
                },
                "resourceId" : {
                  "displayName" : "resourceId",
                  "identifiesControllerService" : false,
                  "name" : "resourceId",
                  "sensitive" : false
                },
                "Return Type" : {
                  "displayName" : "Return Type",
                  "identifiesControllerService" : false,
                  "name" : "Return Type",
                  "sensitive" : false
                },
                "Null Value Representation" : {
                  "displayName" : "Null Value Representation",
                  "identifiesControllerService" : false,
                  "name" : "Null Value Representation",
                  "sensitive" : false
                },
                "Path Not Found Behavior" : {
                  "displayName" : "Path Not Found Behavior",
                  "identifiesControllerService" : false,
                  "name" : "Path Not Found Behavior",
                  "sensitive" : false
                },
                "resourceType" : {
                  "displayName" : "resourceType",
                  "identifiesControllerService" : false,
                  "name" : "resourceType",
                  "sensitive" : false
                }
              },
              "runDurationMillis" : 0,
              "scheduledState" : "ENABLED",
              "schedulingPeriod" : "0 sec",
              "schedulingStrategy" : "TIMER_DRIVEN",
              "style" : { },
              "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
              "yieldDuration" : "1 sec"
            } ],
            "remoteProcessGroups" : [ ],
            "variables" : { }
          } ],
          "processors" : [ {
            "autoTerminatedRelationships" : [ ],
            "bulletinLevel" : "WARN",
            "bundle" : {
              "artifact" : "nifi-update-attribute-nar",
              "group" : "org.apache.nifi",
              "version" : "1.12.1"
            },
            "comments" : "",
            "componentType" : "PROCESSOR",
            "concurrentlySchedulableTaskCount" : 1,
            "executionNode" : "ALL",
            "groupIdentifier" : "4b630a89-4510-32aa-a41e-f8a709b23a03",
            "identifier" : "b4692cac-b10f-3339-b529-93b7b7f144d3",
            "name" : "Update DeidentifyData to Enriched",
            "penaltyDuration" : "30 sec",
            "position" : {
              "x" : 760.0,
              "y" : -72.0
            },
            "properties" : {
              "Store State" : "Do not store state",
              "canonical-value-lookup-cache-size" : "100",
              "DeidentifyData" : "Enriched"
            },
            "propertyDescriptors" : {
              "Delete Attributes Expression" : {
                "displayName" : "Delete Attributes Expression",
                "identifiesControllerService" : false,
                "name" : "Delete Attributes Expression",
                "sensitive" : false
              },
              "Store State" : {
                "displayName" : "Store State",
                "identifiesControllerService" : false,
                "name" : "Store State",
                "sensitive" : false
              },
              "canonical-value-lookup-cache-size" : {
                "displayName" : "Cache Value Lookup Cache Size",
                "identifiesControllerService" : false,
                "name" : "canonical-value-lookup-cache-size",
                "sensitive" : false
              },
              "DeidentifyData" : {
                "displayName" : "DeidentifyData",
                "identifiesControllerService" : false,
                "name" : "DeidentifyData",
                "sensitive" : false
              },
              "Stateful Variables Initial Value" : {
                "displayName" : "Stateful Variables Initial Value",
                "identifiesControllerService" : false,
                "name" : "Stateful Variables Initial Value",
                "sensitive" : false
              }
            },
            "runDurationMillis" : 0,
            "scheduledState" : "ENABLED",
            "schedulingPeriod" : "0 sec",
            "schedulingStrategy" : "TIMER_DRIVEN",
            "style" : { },
            "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
            "yieldDuration" : "1 sec"
          } ],
          "remoteProcessGroups" : [ ],
          "variables" : { }
        } ],
        "processors" : [ {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "999b58a8-6ff0-3451-a03d-36fc062cdb87",
          "name" : "RouteOnAttribute",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 296.0,
            "y" : 792.0
          },
          "properties" : {
            "Routing Strategy" : "Route to Property name",
            "DeidentifyData" : "${DeidentifyData:notNull():and(${DeidentifyData:isEmpty():not()}):and(${DeidentifyData:equals(\"true\")})}"
          },
          "propertyDescriptors" : {
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            },
            "DeidentifyData" : {
              "displayName" : "DeidentifyData",
              "identifiesControllerService" : false,
              "name" : "DeidentifyData",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        }, {
          "autoTerminatedRelationships" : [ ],
          "bulletinLevel" : "WARN",
          "bundle" : {
            "artifact" : "nifi-standard-nar",
            "group" : "org.apache.nifi",
            "version" : "1.12.1"
          },
          "comments" : "",
          "componentType" : "PROCESSOR",
          "concurrentlySchedulableTaskCount" : 1,
          "executionNode" : "ALL",
          "groupIdentifier" : "f4e80f2a-342c-3b86-b664-ed656db16ed4",
          "identifier" : "6c9d141e-6742-33b2-a97a-895439a69c86",
          "name" : "RouteOnAttribute",
          "penaltyDuration" : "30 sec",
          "position" : {
            "x" : 296.0,
            "y" : 1088.0
          },
          "properties" : {
            "ResolveTerminology" : "${ResolveTerminology:notNull():and(${ResolveTerminology:isEmpty():not()}):and(${ResolveTerminology:equals(\"true\")})}",
            "Routing Strategy" : "Route to Property name"
          },
          "propertyDescriptors" : {
            "ResolveTerminology" : {
              "displayName" : "ResolveTerminology",
              "identifiesControllerService" : false,
              "name" : "ResolveTerminology",
              "sensitive" : false
            },
            "Routing Strategy" : {
              "displayName" : "Routing Strategy",
              "identifiesControllerService" : false,
              "name" : "Routing Strategy",
              "sensitive" : false
            }
          },
          "runDurationMillis" : 0,
          "scheduledState" : "ENABLED",
          "schedulingPeriod" : "0 sec",
          "schedulingStrategy" : "TIMER_DRIVEN",
          "style" : { },
          "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
          "yieldDuration" : "1 sec"
        } ],
        "remoteProcessGroups" : [ ],
        "variables" : { }
      },
      "flowEncodingVersion" : "1.0",
      "parameterContexts" : {
        "Clinical Ingestion Kafka Parameter Context" : {
          "name" : "Clinical Ingestion Kafka Parameter Context",
          "parameters" : [ {
            "description" : "A unique group identifier used by Kafka to assure that messages consumed from topic belong to this process.",
            "name" : "kafka.consumer.group",
            "sensitive" : false,
            "value" : "ClinicalIngestionGroup"
          }, {
            "description" : "The URL locations of kafka brokers to be watched for incoming messages.  Do not include protocol (https://) in the list.",
            "name" : "kafka.brokers",
            "sensitive" : false,
            "value" : "tcp-client:80"
          }, {
            "description" : "The username used to authenticate with kafka.  Usually this is set to \"token\" and an apikey is used for the password.",
            "name" : "kafka.auth.user",
            "sensitive" : false,
            "value" : "token"
          }, {
            "description" : "The password used by kafka for authentication. This may contain an apikey instead of password, in which case kafka.auth.user should be set to \"topic\"",
            "name" : "kafka.auth.password",
            "sensitive" : true
          }, {
            "description" : "The name of the kafka topic this flow will watch for new data to consume.",
            "name" : "kafka.topic.in",
            "sensitive" : false,
            "value" : "clinical.ingestion.topic"
          }, {
            "description" : "",
            "name" : "outgoingBatchId",
            "sensitive" : false,
            "value" : "Batch###"
          }, {
            "description" : "",
            "name" : "Password",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "SASL Mechanism",
            "sensitive" : false,
            "value" : ""
          } ]
        },
        "Clinical Ingestion De-Identification Parameter Context" : {
          "name" : "Clinical Ingestion De-Identification Parameter Context",
          "parameters" : [ {
            "description" : "",
            "name" : "DEID_SERVICE_API_URL",
            "sensitive" : false,
            "value" : "http://deid-server-http/api/v1/deidentification"
          }, {
            "description" : "",
            "name" : "DEID_APIKEY",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "DEID_FHIR_SERVER",
            "sensitive" : false,
            "value" : "http://fhir-deid/fhir-server/api/v4"
          }, {
            "description" : "",
            "name" : "DEID_FHIR_PASSWORD",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "Basic Authentication Password",
            "sensitive" : true
          }, {
            "description" : "",
            "name" : "DEID_FHIR_USER",
            "sensitive" : false,
            "value" : "fhiruser"
          } ]
        },
        "Clinical Ingestion FHIR Parameter Context" : {
          "name" : "Clinical Ingestion FHIR Parameter Context",
          "parameters" : [ {
            "description" : "The port to listen for FHIR Resources posted to this nifi instance to consume by this pipeline",
            "name" : "FHIR_LISTEN_PORT",
            "sensitive" : false,
            "value" : "7001"
          }, {
            "description" : "The password for the username specified by FHIR_User. This will be used to access the specified FHIR server.",
            "name" : "FHIR_UserPwd",
            "sensitive" : true
          }, {
            "description" : "This username for the FHIR server used for this flow.",
            "name" : "FHIR_User",
            "sensitive" : false,
            "value" : "fhiruser"
          }, {
            "description" : "The URL for the FHIR server used by this flow.",
            "name" : "FHIR_URL",
            "sensitive" : false,
            "value" : "http://fhir-server/fhir-server/api/v4/"
          } ]
        }
      }
    }
  }
}